{"version":3,"sources":["../node_modules/ogl/src/math/functions/Vec3Func.js","../node_modules/ogl/src/math/Vec3.js","../node_modules/ogl/src/core/Geometry.js","../node_modules/ogl/src/core/Program.js","../node_modules/ogl/src/core/Renderer.js","../node_modules/ogl/src/math/functions/Vec4Func.js","../node_modules/ogl/src/math/functions/QuatFunc.js","../node_modules/ogl/src/math/Quat.js","../node_modules/ogl/src/math/functions/Mat4Func.js","../node_modules/ogl/src/math/Mat4.js","../node_modules/ogl/src/math/functions/EulerFunc.js","../node_modules/ogl/src/math/Euler.js","../node_modules/ogl/src/core/Transform.js","../node_modules/ogl/src/core/Camera.js","../node_modules/ogl/src/math/functions/Mat3Func.js","../node_modules/ogl/src/math/Mat3.js","../node_modules/ogl/src/core/Mesh.js","../node_modules/ogl/src/core/Texture.js","../node_modules/ogl/src/core/RenderTarget.js","../node_modules/ogl/src/math/functions/ColorFunc.js","../node_modules/ogl/src/math/Color.js","../node_modules/ogl/src/math/functions/Vec2Func.js","../node_modules/ogl/src/math/Vec2.js","../node_modules/ogl/src/math/Vec4.js","../node_modules/ogl/src/extras/Plane.js","../node_modules/ogl/src/extras/Box.js","../node_modules/ogl/src/extras/Sphere.js","../node_modules/ogl/src/extras/Cylinder.js","../node_modules/ogl/src/extras/Triangle.js","../node_modules/ogl/src/extras/Torus.js","../node_modules/ogl/src/extras/Orbit.js","../node_modules/ogl/src/extras/Raycast.js","../node_modules/ogl/src/extras/Curve.js","../node_modules/ogl/src/extras/Post.js","../node_modules/ogl/src/extras/Animation.js","../node_modules/ogl/src/extras/Skin.js","../node_modules/ogl/src/extras/Text.js","../node_modules/ogl/src/extras/NormalProgram.js","../node_modules/ogl/src/extras/Flowmap.js","../node_modules/ogl/src/extras/GPGPU.js","../node_modules/ogl/src/extras/Polyline.js","../node_modules/ogl/src/extras/Shadow.js","../node_modules/ogl/src/extras/KTXTexture.js","../node_modules/ogl/src/extras/TextureLoader.js","../node_modules/ogl/src/extras/GLTFAnimation.js","../node_modules/ogl/src/extras/GLTFSkin.js","../node_modules/ogl/src/extras/GLTFLoader.js","../node_modules/ogl/src/index.mjs","../node_modules/gsap/gsap-core.js","../node_modules/gsap/CSSPlugin.js","../node_modules/gsap/index.js","../node_modules/tweakpane/dist/tweakpane.js","../node_modules/colorthief/dist/color-thief.mjs","shaders/effect.vertex.glsl","shaders/effect.fragment.glsl","app.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["EPSILON","length","a","x","y","z","Math","sqrt","copy","out","set","add","b","subtract","multiply","divide","scale","distance","squaredDistance","squaredLength","negate","inverse","normalize","len","dot","cross","ax","ay","az","bx","by","bz","lerp","t","transformMat4","m","w","scaleRotateMat4","transformMat3","transformQuat","q","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","angle","tempA","tempB","cosine","PI","acos","exactEquals","Vec3","Array","constructor","v","Vec3Func","va","vb","sub","squaredLen","equals","applyMatrix4","mat4","scaleRotateMatrix4","applyQuaternion","clone","fromArray","o","toArray","transformDirection","tempVec3","ID","ATTR_ID","isBoundsWarned","Geometry","gl","attributes","canvas","console","error","id","VAOs","drawRange","start","count","instancedCount","renderer","bindVertexArray","currentGeometry","glState","state","key","addAttribute","attr","size","type","data","Float32Array","FLOAT","Uint16Array","UNSIGNED_SHORT","UNSIGNED_INT","target","ELEMENT_ARRAY_BUFFER","ARRAY_BUFFER","normalized","stride","offset","byteLength","divisor","instanced","needsUpdate","buffer","createBuffer","updateAttribute","isInstanced","warn","min","index","max","boundBuffer","bindBuffer","bufferData","STATIC_DRAW","setIndex","value","setDrawRange","setInstancedCount","createVAO","program","attributeOrder","createVertexArray","bindAttributes","attributeLocations","forEach","location","name","numLoc","i","vertexAttribPointer","enableVertexAttribArray","vertexAttribDivisor","draw","mode","TRIANGLES","drawElementsInstanced","drawArraysInstanced","drawElements","drawArrays","getPosition","position","computeBoundingBox","array","bounds","center","radius","Infinity","l","computeBoundingSphere","maxRadiusSq","remove","deleteVertexArray","deleteBuffer","arrayCacheF32","Program","vertex","fragment","uniforms","transparent","cullFace","BACK","frontFace","CCW","depthTest","depthWrite","depthFunc","LESS","blendFunc","blendEquation","src","premultipliedAlpha","setBlendFunc","ONE","ONE_MINUS_SRC_ALPHA","SRC_ALPHA","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderInfoLog","addLineNumbers","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteShader","uniformLocations","Map","numUniforms","ACTIVE_UNIFORMS","uIndex","uniform","getActiveUniform","getUniformLocation","split","match","uniformName","isStructArray","structIndex","Number","structProperty","isNaN","isStruct","locations","numAttribs","ACTIVE_ATTRIBUTES","aIndex","attribute","getActiveAttrib","getAttribLocation","join","dst","srcAlpha","dstAlpha","setBlendEquation","modeRGB","modeAlpha","applyState","enable","DEPTH_TEST","disable","CULL_FACE","BLEND","setCullFace","setFrontFace","setDepthMask","setDepthFunc","use","flipFaces","textureUnit","programActive","currentProgram","useProgram","activeUniform","undefined","texture","update","setUniform","textureUnits","push","CW","deleteProgram","flatten","setValue","get","slice","arraysEqual","setArray","uniform1fv","uniform1f","uniform2fv","uniform3fv","uniform4fv","uniform1iv","uniform1i","uniform2iv","uniform3iv","uniform4iv","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","string","lines","arrayLen","valueLen","warnCount","message","Renderer","document","createElement","width","height","dpr","alpha","depth","stencil","antialias","preserveDrawingBuffer","powerPreference","autoClear","webgl","color","getContext","isWebgl2","setSize","ZERO","FUNC_ADD","depthMask","premultiplyAlpha","flipY","unpackAlignment","framebuffer","viewport","activeTextureUnit","extensions","getExtension","drawBuffers","parameters","maxTextureUnits","getParameter","MAX_COMBINED_TEXTURE_IMAGE_UNITS","maxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","Object","assign","style","setViewport","blendFuncSeparate","blendEquationSeparate","activeTexture","TEXTURE0","bindFramebuffer","FRAMEBUFFER","extension","webgl2Func","extFunc","bind","sortOpaque","renderOrder","zDepth","sortTransparent","sortUI","getRenderList","scene","camera","frustumCull","sort","renderList","updateFrustum","traverse","node","visible","frustumCulled","frustumIntersectsMesh","opaque","ui","worldMatrix","getTranslation","projectionViewMatrix","concat","render","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","updateMatrixWorld","aw","identity","setAxisAngle","axis","rad","s","sin","cos","bw","rotateX","rotateY","rotateZ","slerp","omega","cosom","sinom","scale0","scale1","invert","a0","a1","a2","a3","invDot","conjugate","fromMat3","fTrace","fRoot","j","k","fromEuler","euler","order","sx","cx","sy","cy","sz","cz","vec4","Quat","onChange","QuatFunc","qA","qB","fromMatrix3","matrix3","fromAxisAngle","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","transpose","a01","a02","a03","a12","a13","a23","a00","a10","a11","a20","a21","a22","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","determinant","b0","b1","b2","b3","translate","rotate","hypot","c","b12","b20","b21","b22","abs","mat","getScaling","getMaxScaleOnAxis","getRotation","temp","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","fromRotationTranslationScale","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","fromQuat","yx","zx","zy","perspective","fovy","aspect","near","far","f","tan","nf","ortho","left","right","bottom","top","lr","bt","targetTo","eye","up","eyex","eyey","eyez","upx","upy","upz","z0","z1","x0","x1","multiplyScalar","Mat4","Mat4Func","ma","mb","fromPerspective","fov","fromOrthogonal","fromQuaternion","setPosition","compose","pos","lookAt","fromRotationMatrix","asin","atan2","tmpMat4","Euler","reorder","EulerFunc","Transform","parent","children","matrix","matrixAutoUpdate","quaternion","rotation","setParent","notifyParent","removeChild","addChild","child","notifyChild","indexOf","splice","force","updateMatrix","worldMatrixNeedsUpdate","callback","decompose","tempMat4","tempVec3a","tempVec3b","Camera","zoom","projectionMatrix","viewMatrix","worldPosition","orthographic","project","unproject","frustum","constant","invLen","geometry","frustumIntersectsSphere","normal","plane","fromMat4","normalFromMat4","projection","Mat3","Mat3Func","fromMatrix4","fromBasis","vec3a","vec3b","vec3c","getNormalMatrix","Mesh","modelViewMatrix","normalMatrix","beforeRenderCallbacks","afterRenderCallbacks","onBeforeRender","onAfterRender","mesh","modelMatrix","cameraPosition","emptyPixel","Uint8Array","isPowerOf2","Texture","image","TEXTURE_2D","UNSIGNED_BYTE","format","RGBA","internalFormat","wrapS","CLAMP_TO_EDGE","wrapT","generateMipmaps","minFilter","NEAREST_MIPMAP_LINEAR","LINEAR","magFilter","anisotropy","level","createTexture","store","REPEAT","bindTexture","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","TEXTURE_CUBE_MAP","texImage2D","TEXTURE_CUBE_MAP_POSITIVE_X","ArrayBuffer","isView","isCompressedTexture","compressedTexImage2D","generateMipmap","onUpdate","RenderTarget","depthTexture","createFramebuffer","textures","framebufferTexture2D","COLOR_ATTACHMENT0","NEAREST","DEPTH_COMPONENT","DEPTH_COMPONENT16","DEPTH_ATTACHMENT","depthBuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","framebufferRenderbuffer","stencilBuffer","STENCIL_INDEX8","STENCIL_ATTACHMENT","depthStencilBuffer","DEPTH_STENCIL","DEPTH_STENCIL_ATTACHMENT","NAMES","black","white","red","green","blue","fuchsia","cyan","yellow","orange","hexToRGB","hex","rgb","exec","parseInt","numberToRGB","num","parseColor","arguments","toLowerCase","Color","isArray","ColorFunc","r","g","transformMat2","transformMat2d","Vec2","Vec2Func","applyMatrix3","mat3","Vec4","Vec4Func","Plane","widthSegments","heightSegments","wSegs","hSegs","numIndices","uv","Uint32Array","buildPlane","u","uDir","vDir","ii","io","segW","segH","iy","ix","d","Box","depthSegments","dSegs","Sphere","ceil","phiStart","phiLength","thetaStart","thetaLength","pStart","pLength","tStart","tLength","iv","te","grid","n","vRow","Cylinder","radiusTop","radiusBottom","radialSegments","openEnded","rSegs","numCaps","indexArray","addHeight","addCap","slope","indexRow","theta","sinTheta","cosTheta","isTop","sign","centerIndex","Triangle","Torus","tube","tubularSegments","arc","vertices","normals","uvs","indices","idx","STATE","NONE","ROTATE","DOLLY","PAN","DOLLY_PAN","tempVec2a","tempVec2b","Orbit","object","element","enabled","ease","inertia","enableRotate","rotateSpeed","autoRotate","autoRotateSpeed","enableZoom","zoomSpeed","enablePan","panSpeed","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","minDistance","maxDistance","sphericalDelta","phi","sphericalTarget","spherical","panDelta","handleAutoRotate","sinPhiRadius","forcePosition","rotateStart","panStart","dollyStart","mouseButtons","ORBIT","ZOOM","getZoomScale","pow","panLeft","panUp","pan","deltaX","deltaY","el","body","targetDistance","clientHeight","dolly","dollyScale","handleMoveRotate","handleMouseMoveDolly","e","clientX","clientY","handleMovePan","handleTouchStartDollyPan","dx","touches","pageX","dy","pageY","handleTouchMoveDollyPan","onMouseDown","button","window","addEventListener","onMouseMove","onMouseUp","removeEventListener","onMouseWheel","stopPropagation","preventDefault","onTouchStart","onTouchMove","onTouchEnd","onContextMenu","addHandlers","passive","tempVec2c","tempVec3c","tempVec3d","tempVec3e","tempVec3f","tempVec3g","tempVec3h","tempVec3i","tempVec3j","tempVec3k","Raycast","origin","direction","castMouse","mouse","intersectBounds","meshes","output","invWorldMat4","hits","localMaxDistance","localDistance","raycast","intersectSphere","intersectBox","hit","localPoint","point","intersectMeshes","includeUV","includeNormal","closestFaceNormal","faceNormal","barycoord","uvA","uvB","uvC","closestA","closestB","closestC","end","ai","bi","ci","intersectTriangle","localFaceNormal","localNormal","getBarycoord","sphere","ray","tca","d2","radius2","thc","t0","t1","box","tmin","tmax","tYmin","tYmax","tZmin","tZmax","invdirx","invdiry","invdirz","backfaceCulling","edge1","edge2","diff","DdN","DdQxE2","DdE1xQ","QdN","v0","v1","v2","dot00","dot01","dot02","dot11","dot12","denom","invDenom","CATMULLROM","CUBICBEZIER","QUADRATICBEZIER","_a0","_a1","_a2","_a3","getCtrlPoint","points","last","getQuadraticBezierPoint","p0","c0","p1","ret","getCubicBezierPoint","c1","Curve","divisions","_getQuadraticBezierPoints","p","_getCubicBezierPoints","_getCatmullRomPoints","pop","getPoints","Post","targetOnly","options","passes","fbo","read","write","swap","resize","addPass","defaultVertex","defaultFragment","textureUniform","pass","floor","enabledPasses","filter","prevPos","prevRot","prevScl","nextPos","nextRot","nextScl","Animation","objects","elapsed","weight","duration","frames","totalWeight","isSet","floorFrame","blend","prevKey","nextKey","Skin","rig","createBones","createBoneTexture","animations","boneTexture","boneTextureSize","root","bones","bone","bindPose","bindInverse","log","LN2","boneMatrices","RGBA32F","addAnimation","animation","total","Text","font","text","align","letterSpacing","lineHeight","wordSpacing","wordBreak","_this","glyphs","buffers","fontHeight","baseline","newline","whitespace","parseFont","createGeometry","chars","char","common","base","replace","numChars","layout","cursor","wordCursor","wordWidth","line","newLine","maxTimes","test","glyph","prevGlyph","kern","getKernPairOffset","advance","xadvance","numGlyphs","populateBuffers","texW","scaleW","texH","scaleH","lineIndex","xoffset","yoffset","h","uw","vh","numLines","map","id1","id2","kernings","first","second","amount","NormalProgram","Flowmap","falloff","dissipation","mask","createFBOs","velocity","initProgram","HALF_FLOAT","HALF_FLOAT_OES","RGBA16F","tMap","uFalloff","uAlpha","uDissipation","uAspect","uMouse","uVelocity","GPGPU","initialData","dataLength","coords","floatArray","tmp","Polyline","prev","next","side","ind","updateGeometry","uResolution","resolution","uDPR","uThickness","thickness","uColor","uMiter","miter","Shadow","light","depthProgram","castMeshes","receive","cast","uniformProjection","uniformView","uniformTexture","colorProgram","isForceVisibility","KTXTexture","parseBuffer","ktx","KhronosTextureContainer","mipmaps","glInternalFormat","numberOfMipmapLevels","idCheck","BYTES_PER_ELEMENT","head","DataView","littleEndian","getUint32","glType","numberOfFaces","bytesOfKeyValueData","levelSize","Int32Array","face","cache","supportedExtensions","TextureLoader","load","support","getSupportedExtensions","ext","prop","includes","cacheID","loaded","loadKTX","loadImage","pvrtc","s3tc","etc","etc1","astc","detectWebP","fetch","then","res","arrayBuffer","decodeImage","imgBmp","powerOfTwo","close","clearCache","toDataURL","log2","Promise","resolve","img","Image","crossOrigin","isChrome","navigator","userAgent","createImageBitmap","onload","imageOrientation","tmpVec3A","tmpVec3B","tmpVec3C","tmpVec3D","tmpQuatA","tmpQuatB","tmpQuatC","tmpQuatD","GLTFAnimation","loop","startTime","reduce","times","endTime","transform","interpolation","values","prevIndex","findIndex","nextIndex","prevVal","prevTan","nextTan","nextVal","cubicSplineInterpolate","t2","t3","s2","s3","s0","s1","GLTFSkin","skeleton","joints","updateUniforms","_worldMatrix","TYPE_ARRAY","Int16Array","TYPE_SIZE","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","ATTRIBUTES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","TRANSFORMS","translation","GLTFLoader","dir","desc","parseDesc","parse","asset","version","loadBuffers","bufferViews","parseBufferViews","images","parseImages","parseTextures","materials","parseMaterials","skins","parseSkins","parseMeshes","nodes","parseNodes","populateSkins","parseAnimations","scenes","parseScenes","json","glb","unpackGLB","header","Error","jsonChunkHeader","jsonByteOffset","jsonByteLength","jsonText","TextDecoder","decode","JSON","binaryChunkHeader","binaryByteOffset","binaryByteLength","binary","resolveURI","uri","all","primitives","accessors","bufferView","isAttribute","componentType","mimeType","bufferIndex","byteOffset","byteStride","extras","TypeArray","elementBytes","originalBuffer","bufferViewIndex","blob","Blob","URL","createObjectURL","ready","sampler","samplerIndex","source","sourceIndex","samplers","pbrMetallicRoughness","normalTexture","occlusionTexture","emissiveTexture","emissiveFactor","alphaMode","alphaCutoff","doubleSided","baseColorFactor","baseColorTexture","metallicFactor","roughnessFactor","metallicRoughnessTexture","inverseBindMatrices","parseAccessor","weights","meshIndex","numInstances","skinIndex","skin","parsePrimitives","material","materialIndex","targets","gltfMaterial","sparse","bufferByteOffset","componentOffset","componentStride","isInterleaved","newData","isFirstInstance","instanceCount","instanceMatrix","childIndex","joint","channels","input","inputIndex","outputIndex","nodeIndex","path","nodesIndices","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","create","__proto__","_config","autoSleep","force3D","nullTargetWarn","units","_defaults","overwrite","delay","_suppressOverwrites","_bigNum","_tinyNum","_2PI","_HALF_PI","_gsID","_sqrt","_cos","_sin","_isString","_isFunction","_isNumber","_isUndefined","_isObject","_isNotFalse","_windowExists","_isFuncOrString","_isTypedArray","_isArray","_strictNumExp","_numExp","_numWithUnitExp","_complexStringNumExp","_relExp","_delimitedValueExp","_unitExp","_globalTimeline","_win","_coreInitted","_doc","_globals","_installScope","_coreReady","_install","scope","_merge","gsap","_missingPlugin","property","_warn","suppress","_addGlobal","obj","_emptyFunc","_reservedProps","_lazyTweens","_lazyLookup","_lastRenderedFrame","_plugins","_effects","_nextGCFrame","_harnessPlugins","_callbackNames","_harness","harnessPlugin","_gsap","harness","targetTest","GSCache","_getCache","_getProperty","getAttribute","_forEachName","names","func","_round","round","_arrayContainsAny","toSearch","toFind","_lazyRender","tween","_lazy","_lazySafeRender","time","suppressEvents","_numericIfPossible","parseFloat","trim","_passThrough","_setDefaults","defaults","_setKeyframeDefaults","toMerge","_mergeDeep","_copyExcluding","excluding","_inheritDefaults","vars","keyframes","inherit","_dp","_arraysMatch","_addLinkedListItem","firstProp","lastProp","sortBy","_prev","_next","_removeLinkedListItem","_removeFromParent","onlyIfParentHasAutoRemove","autoRemoveChildren","_act","_uncache","_end","_dur","_start","_dirty","_recacheAncestors","totalDuration","_hasNoPausedAncestors","_ts","_elapsedCycleDuration","_repeat","_animationCycle","_tTime","_rDelay","tTime","cycleDuration","whole","_parentToChildTotalTime","parentTime","_tDur","_setEnd","_rts","_alignPlayhead","totalTime","smoothChildTiming","_time","_postAddChecks","timeline","_initted","rawTime","_clamp","_zTime","_addToTimeline","skipChecks","_parsePosition","_delay","timeScale","_sort","_isFromOrFromStart","_recent","_scrollTrigger","trigger","ScrollTrigger","_attemptInitTween","_initTween","_pt","lazy","_ticker","frame","_parentPlayheadIsBeforeStart","_ref","_lock","_ref2","_renderZeroDurationTween","prevRatio","ratio","repeatDelay","pt","iteration","prevIteration","_yoyo","repeatRefresh","invalidate","_from","_startAt","_onUpdate","_callback","_prom","_findNextPauseTween","prevTime","_first","_last","_setDuration","skipUncache","leavePlayhead","repeat","dur","totalProgress","_onUpdateTotalDuration","Timeline","_zeroPosition","percentAnimation","labels","recent","clippedDuration","isPercent","charAt","substr","_createTweenType","params","isLegacy","varsIndex","irVars","immediateRender","runBackwards","startAt","Tween","_conditionalReturn","getUnit","clamp","_slice","_isArrayLike","nonEmpty","nodeType","_flatten","ar","leaveStrings","accumulator","_accumulator","apply","_wake","call","querySelectorAll","selector","current","nativeElement","shuffle","random","distribute","each","_parseEase","from","isDecimal","ratios","ratioX","ratioY","edges","distances","originX","originY","wrapAt","getBoundingClientRect","_invertEase","_roundModifier","raw","snap","snapTo","is2D","increment","closest","roundingIncrement","returnFunction","pipe","_len","functions","_key","unitize","unit","mapRange","_wrapArray","wrapper","wrap","range","wrapYoyo","_replaceRandom","nums","inMin","inMax","outMin","outMax","inRange","outRange","interpolate","progress","mutate","isString","master","interpolators","il","_addPropTween","_renderPropTweens","_getLabelInDirection","fromTime","backward","label","executeLazyFirst","callbackScope","_interrupt","scrollTrigger","kill","_quickTween","_createPlugin","config","isFunc","Plugin","init","_props","instanceDefaults","_killPropTweensOf","modifier","_addPluginModifier","rawVars","statics","getSetter","_getSetter","aliases","register","toUpperCase","PropTween","_255","_colorLookup","aqua","lime","silver","maroon","teal","navy","olive","gray","purple","pink","_hue","m1","m2","splitColor","toHSL","forceAlpha","wasHSL","_colorOrderData","_colorExp","_formatColors","orderMatchData","result","colors","shell","shift","RegExp","_hslExp","_colorStringFilter","combined","lastIndex","_tickerActive","_getTime","Date","now","_lagThreshold","_adjustedLag","_startTime","_lastUpdate","_gap","_nextTime","_listeners","_id","_req","_raf","_self","_delta","_i","_tick","manual","overlap","dispatch","tick","deltaRatio","fps","wake","gsapVersions","GreenSockGlobals","requestAnimationFrame","sleep","setTimeout","cancelAnimationFrame","clearTimeout","lagSmoothing","threshold","adjustedLag","_fps","_easeMap","_customEaseExp","_quotesExp","_parseObjectInString","val","parsedVal","lastIndexOf","_valueInParentheses","open","nested","substring","_configEaseFromString","_CE","_propagateYoyoEase","isYoyo","yoyoEase","_ease","_yEase","defaultEase","_insertEase","easeIn","easeOut","easeInOut","lowercaseName","_easeInOutFromOut","_configElastic","amplitude","period","p2","p3","_configBack","overshoot","power","Linear","easeNone","none","n1","n2","n3","SteppedEase","steps","immediateStart","yoyo","_proto","_totalTime","_ptLookup","_pTime","_ps","paused","includeRepeats","wrapRepeats","globalTime","seek","restart","includeDelay","play","reversed","reverse","pause","atTime","resume","isActive","eventCallback","onFulfilled","_resolve","_then","_Animation","sortChildren","_proto2","to","fromTo","fromVars","toVars","delayedCall","staggerTo","stagger","onCompleteAll","onCompleteAllParams","onComplete","onCompleteParams","staggerFrom","staggerFromTo","tDur","crossingStart","prevPaused","pauseTween","prevStart","rewinding","doesWrap","onRepeat","_hasPause","_forcing","adjustedTime","_this2","addLabel","getChildren","tweens","timelines","ignoreBeforeTime","getById","removeLabel","killTweensOf","_totalTime2","addPause","removePause","props","onlyActive","getTweensOf","_overwritingTween","parsedTargets","isGlobalTime","_targets","tweenTo","tl","_vars","_onStart","onStart","onStartParams","initted","tweenFromTo","fromPosition","toPosition","nextLabel","afterTime","previousLabel","beforeTime","currentLabel","shiftChildren","adjustLabels","includeLabels","updateRoot","_addComplexStringPropTween","setter","stringFilter","funcParam","_renderComplexString","matchIndex","startNums","endNum","chunk","startNum","hasRandom","fp","currentValue","parsedStart","_setterPlain","_setterFuncWithParam","_setterFunc","_renderBoolean","_renderPlain","_processVars","_parseFuncOrString","_checkPlugin","plugin","ptLookup","priority","onUpdateParams","autoRevert","prevStartAt","fullTargets","autoOverwrite","_overwrite","cleanVars","hasPriority","gsData","harnessVars","overwritten","_op","_sortPropTweensByPriority","_onInit","_addAliasesToVars","propertyAliases","_staggerTweenProps","_staggerPropsToSkip","_Animation2","skipInherit","_this3","_this3$vars","curTarget","staggerFunc","staggerVarsToMerge","_proto3","killingTargets","propTweenLookup","firstPT","overwrittenProps","curLookup","curOverwriteProps","onReverseComplete","onReverseCompleteParams","_setterAttribute","setAttribute","hasNonDependentRemaining","op","dep","_setterWithModifier","mSet","mt","pt2","pr","change","_proto4","TweenMax","TweenLite","TimelineLite","TimelineMax","registerPlugin","_len2","args","_key2","getProperty","uncache","getter","quickSetter","setters","isTweening","registerEffect","_ref3","effect","plugins","extendTimeline","pluginName","registerEase","parseEase","exportRoot","includeDelayedCalls","utils","install","effects","ticker","globalTimeline","core","globals","getCache","suppressOverwrites","_getPluginPropTween","_addModifiers","modifiers","_buildModifierPlugin","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","Sine","Expo","Circ","_docElement","_pluginInitted","_tempDiv","_tempDivStyler","_recentSetterPlugin","_transformProps","_RAD2DEG","_DEG2RAD","_atan2","_capsExp","_horizontalExp","_complexExp","_propertyAliases","autoAlpha","_renderCSSProp","_renderPropWithEnd","_renderCSSPropWithBeginning","_renderRoundedCSSProp","_renderNonTweeningValue","_renderNonTweeningValueOnlyAtEnd","_setterCSSStyle","_setterCSSProp","setProperty","_setterTransform","_setterScale","scaleX","scaleY","_setterScaleWithRender","renderTransform","_setterTransformWithRender","_transformProp","_transformOriginProp","_supports3D","_createElement","ns","createElementNS","_getComputedProperty","skipPrefixFallback","cs","getComputedStyle","getPropertyValue","_checkPropPrefix","_prefixes","preferPrefix","_initCore","documentElement","cssText","_getBBoxHack","swapIfPossible","svg","ownerSVGElement","oldParent","parentNode","oldSibling","nextSibling","oldCSS","bbox","appendChild","display","getBBox","_gsapBBox","insertBefore","_getAttributeFallbacks","attributesArray","hasAttribute","_getBBox","_isSVG","getCTM","_removeProperty","removeProperty","removeAttribute","_addNonTweeningPT","beginning","onlySetAtEnd","_nonConvertibleUnits","deg","turn","_convertToUnit","curValue","curUnit","horizontal","isRootSVG","tagName","measureProperty","toPixels","toPercent","px","isSVG","_get","_parseTransform","_firstTwoOnly","zOrigin","_specialProps","_tweenComplexCSSString","startValues","startValue","endValue","endUnit","startUnit","relative","endValues","_keywordToPercent","_convertKeywordsToPercentages","_renderClearProps","clearTransforms","clearProps","_identity2DMatrix","_rotationalProperties","_isNullTransform","_getComputedTransformMatrixAsArray","matrixString","_getMatrix","force2D","addedToDOM","baseVal","consolidate","offsetParent","_applySVGOrigin","originIsAbsolute","smooth","matrixArray","pluginToAddPropTweensTo","xOriginOld","xOrigin","yOriginOld","yOrigin","xOffsetOld","xOffset","yOffsetOld","yOffset","tx","ty","originSplit","invertedScaleX","rotationX","rotationY","skewX","skewY","a42","a43","forceCSS","xPercent","offsetWidth","yPercent","offsetHeight","transformPerspective","_renderSVGTransforms","_renderCSSTransforms","_renderNon3DTransforms","_addPxTranslate","_zeroDeg","_zeroPx","_endParenthesis","transforms","use3D","_addRotationalPropTween","cap","finalValue","_assign","_addRawTransformPTs","startCache","exclude","endCache","CSSPlugin","specialProp","isTransformRelated","transformPropTween","parseTransform","smoothOrigin","autoRound","checkPrefix","positionAndScale","others","gsapWithCSS","TweenMaxWithCSS","naturalOrder","sum","peek","debug","r1","r2","g1","g2","histo","vboxes","vbox","volume","_volume","_count_set","_count","avg","_avg","contains","gval","bval","palette","nearest","forcebw","quantize","context","naturalWidth","naturalHeight","drawImage","getImageData","getColor","getPalette","colorCount","quality","isInteger","getColorFromUrl","XMLHttpRequest","responseType","status","response","String","fromCharCode","btoa","send","getColorAsync","module","exports","WebGLCarousel","querySelector","texturesURLs","isAnimating","currentTextureIndex","texture0","texture1","buttons","slides","_createRenderer","_loadTextures","_createScene","_createDebugPanel","_addListeners","_onResize","uTime","uTexture0Size","uTexture1Size","clearColor","require","uProgress","clientWidth","uGridSize","uTexture0","uTexture1","uNoiseTexture","noiseTexture","uBackground0","primary","secondary","uBackground1","uAnimationDirection","url","_loadTexture","colorThief","ColorThief","pane","Pane","addInput","step","_onButtonClick","currentTarget","dataset","nextTextureIndex","currentSlide","currentSlideTitle","currentSlideCopy","nextSlide","nextSlideTitle","nextSlideCopy","opacity","app","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","event","handled","assets","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","getElementById","stackTrace","innerText","innerHTML","getParents","modules","parents","Function","deps","cached","some","cb"],"mappings":"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;;;;;ACv4CA;;AACA;;AACA,IAAIU,WAAW,GAAG3vB,eAAK6hB,cAAL,CAAoBoN,oBAApB,KAAkCjvB,cAApD;AAAA,IACI;AACJ4vB,eAAe,GAAGD,WAAW,CAACrM,IAAZ,CAAiBlZ,KAFnC;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","file":"app.c328ef1a.js","sourceRoot":"..\\src","sourcesContent":["const EPSILON = 0.000001;\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    return out;\n}\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nexport function set(out, x, y, z) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    return out;\n}\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    return out;\n}\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function multiply(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    out[2] = a[2] * b[2];\n    return out;\n}\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function divide(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    out[2] = a[2] / b[2];\n    return out;\n}\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nexport function scale(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nexport function distance(a, b) {\n    let x = b[0] - a[0];\n    let y = b[1] - a[1];\n    let z = b[2] - a[2];\n    return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nexport function squaredDistance(a, b) {\n    let x = b[0] - a[0];\n    let y = b[1] - a[1];\n    let z = b[2] - a[2];\n    return x * x + y * y + z * z;\n}\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nexport function squaredLength(a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    return x * x + y * y + z * z;\n}\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nexport function negate(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    return out;\n}\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\nexport function inverse(out, a) {\n    out[0] = 1.0 / a[0];\n    out[1] = 1.0 / a[1];\n    out[2] = 1.0 / a[2];\n    return out;\n}\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nexport function normalize(out, a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    let len = x * x + y * y + z * z;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n    }\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n    return out;\n}\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nexport function cross(out, a, b) {\n    let ax = a[0],\n        ay = a[1],\n        az = a[2];\n    let bx = b[0],\n        by = b[1],\n        bz = b[2];\n\n    out[0] = ay * bz - az * by;\n    out[1] = az * bx - ax * bz;\n    out[2] = ax * by - ay * bx;\n    return out;\n}\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec3} out\n */\nexport function lerp(out, a, b, t) {\n    let ax = a[0];\n    let ay = a[1];\n    let az = a[2];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    return out;\n}\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nexport function transformMat4(out, a, m) {\n    let x = a[0],\n        y = a[1],\n        z = a[2];\n    let w = m[3] * x + m[7] * y + m[11] * z + m[15];\n    w = w || 1.0;\n    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n    return out;\n}\n\n/**\n * Same as above but doesn't apply translation.\n * Useful for rays.\n */\nexport function scaleRotateMat4(out, a, m) {\n    let x = a[0],\n        y = a[1],\n        z = a[2];\n    let w = m[3] * x + m[7] * y + m[11] * z + m[15];\n    w = w || 1.0;\n    out[0] = (m[0] * x + m[4] * y + m[8] * z) / w;\n    out[1] = (m[1] * x + m[5] * y + m[9] * z) / w;\n    out[2] = (m[2] * x + m[6] * y + m[10] * z) / w;\n    return out;\n}\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nexport function transformMat3(out, a, m) {\n    let x = a[0],\n        y = a[1],\n        z = a[2];\n    out[0] = x * m[0] + y * m[3] + z * m[6];\n    out[1] = x * m[1] + y * m[4] + z * m[7];\n    out[2] = x * m[2] + y * m[5] + z * m[8];\n    return out;\n}\n\n/**\n * Transforms the vec3 with a quat\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nexport function transformQuat(out, a, q) {\n    // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n\n    let x = a[0],\n        y = a[1],\n        z = a[2];\n    let qx = q[0],\n        qy = q[1],\n        qz = q[2],\n        qw = q[3];\n\n    let uvx = qy * z - qz * y;\n    let uvy = qz * x - qx * z;\n    let uvz = qx * y - qy * x;\n\n    let uuvx = qy * uvz - qz * uvy;\n    let uuvy = qz * uvx - qx * uvz;\n    let uuvz = qx * uvy - qy * uvx;\n\n    let w2 = qw * 2;\n    uvx *= w2;\n    uvy *= w2;\n    uvz *= w2;\n\n    uuvx *= 2;\n    uuvy *= 2;\n    uuvz *= 2;\n\n    out[0] = x + uvx + uuvx;\n    out[1] = y + uvy + uuvy;\n    out[2] = z + uvz + uuvz;\n    return out;\n}\n\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\nexport const angle = (function () {\n    const tempA = [0, 0, 0];\n    const tempB = [0, 0, 0];\n\n    return function (a, b) {\n        copy(tempA, a);\n        copy(tempB, b);\n\n        normalize(tempA, tempA);\n        normalize(tempB, tempB);\n\n        let cosine = dot(tempA, tempB);\n\n        if (cosine > 1.0) {\n            return 0;\n        } else if (cosine < -1.0) {\n            return Math.PI;\n        } else {\n            return Math.acos(cosine);\n        }\n    };\n})();\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n","import * as Vec3Func from './functions/Vec3Func.js';\n\nexport class Vec3 extends Array {\n    constructor(x = 0, y = x, z = x) {\n        super(x, y, z);\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    set x(v) {\n        this[0] = v;\n    }\n\n    set y(v) {\n        this[1] = v;\n    }\n\n    set z(v) {\n        this[2] = v;\n    }\n\n    set(x, y = x, z = x) {\n        if (x.length) return this.copy(x);\n        Vec3Func.set(this, x, y, z);\n        return this;\n    }\n\n    copy(v) {\n        Vec3Func.copy(this, v);\n        return this;\n    }\n\n    add(va, vb) {\n        if (vb) Vec3Func.add(this, va, vb);\n        else Vec3Func.add(this, this, va);\n        return this;\n    }\n\n    sub(va, vb) {\n        if (vb) Vec3Func.subtract(this, va, vb);\n        else Vec3Func.subtract(this, this, va);\n        return this;\n    }\n\n    multiply(v) {\n        if (v.length) Vec3Func.multiply(this, this, v);\n        else Vec3Func.scale(this, this, v);\n        return this;\n    }\n\n    divide(v) {\n        if (v.length) Vec3Func.divide(this, this, v);\n        else Vec3Func.scale(this, this, 1 / v);\n        return this;\n    }\n\n    inverse(v = this) {\n        Vec3Func.inverse(this, v);\n        return this;\n    }\n\n    // Can't use 'length' as Array.prototype uses it\n    len() {\n        return Vec3Func.length(this);\n    }\n\n    distance(v) {\n        if (v) return Vec3Func.distance(this, v);\n        else return Vec3Func.length(this);\n    }\n\n    squaredLen() {\n        return Vec3Func.squaredLength(this);\n    }\n\n    squaredDistance(v) {\n        if (v) return Vec3Func.squaredDistance(this, v);\n        else return Vec3Func.squaredLength(this);\n    }\n\n    negate(v = this) {\n        Vec3Func.negate(this, v);\n        return this;\n    }\n\n    cross(va, vb) {\n        if (vb) Vec3Func.cross(this, va, vb);\n        else Vec3Func.cross(this, this, va);\n        return this;\n    }\n\n    scale(v) {\n        Vec3Func.scale(this, this, v);\n        return this;\n    }\n\n    normalize() {\n        Vec3Func.normalize(this, this);\n        return this;\n    }\n\n    dot(v) {\n        return Vec3Func.dot(this, v);\n    }\n\n    equals(v) {\n        return Vec3Func.exactEquals(this, v);\n    }\n\n    applyMatrix4(mat4) {\n        Vec3Func.transformMat4(this, this, mat4);\n        return this;\n    }\n\n    scaleRotateMatrix4(mat4) {\n        Vec3Func.scaleRotateMat4(this, this, mat4);\n        return this;\n    }\n\n    applyQuaternion(q) {\n        Vec3Func.transformQuat(this, this, q);\n        return this;\n    }\n\n    angle(v) {\n        return Vec3Func.angle(this, v);\n    }\n\n    lerp(v, t) {\n        Vec3Func.lerp(this, this, v, t);\n        return this;\n    }\n\n    clone() {\n        return new Vec3(this[0], this[1], this[2]);\n    }\n\n    fromArray(a, o = 0) {\n        this[0] = a[o];\n        this[1] = a[o + 1];\n        this[2] = a[o + 2];\n        return this;\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        a[o + 2] = this[2];\n        return a;\n    }\n\n    transformDirection(mat4) {\n        const x = this[0];\n        const y = this[1];\n        const z = this[2];\n\n        this[0] = mat4[0] * x + mat4[4] * y + mat4[8] * z;\n        this[1] = mat4[1] * x + mat4[5] * y + mat4[9] * z;\n        this[2] = mat4[2] * x + mat4[6] * y + mat4[10] * z;\n\n        return this.normalize();\n    }\n}\n","// attribute params\n// {\n//     data - typed array eg UInt16Array for indices, Float32Array\n//     size - int default 1\n//     instanced - default null. Pass divisor amount\n//     type - gl enum default gl.UNSIGNED_SHORT for 'index', gl.FLOAT for others\n//     normalized - boolean default false\n\n//     buffer - gl buffer, if buffer exists, don't need to provide data\n//     stride - default 0 - for when passing in buffer\n//     offset - default 0 - for when passing in buffer\n//     count - default null - for when passing in buffer\n//     min - array - for when passing in buffer\n//     max - array - for when passing in buffer\n// }\n\n// TODO: fit in transform feedback\n// TODO: when would I disableVertexAttribArray ?\n// TODO: use offset/stride if exists\n\nimport { Vec3 } from '../math/Vec3.js';\n\nconst tempVec3 = new Vec3();\n\nlet ID = 1;\nlet ATTR_ID = 1;\n\n// To stop inifinite warnings\nlet isBoundsWarned = false;\n\nexport class Geometry {\n    constructor(gl, attributes = {}) {\n        if (!gl.canvas) console.error('gl not passed as first argument to Geometry');\n        this.gl = gl;\n        this.attributes = attributes;\n        this.id = ID++;\n\n        // Store one VAO per program attribute locations order\n        this.VAOs = {};\n\n        this.drawRange = { start: 0, count: 0 };\n        this.instancedCount = 0;\n\n        // Unbind current VAO so that new buffers don't get added to active mesh\n        this.gl.renderer.bindVertexArray(null);\n        this.gl.renderer.currentGeometry = null;\n\n        // Alias for state store to avoid redundant calls for global state\n        this.glState = this.gl.renderer.state;\n\n        // create the buffers\n        for (let key in attributes) {\n            this.addAttribute(key, attributes[key]);\n        }\n    }\n\n    addAttribute(key, attr) {\n        this.attributes[key] = attr;\n\n        // Set options\n        attr.id = ATTR_ID++; // TODO: currently unused, remove?\n        attr.size = attr.size || 1;\n        attr.type =\n            attr.type ||\n            (attr.data.constructor === Float32Array\n                ? this.gl.FLOAT\n                : attr.data.constructor === Uint16Array\n                ? this.gl.UNSIGNED_SHORT\n                : this.gl.UNSIGNED_INT); // Uint32Array\n        attr.target = key === 'index' ? this.gl.ELEMENT_ARRAY_BUFFER : this.gl.ARRAY_BUFFER;\n        attr.normalized = attr.normalized || false;\n        attr.stride = attr.stride || 0;\n        attr.offset = attr.offset || 0;\n        attr.count = attr.count || (attr.stride ? attr.data.byteLength / attr.stride : attr.data.length / attr.size);\n        attr.divisor = attr.instanced || 0;\n        attr.needsUpdate = false;\n\n        if (!attr.buffer) {\n            attr.buffer = this.gl.createBuffer();\n\n            // Push data to buffer\n            this.updateAttribute(attr);\n        }\n\n        // Update geometry counts. If indexed, ignore regular attributes\n        if (attr.divisor) {\n            this.isInstanced = true;\n            if (this.instancedCount && this.instancedCount !== attr.count * attr.divisor) {\n                console.warn('geometry has multiple instanced buffers of different length');\n                return (this.instancedCount = Math.min(this.instancedCount, attr.count * attr.divisor));\n            }\n            this.instancedCount = attr.count * attr.divisor;\n        } else if (key === 'index') {\n            this.drawRange.count = attr.count;\n        } else if (!this.attributes.index) {\n            this.drawRange.count = Math.max(this.drawRange.count, attr.count);\n        }\n    }\n\n    updateAttribute(attr) {\n        if (this.glState.boundBuffer !== attr.buffer) {\n            this.gl.bindBuffer(attr.target, attr.buffer);\n            this.glState.boundBuffer = attr.buffer;\n        }\n        this.gl.bufferData(attr.target, attr.data, this.gl.STATIC_DRAW);\n        attr.needsUpdate = false;\n    }\n\n    setIndex(value) {\n        this.addAttribute('index', value);\n    }\n\n    setDrawRange(start, count) {\n        this.drawRange.start = start;\n        this.drawRange.count = count;\n    }\n\n    setInstancedCount(value) {\n        this.instancedCount = value;\n    }\n\n    createVAO(program) {\n        this.VAOs[program.attributeOrder] = this.gl.renderer.createVertexArray();\n        this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\n        this.bindAttributes(program);\n    }\n\n    bindAttributes(program) {\n        // Link all attributes to program using gl.vertexAttribPointer\n        program.attributeLocations.forEach((location, { name, type }) => {\n            // If geometry missing a required shader attribute\n            if (!this.attributes[name]) {\n                console.warn(`active attribute ${name} not being supplied`);\n                return;\n            }\n\n            const attr = this.attributes[name];\n\n            this.gl.bindBuffer(attr.target, attr.buffer);\n            this.glState.boundBuffer = attr.buffer;\n\n            // For matrix attributes, buffer needs to be defined per column\n            let numLoc = 1;\n            if (type === 35674) numLoc = 2; // mat2\n            if (type === 35675) numLoc = 3; // mat3\n            if (type === 35676) numLoc = 4; // mat4\n\n            const size = attr.size / numLoc;\n            const stride = numLoc === 1 ? 0 : numLoc * numLoc * numLoc;\n            const offset = numLoc === 1 ? 0 : numLoc * numLoc;\n\n            for (let i = 0; i < numLoc; i++) {\n                this.gl.vertexAttribPointer(location + i, size, attr.type, attr.normalized, attr.stride + stride, attr.offset + i * offset);\n                this.gl.enableVertexAttribArray(location + i);\n\n                // For instanced attributes, divisor needs to be set.\n                // For firefox, need to set back to 0 if non-instanced drawn after instanced. Else won't render\n                this.gl.renderer.vertexAttribDivisor(location + i, attr.divisor);\n            }\n        });\n\n        // Bind indices if geometry indexed\n        if (this.attributes.index) this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.attributes.index.buffer);\n    }\n\n    draw({ program, mode = this.gl.TRIANGLES }) {\n        if (this.gl.renderer.currentGeometry !== `${this.id}_${program.attributeOrder}`) {\n            if (!this.VAOs[program.attributeOrder]) this.createVAO(program);\n            this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\n            this.gl.renderer.currentGeometry = `${this.id}_${program.attributeOrder}`;\n        }\n\n        // Check if any attributes need updating\n        program.attributeLocations.forEach((location, { name }) => {\n            const attr = this.attributes[name];\n            if (attr.needsUpdate) this.updateAttribute(attr);\n        });\n\n        if (this.isInstanced) {\n            if (this.attributes.index) {\n                this.gl.renderer.drawElementsInstanced(\n                    mode,\n                    this.drawRange.count,\n                    this.attributes.index.type,\n                    this.attributes.index.offset + this.drawRange.start * 2,\n                    this.instancedCount\n                );\n            } else {\n                this.gl.renderer.drawArraysInstanced(mode, this.drawRange.start, this.drawRange.count, this.instancedCount);\n            }\n        } else {\n            if (this.attributes.index) {\n                this.gl.drawElements(mode, this.drawRange.count, this.attributes.index.type, this.attributes.index.offset + this.drawRange.start * 2);\n            } else {\n                this.gl.drawArrays(mode, this.drawRange.start, this.drawRange.count);\n            }\n        }\n    }\n\n    getPosition() {\n        // Use position buffer, or min/max if available\n        const attr = this.attributes.position;\n        // if (attr.min) return [...attr.min, ...attr.max];\n        if (attr.data) return attr;\n        if (isBoundsWarned) return;\n        console.warn('No position buffer data found to compute bounds');\n        return (isBoundsWarned = true);\n    }\n\n    computeBoundingBox(attr) {\n        if (!attr) attr = this.getPosition();\n        const array = attr.data;\n        const offset = attr.offset || 0;\n        const stride = attr.stride || attr.size;\n\n        if (!this.bounds) {\n            this.bounds = {\n                min: new Vec3(),\n                max: new Vec3(),\n                center: new Vec3(),\n                scale: new Vec3(),\n                radius: Infinity,\n            };\n        }\n\n        const min = this.bounds.min;\n        const max = this.bounds.max;\n        const center = this.bounds.center;\n        const scale = this.bounds.scale;\n\n        min.set(+Infinity);\n        max.set(-Infinity);\n\n        // TODO: check size of position (eg triangle with Vec2)\n        for (let i = offset, l = array.length; i < l; i += stride) {\n            const x = array[i];\n            const y = array[i + 1];\n            const z = array[i + 2];\n\n            min.x = Math.min(x, min.x);\n            min.y = Math.min(y, min.y);\n            min.z = Math.min(z, min.z);\n\n            max.x = Math.max(x, max.x);\n            max.y = Math.max(y, max.y);\n            max.z = Math.max(z, max.z);\n        }\n\n        scale.sub(max, min);\n        center.add(min, max).divide(2);\n    }\n\n    computeBoundingSphere(attr) {\n        if (!attr) attr = this.getPosition();\n        const array = attr.data;\n        const offset = attr.offset || 0;\n        const stride = attr.stride || attr.size;\n\n        if (!this.bounds) this.computeBoundingBox(attr);\n\n        let maxRadiusSq = 0;\n        for (let i = offset, l = array.length; i < l; i += stride) {\n            tempVec3.fromArray(array, i);\n            maxRadiusSq = Math.max(maxRadiusSq, this.bounds.center.squaredDistance(tempVec3));\n        }\n\n        this.bounds.radius = Math.sqrt(maxRadiusSq);\n    }\n\n    remove() {\n        for (let key in this.VAOs) {\n            this.gl.renderer.deleteVertexArray(this.VAOs[key]);\n            delete this.VAOs[key];\n        }\n        for (let key in this.attributes) {\n            this.gl.deleteBuffer(this.attributes[key].buffer);\n            delete this.attributes[key];\n        }\n    }\n}\n","// TODO: upload empty texture if null ? maybe not\n// TODO: upload identity matrix if null ?\n// TODO: sampler Cube\n\nlet ID = 1;\n\n// cache of typed arrays used to flatten uniform arrays\nconst arrayCacheF32 = {};\n\nexport class Program {\n    constructor(\n        gl,\n        {\n            vertex,\n            fragment,\n            uniforms = {},\n\n            transparent = false,\n            cullFace = gl.BACK,\n            frontFace = gl.CCW,\n            depthTest = true,\n            depthWrite = true,\n            depthFunc = gl.LESS,\n        } = {}\n    ) {\n        if (!gl.canvas) console.error('gl not passed as fist argument to Program');\n        this.gl = gl;\n        this.uniforms = uniforms;\n        this.id = ID++;\n\n        if (!vertex) console.warn('vertex shader not supplied');\n        if (!fragment) console.warn('fragment shader not supplied');\n\n        // Store program state\n        this.transparent = transparent;\n        this.cullFace = cullFace;\n        this.frontFace = frontFace;\n        this.depthTest = depthTest;\n        this.depthWrite = depthWrite;\n        this.depthFunc = depthFunc;\n        this.blendFunc = {};\n        this.blendEquation = {};\n\n        // set default blendFunc if transparent flagged\n        if (this.transparent && !this.blendFunc.src) {\n            if (this.gl.renderer.premultipliedAlpha) this.setBlendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\n            else this.setBlendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\n        }\n\n        // compile vertex shader and log errors\n        const vertexShader = gl.createShader(gl.VERTEX_SHADER);\n        gl.shaderSource(vertexShader, vertex);\n        gl.compileShader(vertexShader);\n        if (gl.getShaderInfoLog(vertexShader) !== '') {\n            console.warn(`${gl.getShaderInfoLog(vertexShader)}\\nVertex Shader\\n${addLineNumbers(vertex)}`);\n        }\n\n        // compile fragment shader and log errors\n        const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n        gl.shaderSource(fragmentShader, fragment);\n        gl.compileShader(fragmentShader);\n        if (gl.getShaderInfoLog(fragmentShader) !== '') {\n            console.warn(`${gl.getShaderInfoLog(fragmentShader)}\\nFragment Shader\\n${addLineNumbers(fragment)}`);\n        }\n\n        // compile program and log errors\n        this.program = gl.createProgram();\n        gl.attachShader(this.program, vertexShader);\n        gl.attachShader(this.program, fragmentShader);\n        gl.linkProgram(this.program);\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\n            return console.warn(gl.getProgramInfoLog(this.program));\n        }\n\n        // Remove shader once linked\n        gl.deleteShader(vertexShader);\n        gl.deleteShader(fragmentShader);\n\n        // Get active uniform locations\n        this.uniformLocations = new Map();\n        let numUniforms = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\n        for (let uIndex = 0; uIndex < numUniforms; uIndex++) {\n            let uniform = gl.getActiveUniform(this.program, uIndex);\n            this.uniformLocations.set(uniform, gl.getUniformLocation(this.program, uniform.name));\n\n            // split uniforms' names to separate array and struct declarations\n            const split = uniform.name.match(/(\\w+)/g);\n\n            uniform.uniformName = split[0];\n\n            if (split.length === 3) {\n                uniform.isStructArray = true;\n                uniform.structIndex = Number(split[1]);\n                uniform.structProperty = split[2];\n            } else if (split.length === 2 && isNaN(Number(split[1]))) {\n                uniform.isStruct = true;\n                uniform.structProperty = split[1];\n            }\n        }\n\n        // Get active attribute locations\n        this.attributeLocations = new Map();\n        const locations = [];\n        const numAttribs = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\n        for (let aIndex = 0; aIndex < numAttribs; aIndex++) {\n            const attribute = gl.getActiveAttrib(this.program, aIndex);\n            const location = gl.getAttribLocation(this.program, attribute.name);\n            locations[location] = attribute.name;\n            this.attributeLocations.set(attribute, location);\n        }\n        this.attributeOrder = locations.join('');\n    }\n\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\n        this.blendFunc.src = src;\n        this.blendFunc.dst = dst;\n        this.blendFunc.srcAlpha = srcAlpha;\n        this.blendFunc.dstAlpha = dstAlpha;\n        if (src) this.transparent = true;\n    }\n\n    setBlendEquation(modeRGB, modeAlpha) {\n        this.blendEquation.modeRGB = modeRGB;\n        this.blendEquation.modeAlpha = modeAlpha;\n    }\n\n    applyState() {\n        if (this.depthTest) this.gl.renderer.enable(this.gl.DEPTH_TEST);\n        else this.gl.renderer.disable(this.gl.DEPTH_TEST);\n\n        if (this.cullFace) this.gl.renderer.enable(this.gl.CULL_FACE);\n        else this.gl.renderer.disable(this.gl.CULL_FACE);\n\n        if (this.blendFunc.src) this.gl.renderer.enable(this.gl.BLEND);\n        else this.gl.renderer.disable(this.gl.BLEND);\n\n        if (this.cullFace) this.gl.renderer.setCullFace(this.cullFace);\n        this.gl.renderer.setFrontFace(this.frontFace);\n        this.gl.renderer.setDepthMask(this.depthWrite);\n        this.gl.renderer.setDepthFunc(this.depthFunc);\n        if (this.blendFunc.src)\n            this.gl.renderer.setBlendFunc(this.blendFunc.src, this.blendFunc.dst, this.blendFunc.srcAlpha, this.blendFunc.dstAlpha);\n        this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB, this.blendEquation.modeAlpha);\n    }\n\n    use({ flipFaces = false } = {}) {\n        let textureUnit = -1;\n        const programActive = this.gl.renderer.currentProgram === this.id;\n\n        // Avoid gl call if program already in use\n        if (!programActive) {\n            this.gl.useProgram(this.program);\n            this.gl.renderer.currentProgram = this.id;\n        }\n\n        // Set only the active uniforms found in the shader\n        this.uniformLocations.forEach((location, activeUniform) => {\n            let name = activeUniform.uniformName;\n\n            // get supplied uniform\n            let uniform = this.uniforms[name];\n\n            // For structs, get the specific property instead of the entire object\n            if (activeUniform.isStruct) {\n                uniform = uniform[activeUniform.structProperty];\n                name += `.${activeUniform.structProperty}`;\n            }\n            if (activeUniform.isStructArray) {\n                uniform = uniform[activeUniform.structIndex][activeUniform.structProperty];\n                name += `[${activeUniform.structIndex}].${activeUniform.structProperty}`;\n            }\n\n            if (!uniform) {\n                return warn(`Active uniform ${name} has not been supplied`);\n            }\n\n            if (uniform && uniform.value === undefined) {\n                return warn(`${name} uniform is missing a value parameter`);\n            }\n\n            if (uniform.value.texture) {\n                textureUnit = textureUnit + 1;\n\n                // Check if texture needs to be updated\n                uniform.value.update(textureUnit);\n                return setUniform(this.gl, activeUniform.type, location, textureUnit);\n            }\n\n            // For texture arrays, set uniform as an array of texture units instead of just one\n            if (uniform.value.length && uniform.value[0].texture) {\n                const textureUnits = [];\n                uniform.value.forEach((value) => {\n                    textureUnit = textureUnit + 1;\n                    value.update(textureUnit);\n                    textureUnits.push(textureUnit);\n                });\n\n                return setUniform(this.gl, activeUniform.type, location, textureUnits);\n            }\n\n            setUniform(this.gl, activeUniform.type, location, uniform.value);\n        });\n\n        this.applyState();\n        if (flipFaces) this.gl.renderer.setFrontFace(this.frontFace === this.gl.CCW ? this.gl.CW : this.gl.CCW);\n    }\n\n    remove() {\n        this.gl.deleteProgram(this.program);\n    }\n}\n\nfunction setUniform(gl, type, location, value) {\n    value = value.length ? flatten(value) : value;\n    const setValue = gl.renderer.state.uniformLocations.get(location);\n\n    // Avoid redundant uniform commands\n    if (value.length) {\n        if (setValue === undefined || setValue.length !== value.length) {\n            // clone array to store as cache\n            gl.renderer.state.uniformLocations.set(location, value.slice(0));\n        } else {\n            if (arraysEqual(setValue, value)) return;\n\n            // Update cached array values\n            setValue.set ? setValue.set(value) : setArray(setValue, value);\n            gl.renderer.state.uniformLocations.set(location, setValue);\n        }\n    } else {\n        if (setValue === value) return;\n        gl.renderer.state.uniformLocations.set(location, value);\n    }\n\n    switch (type) {\n        case 5126:\n            return value.length ? gl.uniform1fv(location, value) : gl.uniform1f(location, value); // FLOAT\n        case 35664:\n            return gl.uniform2fv(location, value); // FLOAT_VEC2\n        case 35665:\n            return gl.uniform3fv(location, value); // FLOAT_VEC3\n        case 35666:\n            return gl.uniform4fv(location, value); // FLOAT_VEC4\n        case 35670: // BOOL\n        case 5124: // INT\n        case 35678: // SAMPLER_2D\n        case 35680:\n            return value.length ? gl.uniform1iv(location, value) : gl.uniform1i(location, value); // SAMPLER_CUBE\n        case 35671: // BOOL_VEC2\n        case 35667:\n            return gl.uniform2iv(location, value); // INT_VEC2\n        case 35672: // BOOL_VEC3\n        case 35668:\n            return gl.uniform3iv(location, value); // INT_VEC3\n        case 35673: // BOOL_VEC4\n        case 35669:\n            return gl.uniform4iv(location, value); // INT_VEC4\n        case 35674:\n            return gl.uniformMatrix2fv(location, false, value); // FLOAT_MAT2\n        case 35675:\n            return gl.uniformMatrix3fv(location, false, value); // FLOAT_MAT3\n        case 35676:\n            return gl.uniformMatrix4fv(location, false, value); // FLOAT_MAT4\n    }\n}\n\nfunction addLineNumbers(string) {\n    let lines = string.split('\\n');\n    for (let i = 0; i < lines.length; i++) {\n        lines[i] = i + 1 + ': ' + lines[i];\n    }\n    return lines.join('\\n');\n}\n\nfunction flatten(a) {\n    const arrayLen = a.length;\n    const valueLen = a[0].length;\n    if (valueLen === undefined) return a;\n    const length = arrayLen * valueLen;\n    let value = arrayCacheF32[length];\n    if (!value) arrayCacheF32[length] = value = new Float32Array(length);\n    for (let i = 0; i < arrayLen; i++) value.set(a[i], i * valueLen);\n    return value;\n}\n\nfunction arraysEqual(a, b) {\n    if (a.length !== b.length) return false;\n    for (let i = 0, l = a.length; i < l; i++) {\n        if (a[i] !== b[i]) return false;\n    }\n    return true;\n}\n\nfunction setArray(a, b) {\n    for (let i = 0, l = a.length; i < l; i++) {\n        a[i] = b[i];\n    }\n}\n\nlet warnCount = 0;\nfunction warn(message) {\n    if (warnCount > 100) return;\n    console.warn(message);\n    warnCount++;\n    if (warnCount > 100) console.warn('More than 100 program warnings - stopping logs.');\n}\n","import { Vec3 } from '../math/Vec3.js';\n\n// TODO: Handle context loss https://www.khronos.org/webgl/wiki/HandlingContextLost\n\n// Not automatic - devs to use these methods manually\n// gl.colorMask( colorMask, colorMask, colorMask, colorMask );\n// gl.clearColor( r, g, b, a );\n// gl.stencilMask( stencilMask );\n// gl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n// gl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n// gl.clearStencil( stencil );\n\nconst tempVec3 = new Vec3();\nlet ID = 1;\n\nexport class Renderer {\n    constructor({\n        canvas = document.createElement('canvas'),\n        width = 300,\n        height = 150,\n        dpr = 1,\n        alpha = false,\n        depth = true,\n        stencil = false,\n        antialias = false,\n        premultipliedAlpha = false,\n        preserveDrawingBuffer = false,\n        powerPreference = 'default',\n        autoClear = true,\n        webgl = 2,\n    } = {}) {\n        const attributes = { alpha, depth, stencil, antialias, premultipliedAlpha, preserveDrawingBuffer, powerPreference };\n        this.dpr = dpr;\n        this.alpha = alpha;\n        this.color = true;\n        this.depth = depth;\n        this.stencil = stencil;\n        this.premultipliedAlpha = premultipliedAlpha;\n        this.autoClear = autoClear;\n        this.id = ID++;\n\n        // Attempt WebGL2 unless forced to 1, if not supported fallback to WebGL1\n        if (webgl === 2) this.gl = canvas.getContext('webgl2', attributes);\n        this.isWebgl2 = !!this.gl;\n        if (!this.gl) {\n            this.gl = canvas.getContext('webgl', attributes) || canvas.getContext('experimental-webgl', attributes);\n        }\n        if (!this.gl) console.error('unable to create webgl context');\n\n        // Attach renderer to gl so that all classes have access to internal state functions\n        this.gl.renderer = this;\n\n        // initialise size values\n        this.setSize(width, height);\n\n        // gl state stores to avoid redundant calls on methods used internally\n        this.state = {};\n        this.state.blendFunc = { src: this.gl.ONE, dst: this.gl.ZERO };\n        this.state.blendEquation = { modeRGB: this.gl.FUNC_ADD };\n        this.state.cullFace = null;\n        this.state.frontFace = this.gl.CCW;\n        this.state.depthMask = true;\n        this.state.depthFunc = this.gl.LESS;\n        this.state.premultiplyAlpha = false;\n        this.state.flipY = false;\n        this.state.unpackAlignment = 4;\n        this.state.framebuffer = null;\n        this.state.viewport = { width: null, height: null };\n        this.state.textureUnits = [];\n        this.state.activeTextureUnit = 0;\n        this.state.boundBuffer = null;\n        this.state.uniformLocations = new Map();\n\n        // store requested extensions\n        this.extensions = {};\n\n        // Initialise extra format types\n        if (this.isWebgl2) {\n            this.getExtension('EXT_color_buffer_float');\n            this.getExtension('OES_texture_float_linear');\n        } else {\n            this.getExtension('OES_texture_float');\n            this.getExtension('OES_texture_float_linear');\n            this.getExtension('OES_texture_half_float');\n            this.getExtension('OES_texture_half_float_linear');\n            this.getExtension('OES_element_index_uint');\n            this.getExtension('OES_standard_derivatives');\n            this.getExtension('EXT_sRGB');\n            this.getExtension('WEBGL_depth_texture');\n            this.getExtension('WEBGL_draw_buffers');\n        }\n\n        // Create method aliases using extension (WebGL1) or native if available (WebGL2)\n        this.vertexAttribDivisor = this.getExtension('ANGLE_instanced_arrays', 'vertexAttribDivisor', 'vertexAttribDivisorANGLE');\n        this.drawArraysInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawArraysInstanced', 'drawArraysInstancedANGLE');\n        this.drawElementsInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawElementsInstanced', 'drawElementsInstancedANGLE');\n        this.createVertexArray = this.getExtension('OES_vertex_array_object', 'createVertexArray', 'createVertexArrayOES');\n        this.bindVertexArray = this.getExtension('OES_vertex_array_object', 'bindVertexArray', 'bindVertexArrayOES');\n        this.deleteVertexArray = this.getExtension('OES_vertex_array_object', 'deleteVertexArray', 'deleteVertexArrayOES');\n        this.drawBuffers = this.getExtension('WEBGL_draw_buffers', 'drawBuffers', 'drawBuffersWEBGL');\n\n        // Store device parameters\n        this.parameters = {};\n        this.parameters.maxTextureUnits = this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\n        this.parameters.maxAnisotropy = this.getExtension('EXT_texture_filter_anisotropic')\n            ? this.gl.getParameter(this.getExtension('EXT_texture_filter_anisotropic').MAX_TEXTURE_MAX_ANISOTROPY_EXT)\n            : 0;\n    }\n\n    setSize(width, height) {\n        this.width = width;\n        this.height = height;\n\n        this.gl.canvas.width = width * this.dpr;\n        this.gl.canvas.height = height * this.dpr;\n\n        Object.assign(this.gl.canvas.style, {\n            width: width + 'px',\n            height: height + 'px',\n        });\n    }\n\n    setViewport(width, height) {\n        if (this.state.viewport.width === width && this.state.viewport.height === height) return;\n        this.state.viewport.width = width;\n        this.state.viewport.height = height;\n        this.gl.viewport(0, 0, width, height);\n    }\n\n    enable(id) {\n        if (this.state[id] === true) return;\n        this.gl.enable(id);\n        this.state[id] = true;\n    }\n\n    disable(id) {\n        if (this.state[id] === false) return;\n        this.gl.disable(id);\n        this.state[id] = false;\n    }\n\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\n        if (\n            this.state.blendFunc.src === src &&\n            this.state.blendFunc.dst === dst &&\n            this.state.blendFunc.srcAlpha === srcAlpha &&\n            this.state.blendFunc.dstAlpha === dstAlpha\n        )\n            return;\n        this.state.blendFunc.src = src;\n        this.state.blendFunc.dst = dst;\n        this.state.blendFunc.srcAlpha = srcAlpha;\n        this.state.blendFunc.dstAlpha = dstAlpha;\n        if (srcAlpha !== undefined) this.gl.blendFuncSeparate(src, dst, srcAlpha, dstAlpha);\n        else this.gl.blendFunc(src, dst);\n    }\n\n    setBlendEquation(modeRGB, modeAlpha) {\n        modeRGB = modeRGB || this.gl.FUNC_ADD;\n        if (this.state.blendEquation.modeRGB === modeRGB && this.state.blendEquation.modeAlpha === modeAlpha) return;\n        this.state.blendEquation.modeRGB = modeRGB;\n        this.state.blendEquation.modeAlpha = modeAlpha;\n        if (modeAlpha !== undefined) this.gl.blendEquationSeparate(modeRGB, modeAlpha);\n        else this.gl.blendEquation(modeRGB);\n    }\n\n    setCullFace(value) {\n        if (this.state.cullFace === value) return;\n        this.state.cullFace = value;\n        this.gl.cullFace(value);\n    }\n\n    setFrontFace(value) {\n        if (this.state.frontFace === value) return;\n        this.state.frontFace = value;\n        this.gl.frontFace(value);\n    }\n\n    setDepthMask(value) {\n        if (this.state.depthMask === value) return;\n        this.state.depthMask = value;\n        this.gl.depthMask(value);\n    }\n\n    setDepthFunc(value) {\n        if (this.state.depthFunc === value) return;\n        this.state.depthFunc = value;\n        this.gl.depthFunc(value);\n    }\n\n    activeTexture(value) {\n        if (this.state.activeTextureUnit === value) return;\n        this.state.activeTextureUnit = value;\n        this.gl.activeTexture(this.gl.TEXTURE0 + value);\n    }\n\n    bindFramebuffer({ target = this.gl.FRAMEBUFFER, buffer = null } = {}) {\n        if (this.state.framebuffer === buffer) return;\n        this.state.framebuffer = buffer;\n        this.gl.bindFramebuffer(target, buffer);\n    }\n\n    getExtension(extension, webgl2Func, extFunc) {\n        // if webgl2 function supported, return func bound to gl context\n        if (webgl2Func && this.gl[webgl2Func]) return this.gl[webgl2Func].bind(this.gl);\n\n        // fetch extension once only\n        if (!this.extensions[extension]) {\n            this.extensions[extension] = this.gl.getExtension(extension);\n        }\n\n        // return extension if no function requested\n        if (!webgl2Func) return this.extensions[extension];\n\n        // Return null if extension not supported\n        if (!this.extensions[extension]) return null;\n\n        // return extension function, bound to extension\n        return this.extensions[extension][extFunc].bind(this.extensions[extension]);\n    }\n\n    sortOpaque(a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        } else if (a.program.id !== b.program.id) {\n            return a.program.id - b.program.id;\n        } else if (a.zDepth !== b.zDepth) {\n            return a.zDepth - b.zDepth;\n        } else {\n            return b.id - a.id;\n        }\n    }\n\n    sortTransparent(a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        }\n        if (a.zDepth !== b.zDepth) {\n            return b.zDepth - a.zDepth;\n        } else {\n            return b.id - a.id;\n        }\n    }\n\n    sortUI(a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        } else if (a.program.id !== b.program.id) {\n            return a.program.id - b.program.id;\n        } else {\n            return b.id - a.id;\n        }\n    }\n\n    getRenderList({ scene, camera, frustumCull, sort }) {\n        let renderList = [];\n\n        if (camera && frustumCull) camera.updateFrustum();\n\n        // Get visible\n        scene.traverse((node) => {\n            if (!node.visible) return true;\n            if (!node.draw) return;\n\n            if (frustumCull && node.frustumCulled && camera) {\n                if (!camera.frustumIntersectsMesh(node)) return;\n            }\n\n            renderList.push(node);\n        });\n\n        if (sort) {\n            const opaque = [];\n            const transparent = []; // depthTest true\n            const ui = []; // depthTest false\n\n            renderList.forEach((node) => {\n                // Split into the 3 render groups\n                if (!node.program.transparent) {\n                    opaque.push(node);\n                } else if (node.program.depthTest) {\n                    transparent.push(node);\n                } else {\n                    ui.push(node);\n                }\n\n                node.zDepth = 0;\n\n                // Only calculate z-depth if renderOrder unset and depthTest is true\n                if (node.renderOrder !== 0 || !node.program.depthTest || !camera) return;\n\n                // update z-depth\n                node.worldMatrix.getTranslation(tempVec3);\n                tempVec3.applyMatrix4(camera.projectionViewMatrix);\n                node.zDepth = tempVec3.z;\n            });\n\n            opaque.sort(this.sortOpaque);\n            transparent.sort(this.sortTransparent);\n            ui.sort(this.sortUI);\n\n            renderList = opaque.concat(transparent, ui);\n        }\n\n        return renderList;\n    }\n\n    render({ scene, camera, target = null, update = true, sort = true, frustumCull = true, clear }) {\n        if (target === null) {\n            // make sure no render target bound so draws to canvas\n            this.bindFramebuffer();\n            this.setViewport(this.width * this.dpr, this.height * this.dpr);\n        } else {\n            // bind supplied render target and update viewport\n            this.bindFramebuffer(target);\n            this.setViewport(target.width, target.height);\n        }\n\n        if (clear || (this.autoClear && clear !== false)) {\n            // Ensure depth buffer writing is enabled so it can be cleared\n            if (this.depth && (!target || target.depth)) {\n                this.enable(this.gl.DEPTH_TEST);\n                this.setDepthMask(true);\n            }\n            this.gl.clear(\n                (this.color ? this.gl.COLOR_BUFFER_BIT : 0) |\n                    (this.depth ? this.gl.DEPTH_BUFFER_BIT : 0) |\n                    (this.stencil ? this.gl.STENCIL_BUFFER_BIT : 0)\n            );\n        }\n\n        // updates all scene graph matrices\n        if (update) scene.updateMatrixWorld();\n\n        // Update camera separately, in case not in scene graph\n        if (camera) camera.updateMatrixWorld();\n\n        // Get render list - entails culling and sorting\n        const renderList = this.getRenderList({ scene, camera, frustumCull, sort });\n\n        renderList.forEach((node) => {\n            node.draw({ camera });\n        });\n    }\n}\n","const EPSILON = 0.000001;\n\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the source vector\n * @returns {vec4} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    return out;\n}\n\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\nexport function set(out, x, y, z, w) {\n    out[0] = x;\n    out[1] = y;\n    out[2] = z;\n    out[3] = w;\n    return out;\n}\n\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {vec4} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    return out;\n}\n\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\nexport function scale(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    return out;\n}\n\n/**\n * Calculates the length of a vec4\n *\n * @param {vec4} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    let w = a[3];\n    return Math.sqrt(x * x + y * y + z * z + w * w);\n}\n\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a vector to normalize\n * @returns {vec4} out\n */\nexport function normalize(out, a) {\n    let x = a[0];\n    let y = a[1];\n    let z = a[2];\n    let w = a[3];\n    let len = x * x + y * y + z * z + w * w;\n    if (len > 0) {\n        len = 1 / Math.sqrt(len);\n    }\n    out[0] = x * len;\n    out[1] = y * len;\n    out[2] = z * len;\n    out[3] = w * len;\n    return out;\n}\n\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {vec4} a the first operand\n * @param {vec4} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec4} out\n */\nexport function lerp(out, a, b, t) {\n    let ax = a[0];\n    let ay = a[1];\n    let az = a[2];\n    let aw = a[3];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    out[2] = az + t * (b[2] - az);\n    out[3] = aw + t * (b[3] - aw);\n    return out;\n}\n","import * as vec4 from './Vec4Func.js';\n\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\nexport function identity(out) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 1;\n    return out;\n}\n\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\nexport function setAxisAngle(out, axis, rad) {\n    rad = rad * 0.5;\n    let s = Math.sin(rad);\n    out[0] = s * axis[0];\n    out[1] = s * axis[1];\n    out[2] = s * axis[2];\n    out[3] = Math.cos(rad);\n    return out;\n}\n\n/**\n * Multiplies two quats\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n */\nexport function multiply(out, a, b) {\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let bx = b[0],\n        by = b[1],\n        bz = b[2],\n        bw = b[3];\n\n    out[0] = ax * bw + aw * bx + ay * bz - az * by;\n    out[1] = ay * bw + aw * by + az * bx - ax * bz;\n    out[2] = az * bw + aw * bz + ax * by - ay * bx;\n    out[3] = aw * bw - ax * bx - ay * by - az * bz;\n    return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateX(out, a, rad) {\n    rad *= 0.5;\n\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let bx = Math.sin(rad),\n        bw = Math.cos(rad);\n\n    out[0] = ax * bw + aw * bx;\n    out[1] = ay * bw + az * bx;\n    out[2] = az * bw - ay * bx;\n    out[3] = aw * bw - ax * bx;\n    return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateY(out, a, rad) {\n    rad *= 0.5;\n\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let by = Math.sin(rad),\n        bw = Math.cos(rad);\n\n    out[0] = ax * bw - az * by;\n    out[1] = ay * bw + aw * by;\n    out[2] = az * bw + ax * by;\n    out[3] = aw * bw - ay * by;\n    return out;\n}\n\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {quat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\nexport function rotateZ(out, a, rad) {\n    rad *= 0.5;\n\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let bz = Math.sin(rad),\n        bw = Math.cos(rad);\n\n    out[0] = ax * bw + ay * bz;\n    out[1] = ay * bw - ax * bz;\n    out[2] = az * bw + aw * bz;\n    out[3] = aw * bw - az * bz;\n    return out;\n}\n\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n */\nexport function slerp(out, a, b, t) {\n    // benchmarks:\n    //    http://jsperf.com/quaternion-slerp-implementations\n    let ax = a[0],\n        ay = a[1],\n        az = a[2],\n        aw = a[3];\n    let bx = b[0],\n        by = b[1],\n        bz = b[2],\n        bw = b[3];\n\n    let omega, cosom, sinom, scale0, scale1;\n\n    // calc cosine\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n    // adjust signs (if necessary)\n    if (cosom < 0.0) {\n        cosom = -cosom;\n        bx = -bx;\n        by = -by;\n        bz = -bz;\n        bw = -bw;\n    }\n    // calculate coefficients\n    if (1.0 - cosom > 0.000001) {\n        // standard case (slerp)\n        omega = Math.acos(cosom);\n        sinom = Math.sin(omega);\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\n        scale1 = Math.sin(t * omega) / sinom;\n    } else {\n        // \"from\" and \"to\" quaternions are very close\n        //  ... so we can do a linear interpolation\n        scale0 = 1.0 - t;\n        scale1 = t;\n    }\n    // calculate final values\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n\n    return out;\n}\n\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate inverse of\n * @returns {quat} out\n */\nexport function invert(out, a) {\n    let a0 = a[0],\n        a1 = a[1],\n        a2 = a[2],\n        a3 = a[3];\n    let dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n    let invDot = dot ? 1.0 / dot : 0;\n\n    // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n    out[0] = -a0 * invDot;\n    out[1] = -a1 * invDot;\n    out[2] = -a2 * invDot;\n    out[3] = a3 * invDot;\n    return out;\n}\n\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quat to calculate conjugate of\n * @returns {quat} out\n */\nexport function conjugate(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    out[2] = -a[2];\n    out[3] = a[3];\n    return out;\n}\n\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {mat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\nexport function fromMat3(out, m) {\n    // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n    // article \"Quaternion Calculus and Fast Animation\".\n    let fTrace = m[0] + m[4] + m[8];\n    let fRoot;\n\n    if (fTrace > 0.0) {\n        // |w| > 1/2, may as well choose w > 1/2\n        fRoot = Math.sqrt(fTrace + 1.0); // 2w\n        out[3] = 0.5 * fRoot;\n        fRoot = 0.5 / fRoot; // 1/(4w)\n        out[0] = (m[5] - m[7]) * fRoot;\n        out[1] = (m[6] - m[2]) * fRoot;\n        out[2] = (m[1] - m[3]) * fRoot;\n    } else {\n        // |w| <= 1/2\n        let i = 0;\n        if (m[4] > m[0]) i = 1;\n        if (m[8] > m[i * 3 + i]) i = 2;\n        let j = (i + 1) % 3;\n        let k = (i + 2) % 3;\n\n        fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n        out[i] = 0.5 * fRoot;\n        fRoot = 0.5 / fRoot;\n        out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n        out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n        out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n    }\n\n    return out;\n}\n\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {vec3} euler Angles to rotate around each axis in degrees.\n * @param {String} order detailing order of operations. Default 'XYZ'.\n * @returns {quat} out\n * @function\n */\nexport function fromEuler(out, euler, order = 'YXZ') {\n    let sx = Math.sin(euler[0] * 0.5);\n    let cx = Math.cos(euler[0] * 0.5);\n    let sy = Math.sin(euler[1] * 0.5);\n    let cy = Math.cos(euler[1] * 0.5);\n    let sz = Math.sin(euler[2] * 0.5);\n    let cz = Math.cos(euler[2] * 0.5);\n\n    if (order === 'XYZ') {\n        out[0] = sx * cy * cz + cx * sy * sz;\n        out[1] = cx * sy * cz - sx * cy * sz;\n        out[2] = cx * cy * sz + sx * sy * cz;\n        out[3] = cx * cy * cz - sx * sy * sz;\n    } else if (order === 'YXZ') {\n        out[0] = sx * cy * cz + cx * sy * sz;\n        out[1] = cx * sy * cz - sx * cy * sz;\n        out[2] = cx * cy * sz - sx * sy * cz;\n        out[3] = cx * cy * cz + sx * sy * sz;\n    } else if (order === 'ZXY') {\n        out[0] = sx * cy * cz - cx * sy * sz;\n        out[1] = cx * sy * cz + sx * cy * sz;\n        out[2] = cx * cy * sz + sx * sy * cz;\n        out[3] = cx * cy * cz - sx * sy * sz;\n    } else if (order === 'ZYX') {\n        out[0] = sx * cy * cz - cx * sy * sz;\n        out[1] = cx * sy * cz + sx * cy * sz;\n        out[2] = cx * cy * sz - sx * sy * cz;\n        out[3] = cx * cy * cz + sx * sy * sz;\n    } else if (order === 'YZX') {\n        out[0] = sx * cy * cz + cx * sy * sz;\n        out[1] = cx * sy * cz + sx * cy * sz;\n        out[2] = cx * cy * sz - sx * sy * cz;\n        out[3] = cx * cy * cz - sx * sy * sz;\n    } else if (order === 'XZY') {\n        out[0] = sx * cy * cz - cx * sy * sz;\n        out[1] = cx * sy * cz - sx * cy * sz;\n        out[2] = cx * cy * sz + sx * sy * cz;\n        out[3] = cx * cy * cz + sx * sy * sz;\n    }\n\n    return out;\n}\n\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the source quaternion\n * @returns {quat} out\n * @function\n */\nexport const copy = vec4.copy;\n\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\nexport const set = vec4.set;\n\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {quat} out\n * @function\n */\nexport const add = vec4.add;\n\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {quat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\nexport const scale = vec4.scale;\n\n/**\n * Calculates the dot product of two quat's\n *\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\nexport const dot = vec4.dot;\n\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a the first operand\n * @param {quat} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {quat} out\n * @function\n */\nexport const lerp = vec4.lerp;\n\n/**\n * Calculates the length of a quat\n *\n * @param {quat} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport const length = vec4.length;\n\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {quat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\nexport const normalize = vec4.normalize;\n","import * as QuatFunc from './functions/QuatFunc.js';\n\nexport class Quat extends Array {\n    constructor(x = 0, y = 0, z = 0, w = 1) {\n        super(x, y, z, w);\n        this.onChange = () => {};\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    get w() {\n        return this[3];\n    }\n\n    set x(v) {\n        this[0] = v;\n        this.onChange();\n    }\n\n    set y(v) {\n        this[1] = v;\n        this.onChange();\n    }\n\n    set z(v) {\n        this[2] = v;\n        this.onChange();\n    }\n\n    set w(v) {\n        this[3] = v;\n        this.onChange();\n    }\n\n    identity() {\n        QuatFunc.identity(this);\n        this.onChange();\n        return this;\n    }\n\n    set(x, y, z, w) {\n        if (x.length) return this.copy(x);\n        QuatFunc.set(this, x, y, z, w);\n        this.onChange();\n        return this;\n    }\n\n    rotateX(a) {\n        QuatFunc.rotateX(this, this, a);\n        this.onChange();\n        return this;\n    }\n\n    rotateY(a) {\n        QuatFunc.rotateY(this, this, a);\n        this.onChange();\n        return this;\n    }\n\n    rotateZ(a) {\n        QuatFunc.rotateZ(this, this, a);\n        this.onChange();\n        return this;\n    }\n\n    inverse(q = this) {\n        QuatFunc.invert(this, q);\n        this.onChange();\n        return this;\n    }\n\n    conjugate(q = this) {\n        QuatFunc.conjugate(this, q);\n        this.onChange();\n        return this;\n    }\n\n    copy(q) {\n        QuatFunc.copy(this, q);\n        this.onChange();\n        return this;\n    }\n\n    normalize(q = this) {\n        QuatFunc.normalize(this, q);\n        this.onChange();\n        return this;\n    }\n\n    multiply(qA, qB) {\n        if (qB) {\n            QuatFunc.multiply(this, qA, qB);\n        } else {\n            QuatFunc.multiply(this, this, qA);\n        }\n        this.onChange();\n        return this;\n    }\n\n    dot(v) {\n        return QuatFunc.dot(this, v);\n    }\n\n    fromMatrix3(matrix3) {\n        QuatFunc.fromMat3(this, matrix3);\n        this.onChange();\n        return this;\n    }\n\n    fromEuler(euler) {\n        QuatFunc.fromEuler(this, euler, euler.order);\n        return this;\n    }\n\n    fromAxisAngle(axis, a) {\n        QuatFunc.setAxisAngle(this, axis, a);\n        return this;\n    }\n\n    slerp(q, t) {\n        QuatFunc.slerp(this, this, q, t);\n        return this;\n    }\n\n    fromArray(a, o = 0) {\n        this[0] = a[o];\n        this[1] = a[o + 1];\n        this[2] = a[o + 2];\n        this[3] = a[o + 3];\n        return this;\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        a[o + 2] = this[2];\n        a[o + 3] = this[3];\n        return a;\n    }\n}\n","const EPSILON = 0.000001;\n\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n}\n\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n    out[0] = m00;\n    out[1] = m01;\n    out[2] = m02;\n    out[3] = m03;\n    out[4] = m10;\n    out[5] = m11;\n    out[6] = m12;\n    out[7] = m13;\n    out[8] = m20;\n    out[9] = m21;\n    out[10] = m22;\n    out[11] = m23;\n    out[12] = m30;\n    out[13] = m31;\n    out[14] = m32;\n    out[15] = m33;\n    return out;\n}\n\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\nexport function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = 1;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 1;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function transpose(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        let a01 = a[1],\n            a02 = a[2],\n            a03 = a[3];\n        let a12 = a[6],\n            a13 = a[7];\n        let a23 = a[11];\n\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a01;\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a02;\n        out[9] = a12;\n        out[11] = a[14];\n        out[12] = a03;\n        out[13] = a13;\n        out[14] = a23;\n    } else {\n        out[0] = a[0];\n        out[1] = a[4];\n        out[2] = a[8];\n        out[3] = a[12];\n        out[4] = a[1];\n        out[5] = a[5];\n        out[6] = a[9];\n        out[7] = a[13];\n        out[8] = a[2];\n        out[9] = a[6];\n        out[10] = a[10];\n        out[11] = a[14];\n        out[12] = a[3];\n        out[13] = a[7];\n        out[14] = a[11];\n        out[15] = a[15];\n    }\n\n    return out;\n}\n\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the source matrix\n * @returns {mat4} out\n */\nexport function invert(out, a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    let a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n    let a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n    let a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15];\n\n    let b00 = a00 * a11 - a01 * a10;\n    let b01 = a00 * a12 - a02 * a10;\n    let b02 = a00 * a13 - a03 * a10;\n    let b03 = a01 * a12 - a02 * a11;\n    let b04 = a01 * a13 - a03 * a11;\n    let b05 = a02 * a13 - a03 * a12;\n    let b06 = a20 * a31 - a21 * a30;\n    let b07 = a20 * a32 - a22 * a30;\n    let b08 = a20 * a33 - a23 * a30;\n    let b09 = a21 * a32 - a22 * a31;\n    let b10 = a21 * a33 - a23 * a31;\n    let b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n\n    return out;\n}\n\n/**\n * Calculates the determinant of a mat4\n *\n * @param {mat4} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    let a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n    let a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n    let a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15];\n\n    let b00 = a00 * a11 - a01 * a10;\n    let b01 = a00 * a12 - a02 * a10;\n    let b02 = a00 * a13 - a03 * a10;\n    let b03 = a01 * a12 - a02 * a11;\n    let b04 = a01 * a13 - a03 * a11;\n    let b05 = a02 * a13 - a03 * a12;\n    let b06 = a20 * a31 - a21 * a30;\n    let b07 = a20 * a32 - a22 * a30;\n    let b08 = a20 * a33 - a23 * a30;\n    let b09 = a21 * a32 - a22 * a31;\n    let b10 = a21 * a33 - a23 * a31;\n    let b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function multiply(out, a, b) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    let a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n    let a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n    let a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15];\n\n    // Cache only the current line of the second matrix\n    let b0 = b[0],\n        b1 = b[1],\n        b2 = b[2],\n        b3 = b[3];\n    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[4];\n    b1 = b[5];\n    b2 = b[6];\n    b3 = b[7];\n    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[8];\n    b1 = b[9];\n    b2 = b[10];\n    b3 = b[11];\n    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n\n    b0 = b[12];\n    b1 = b[13];\n    b2 = b[14];\n    b3 = b[15];\n    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n    return out;\n}\n\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to translate\n * @param {vec3} v vector to translate by\n * @returns {mat4} out\n */\nexport function translate(out, a, v) {\n    let x = v[0],\n        y = v[1],\n        z = v[2];\n    let a00, a01, a02, a03;\n    let a10, a11, a12, a13;\n    let a20, a21, a22, a23;\n\n    if (a === out) {\n        out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n        out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n        out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n        out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n    } else {\n        a00 = a[0];\n        a01 = a[1];\n        a02 = a[2];\n        a03 = a[3];\n        a10 = a[4];\n        a11 = a[5];\n        a12 = a[6];\n        a13 = a[7];\n        a20 = a[8];\n        a21 = a[9];\n        a22 = a[10];\n        a23 = a[11];\n\n        out[0] = a00;\n        out[1] = a01;\n        out[2] = a02;\n        out[3] = a03;\n        out[4] = a10;\n        out[5] = a11;\n        out[6] = a12;\n        out[7] = a13;\n        out[8] = a20;\n        out[9] = a21;\n        out[10] = a22;\n        out[11] = a23;\n\n        out[12] = a00 * x + a10 * y + a20 * z + a[12];\n        out[13] = a01 * x + a11 * y + a21 * z + a[13];\n        out[14] = a02 * x + a12 * y + a22 * z + a[14];\n        out[15] = a03 * x + a13 * y + a23 * z + a[15];\n    }\n\n    return out;\n}\n\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {vec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\nexport function scale(out, a, v) {\n    let x = v[0],\n        y = v[1],\n        z = v[2];\n\n    out[0] = a[0] * x;\n    out[1] = a[1] * x;\n    out[2] = a[2] * x;\n    out[3] = a[3] * x;\n    out[4] = a[4] * y;\n    out[5] = a[5] * y;\n    out[6] = a[6] * y;\n    out[7] = a[7] * y;\n    out[8] = a[8] * z;\n    out[9] = a[9] * z;\n    out[10] = a[10] * z;\n    out[11] = a[11] * z;\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n    return out;\n}\n\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {vec3} axis the axis to rotate around\n * @returns {mat4} out\n */\nexport function rotate(out, a, rad, axis) {\n    let x = axis[0],\n        y = axis[1],\n        z = axis[2];\n    let len = Math.hypot(x, y, z);\n    let s, c, t;\n    let a00, a01, a02, a03;\n    let a10, a11, a12, a13;\n    let a20, a21, a22, a23;\n    let b00, b01, b02;\n    let b10, b11, b12;\n    let b20, b21, b22;\n\n    if (Math.abs(len) < EPSILON) {\n        return null;\n    }\n\n    len = 1 / len;\n    x *= len;\n    y *= len;\n    z *= len;\n\n    s = Math.sin(rad);\n    c = Math.cos(rad);\n    t = 1 - c;\n\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n\n    // Construct the elements of the rotation matrix\n    b00 = x * x * t + c;\n    b01 = y * x * t + z * s;\n    b02 = z * x * t - y * s;\n    b10 = x * y * t - z * s;\n    b11 = y * y * t + c;\n    b12 = z * y * t + x * s;\n    b20 = x * z * t + y * s;\n    b21 = y * z * t - x * s;\n    b22 = z * z * t + c;\n\n    // Perform rotation-specific matrix multiplication\n    out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n    out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n    out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n    out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n    out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n    out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n    out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n    out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n    out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n    out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n    out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n    out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n    if (a !== out) {\n        // If the source and destination differ, copy the unchanged last row\n        out[12] = a[12];\n        out[13] = a[13];\n        out[14] = a[14];\n        out[15] = a[15];\n    }\n    return out;\n}\n\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nexport function getTranslation(out, mat) {\n    out[0] = mat[12];\n    out[1] = mat[13];\n    out[2] = mat[14];\n\n    return out;\n}\n\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {mat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\nexport function getScaling(out, mat) {\n    let m11 = mat[0];\n    let m12 = mat[1];\n    let m13 = mat[2];\n    let m21 = mat[4];\n    let m22 = mat[5];\n    let m23 = mat[6];\n    let m31 = mat[8];\n    let m32 = mat[9];\n    let m33 = mat[10];\n\n    out[0] = Math.hypot(m11, m12, m13);\n    out[1] = Math.hypot(m21, m22, m23);\n    out[2] = Math.hypot(m31, m32, m33);\n\n    return out;\n}\n\nexport function getMaxScaleOnAxis(mat) {\n    let m11 = mat[0];\n    let m12 = mat[1];\n    let m13 = mat[2];\n    let m21 = mat[4];\n    let m22 = mat[5];\n    let m23 = mat[6];\n    let m31 = mat[8];\n    let m32 = mat[9];\n    let m33 = mat[10];\n\n    const x = m11 * m11 + m12 * m12 + m13 * m13;\n    const y = m21 * m21 + m22 * m22 + m23 * m23;\n    const z = m31 * m31 + m32 * m32 + m33 * m33;\n\n    return Math.sqrt(Math.max(x, y, z));\n}\n\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {mat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\nexport const getRotation = (function () {\n    const temp = [0, 0, 0];\n\n    return function (out, mat) {\n        let scaling = temp;\n        getScaling(scaling, mat);\n\n        let is1 = 1 / scaling[0];\n        let is2 = 1 / scaling[1];\n        let is3 = 1 / scaling[2];\n\n        let sm11 = mat[0] * is1;\n        let sm12 = mat[1] * is2;\n        let sm13 = mat[2] * is3;\n        let sm21 = mat[4] * is1;\n        let sm22 = mat[5] * is2;\n        let sm23 = mat[6] * is3;\n        let sm31 = mat[8] * is1;\n        let sm32 = mat[9] * is2;\n        let sm33 = mat[10] * is3;\n\n        let trace = sm11 + sm22 + sm33;\n        let S = 0;\n\n        if (trace > 0) {\n            S = Math.sqrt(trace + 1.0) * 2;\n            out[3] = 0.25 * S;\n            out[0] = (sm23 - sm32) / S;\n            out[1] = (sm31 - sm13) / S;\n            out[2] = (sm12 - sm21) / S;\n        } else if (sm11 > sm22 && sm11 > sm33) {\n            S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n            out[3] = (sm23 - sm32) / S;\n            out[0] = 0.25 * S;\n            out[1] = (sm12 + sm21) / S;\n            out[2] = (sm31 + sm13) / S;\n        } else if (sm22 > sm33) {\n            S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n            out[3] = (sm31 - sm13) / S;\n            out[0] = (sm12 + sm21) / S;\n            out[1] = 0.25 * S;\n            out[2] = (sm23 + sm32) / S;\n        } else {\n            S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n            out[3] = (sm12 - sm21) / S;\n            out[0] = (sm31 + sm13) / S;\n            out[1] = (sm23 + sm32) / S;\n            out[2] = 0.25 * S;\n        }\n\n        return out;\n    };\n})();\n\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {vec3} v Translation vector\n * @param {vec3} s Scaling vector\n * @returns {mat4} out\n */\nexport function fromRotationTranslationScale(out, q, v, s) {\n    // Quaternion math\n    let x = q[0],\n        y = q[1],\n        z = q[2],\n        w = q[3];\n    let x2 = x + x;\n    let y2 = y + y;\n    let z2 = z + z;\n\n    let xx = x * x2;\n    let xy = x * y2;\n    let xz = x * z2;\n    let yy = y * y2;\n    let yz = y * z2;\n    let zz = z * z2;\n    let wx = w * x2;\n    let wy = w * y2;\n    let wz = w * z2;\n    let sx = s[0];\n    let sy = s[1];\n    let sz = s[2];\n\n    out[0] = (1 - (yy + zz)) * sx;\n    out[1] = (xy + wz) * sx;\n    out[2] = (xz - wy) * sx;\n    out[3] = 0;\n    out[4] = (xy - wz) * sy;\n    out[5] = (1 - (xx + zz)) * sy;\n    out[6] = (yz + wx) * sy;\n    out[7] = 0;\n    out[8] = (xz + wy) * sz;\n    out[9] = (yz - wx) * sz;\n    out[10] = (1 - (xx + yy)) * sz;\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n\n    return out;\n}\n\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\nexport function fromQuat(out, q) {\n    let x = q[0],\n        y = q[1],\n        z = q[2],\n        w = q[3];\n    let x2 = x + x;\n    let y2 = y + y;\n    let z2 = z + z;\n\n    let xx = x * x2;\n    let yx = y * x2;\n    let yy = y * y2;\n    let zx = z * x2;\n    let zy = z * y2;\n    let zz = z * z2;\n    let wx = w * x2;\n    let wy = w * y2;\n    let wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[1] = yx + wz;\n    out[2] = zx - wy;\n    out[3] = 0;\n\n    out[4] = yx - wz;\n    out[5] = 1 - xx - zz;\n    out[6] = zy + wx;\n    out[7] = 0;\n\n    out[8] = zx + wy;\n    out[9] = zy - wx;\n    out[10] = 1 - xx - yy;\n    out[11] = 0;\n\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n    out[15] = 1;\n\n    return out;\n}\n\n/**\n * Generates a perspective projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function perspective(out, fovy, aspect, near, far) {\n    let f = 1.0 / Math.tan(fovy / 2);\n    let nf = 1 / (near - far);\n    out[0] = f / aspect;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = f;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = (far + near) * nf;\n    out[11] = -1;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 2 * far * near * nf;\n    out[15] = 0;\n    return out;\n}\n\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\nexport function ortho(out, left, right, bottom, top, near, far) {\n    let lr = 1 / (left - right);\n    let bt = 1 / (bottom - top);\n    let nf = 1 / (near - far);\n    out[0] = -2 * lr;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[5] = -2 * bt;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[10] = 2 * nf;\n    out[11] = 0;\n    out[12] = (left + right) * lr;\n    out[13] = (top + bottom) * bt;\n    out[14] = (far + near) * nf;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {vec3} eye Position of the viewer\n * @param {vec3} target Point the viewer is looking at\n * @param {vec3} up vec3 pointing up\n * @returns {mat4} out\n */\nexport function targetTo(out, eye, target, up) {\n    let eyex = eye[0],\n        eyey = eye[1],\n        eyez = eye[2],\n        upx = up[0],\n        upy = up[1],\n        upz = up[2];\n\n    let z0 = eyex - target[0],\n        z1 = eyey - target[1],\n        z2 = eyez - target[2];\n\n    let len = z0 * z0 + z1 * z1 + z2 * z2;\n    if (len === 0) {\n        // eye and target are in the same position\n        z2 = 1;\n    } else {\n        len = 1 / Math.sqrt(len);\n        z0 *= len;\n        z1 *= len;\n        z2 *= len;\n    }\n\n    let x0 = upy * z2 - upz * z1,\n        x1 = upz * z0 - upx * z2,\n        x2 = upx * z1 - upy * z0;\n\n    len = x0 * x0 + x1 * x1 + x2 * x2;\n    if (len === 0) {\n        // up and z are parallel\n        if (upz) {\n            upx += 1e-6;\n        } else if (upy) {\n            upz += 1e-6;\n        } else {\n            upy += 1e-6;\n        }\n        (x0 = upy * z2 - upz * z1), (x1 = upz * z0 - upx * z2), (x2 = upx * z1 - upy * z0);\n\n        len = x0 * x0 + x1 * x1 + x2 * x2;\n    }\n\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n\n    out[0] = x0;\n    out[1] = x1;\n    out[2] = x2;\n    out[3] = 0;\n    out[4] = z1 * x2 - z2 * x1;\n    out[5] = z2 * x0 - z0 * x2;\n    out[6] = z0 * x1 - z1 * x0;\n    out[7] = 0;\n    out[8] = z0;\n    out[9] = z1;\n    out[10] = z2;\n    out[11] = 0;\n    out[12] = eyex;\n    out[13] = eyey;\n    out[14] = eyez;\n    out[15] = 1;\n    return out;\n}\n\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    out[4] = a[4] + b[4];\n    out[5] = a[5] + b[5];\n    out[6] = a[6] + b[6];\n    out[7] = a[7] + b[7];\n    out[8] = a[8] + b[8];\n    out[9] = a[9] + b[9];\n    out[10] = a[10] + b[10];\n    out[11] = a[11] + b[11];\n    out[12] = a[12] + b[12];\n    out[13] = a[13] + b[13];\n    out[14] = a[14] + b[14];\n    out[15] = a[15] + b[15];\n    return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the first operand\n * @param {mat4} b the second operand\n * @returns {mat4} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    out[3] = a[3] - b[3];\n    out[4] = a[4] - b[4];\n    out[5] = a[5] - b[5];\n    out[6] = a[6] - b[6];\n    out[7] = a[7] - b[7];\n    out[8] = a[8] - b[8];\n    out[9] = a[9] - b[9];\n    out[10] = a[10] - b[10];\n    out[11] = a[11] - b[11];\n    out[12] = a[12] - b[12];\n    out[13] = a[13] - b[13];\n    out[14] = a[14] - b[14];\n    out[15] = a[15] - b[15];\n    return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {mat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\nexport function multiplyScalar(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    out[4] = a[4] * b;\n    out[5] = a[5] * b;\n    out[6] = a[6] * b;\n    out[7] = a[7] * b;\n    out[8] = a[8] * b;\n    out[9] = a[9] * b;\n    out[10] = a[10] * b;\n    out[11] = a[11] * b;\n    out[12] = a[12] * b;\n    out[13] = a[13] * b;\n    out[14] = a[14] * b;\n    out[15] = a[15] * b;\n    return out;\n}\n","import * as Mat4Func from './functions/Mat4Func.js';\n\nexport class Mat4 extends Array {\n    constructor(\n        m00 = 1,\n        m01 = 0,\n        m02 = 0,\n        m03 = 0,\n        m10 = 0,\n        m11 = 1,\n        m12 = 0,\n        m13 = 0,\n        m20 = 0,\n        m21 = 0,\n        m22 = 1,\n        m23 = 0,\n        m30 = 0,\n        m31 = 0,\n        m32 = 0,\n        m33 = 1\n    ) {\n        super(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\n        return this;\n    }\n\n    get x() {\n        return this[12];\n    }\n\n    get y() {\n        return this[13];\n    }\n\n    get z() {\n        return this[14];\n    }\n\n    get w() {\n        return this[15];\n    }\n\n    set x(v) {\n        this[12] = v;\n    }\n\n    set y(v) {\n        this[13] = v;\n    }\n\n    set z(v) {\n        this[14] = v;\n    }\n\n    set w(v) {\n        this[15] = v;\n    }\n\n    set(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n        if (m00.length) return this.copy(m00);\n        Mat4Func.set(this, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\n        return this;\n    }\n\n    translate(v, m = this) {\n        Mat4Func.translate(this, m, v);\n        return this;\n    }\n\n    rotate(v, axis, m = this) {\n        Mat4Func.rotate(this, m, v, axis);\n        return this;\n    }\n\n    scale(v, m = this) {\n        Mat4Func.scale(this, m, typeof v === 'number' ? [v, v, v] : v);\n        return this;\n    }\n\n    multiply(ma, mb) {\n        if (mb) {\n            Mat4Func.multiply(this, ma, mb);\n        } else {\n            Mat4Func.multiply(this, this, ma);\n        }\n        return this;\n    }\n\n    identity() {\n        Mat4Func.identity(this);\n        return this;\n    }\n\n    copy(m) {\n        Mat4Func.copy(this, m);\n        return this;\n    }\n\n    fromPerspective({ fov, aspect, near, far } = {}) {\n        Mat4Func.perspective(this, fov, aspect, near, far);\n        return this;\n    }\n\n    fromOrthogonal({ left, right, bottom, top, near, far }) {\n        Mat4Func.ortho(this, left, right, bottom, top, near, far);\n        return this;\n    }\n\n    fromQuaternion(q) {\n        Mat4Func.fromQuat(this, q);\n        return this;\n    }\n\n    setPosition(v) {\n        this.x = v[0];\n        this.y = v[1];\n        this.z = v[2];\n        return this;\n    }\n\n    inverse(m = this) {\n        Mat4Func.invert(this, m);\n        return this;\n    }\n\n    compose(q, pos, scale) {\n        Mat4Func.fromRotationTranslationScale(this, q, pos, scale);\n        return this;\n    }\n\n    getRotation(q) {\n        Mat4Func.getRotation(q, this);\n        return this;\n    }\n\n    getTranslation(pos) {\n        Mat4Func.getTranslation(pos, this);\n        return this;\n    }\n\n    getScaling(scale) {\n        Mat4Func.getScaling(scale, this);\n        return this;\n    }\n\n    getMaxScaleOnAxis() {\n        return Mat4Func.getMaxScaleOnAxis(this);\n    }\n\n    lookAt(eye, target, up) {\n        Mat4Func.targetTo(this, eye, target, up);\n        return this;\n    }\n\n    determinant() {\n        return Mat4Func.determinant(this);\n    }\n\n    fromArray(a, o = 0) {\n        this[0] = a[o];\n        this[1] = a[o + 1];\n        this[2] = a[o + 2];\n        this[3] = a[o + 3];\n        this[4] = a[o + 4];\n        this[5] = a[o + 5];\n        this[6] = a[o + 6];\n        this[7] = a[o + 7];\n        this[8] = a[o + 8];\n        this[9] = a[o + 9];\n        this[10] = a[o + 10];\n        this[11] = a[o + 11];\n        this[12] = a[o + 12];\n        this[13] = a[o + 13];\n        this[14] = a[o + 14];\n        this[15] = a[o + 15];\n        return this;\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        a[o + 2] = this[2];\n        a[o + 3] = this[3];\n        a[o + 4] = this[4];\n        a[o + 5] = this[5];\n        a[o + 6] = this[6];\n        a[o + 7] = this[7];\n        a[o + 8] = this[8];\n        a[o + 9] = this[9];\n        a[o + 10] = this[10];\n        a[o + 11] = this[11];\n        a[o + 12] = this[12];\n        a[o + 13] = this[13];\n        a[o + 14] = this[14];\n        a[o + 15] = this[15];\n        return a;\n    }\n}\n","// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\nexport function fromRotationMatrix(out, m, order = 'YXZ') {\n    if (order === 'XYZ') {\n        out[1] = Math.asin(Math.min(Math.max(m[8], -1), 1));\n        if (Math.abs(m[8]) < 0.99999) {\n            out[0] = Math.atan2(-m[9], m[10]);\n            out[2] = Math.atan2(-m[4], m[0]);\n        } else {\n            out[0] = Math.atan2(m[6], m[5]);\n            out[2] = 0;\n        }\n    } else if (order === 'YXZ') {\n        out[0] = Math.asin(-Math.min(Math.max(m[9], -1), 1));\n        if (Math.abs(m[9]) < 0.99999) {\n            out[1] = Math.atan2(m[8], m[10]);\n            out[2] = Math.atan2(m[1], m[5]);\n        } else {\n            out[1] = Math.atan2(-m[2], m[0]);\n            out[2] = 0;\n        }\n    } else if (order === 'ZXY') {\n        out[0] = Math.asin(Math.min(Math.max(m[6], -1), 1));\n        if (Math.abs(m[6]) < 0.99999) {\n            out[1] = Math.atan2(-m[2], m[10]);\n            out[2] = Math.atan2(-m[4], m[5]);\n        } else {\n            out[1] = 0;\n            out[2] = Math.atan2(m[1], m[0]);\n        }\n    } else if (order === 'ZYX') {\n        out[1] = Math.asin(-Math.min(Math.max(m[2], -1), 1));\n        if (Math.abs(m[2]) < 0.99999) {\n            out[0] = Math.atan2(m[6], m[10]);\n            out[2] = Math.atan2(m[1], m[0]);\n        } else {\n            out[0] = 0;\n            out[2] = Math.atan2(-m[4], m[5]);\n        }\n    } else if (order === 'YZX') {\n        out[2] = Math.asin(Math.min(Math.max(m[1], -1), 1));\n        if (Math.abs(m[1]) < 0.99999) {\n            out[0] = Math.atan2(-m[9], m[5]);\n            out[1] = Math.atan2(-m[2], m[0]);\n        } else {\n            out[0] = 0;\n            out[1] = Math.atan2(m[8], m[10]);\n        }\n    } else if (order === 'XZY') {\n        out[2] = Math.asin(-Math.min(Math.max(m[4], -1), 1));\n        if (Math.abs(m[4]) < 0.99999) {\n            out[0] = Math.atan2(m[6], m[5]);\n            out[1] = Math.atan2(m[8], m[0]);\n        } else {\n            out[0] = Math.atan2(-m[9], m[10]);\n            out[1] = 0;\n        }\n    }\n\n    return out;\n}\n","import * as EulerFunc from './functions/EulerFunc.js';\nimport { Mat4 } from './Mat4.js';\n\nconst tmpMat4 = new Mat4();\n\nexport class Euler extends Array {\n    constructor(x = 0, y = x, z = x, order = 'YXZ') {\n        super(x, y, z);\n        this.order = order;\n        this.onChange = () => {};\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    set x(v) {\n        this[0] = v;\n        this.onChange();\n    }\n\n    set y(v) {\n        this[1] = v;\n        this.onChange();\n    }\n\n    set z(v) {\n        this[2] = v;\n        this.onChange();\n    }\n\n    set(x, y = x, z = x) {\n        if (x.length) return this.copy(x);\n        this[0] = x;\n        this[1] = y;\n        this[2] = z;\n        this.onChange();\n        return this;\n    }\n\n    copy(v) {\n        this[0] = v[0];\n        this[1] = v[1];\n        this[2] = v[2];\n        this.onChange();\n        return this;\n    }\n\n    reorder(order) {\n        this.order = order;\n        this.onChange();\n        return this;\n    }\n\n    fromRotationMatrix(m, order = this.order) {\n        EulerFunc.fromRotationMatrix(this, m, order);\n        return this;\n    }\n\n    fromQuaternion(q, order = this.order) {\n        tmpMat4.fromQuaternion(q);\n        return this.fromRotationMatrix(tmpMat4, order);\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        a[o + 2] = this[2];\n        return a;\n    }\n}\n","import { Vec3 } from '../math/Vec3.js';\nimport { Quat } from '../math/Quat.js';\nimport { Mat4 } from '../math/Mat4.js';\nimport { Euler } from '../math/Euler.js';\n\nexport class Transform {\n    constructor() {\n        this.parent = null;\n        this.children = [];\n        this.visible = true;\n\n        this.matrix = new Mat4();\n        this.worldMatrix = new Mat4();\n        this.matrixAutoUpdate = true;\n\n        this.position = new Vec3();\n        this.quaternion = new Quat();\n        this.scale = new Vec3(1);\n        this.rotation = new Euler();\n        this.up = new Vec3(0, 1, 0);\n\n        this.rotation.onChange = () => this.quaternion.fromEuler(this.rotation);\n        this.quaternion.onChange = () => this.rotation.fromQuaternion(this.quaternion);\n    }\n\n    setParent(parent, notifyParent = true) {\n        if (this.parent && parent !== this.parent) this.parent.removeChild(this, false);\n        this.parent = parent;\n        if (notifyParent && parent) parent.addChild(this, false);\n    }\n\n    addChild(child, notifyChild = true) {\n        if (!~this.children.indexOf(child)) this.children.push(child);\n        if (notifyChild) child.setParent(this, false);\n    }\n\n    removeChild(child, notifyChild = true) {\n        if (!!~this.children.indexOf(child)) this.children.splice(this.children.indexOf(child), 1);\n        if (notifyChild) child.setParent(null, false);\n    }\n\n    updateMatrixWorld(force) {\n        if (this.matrixAutoUpdate) this.updateMatrix();\n        if (this.worldMatrixNeedsUpdate || force) {\n            if (this.parent === null) this.worldMatrix.copy(this.matrix);\n            else this.worldMatrix.multiply(this.parent.worldMatrix, this.matrix);\n            this.worldMatrixNeedsUpdate = false;\n            force = true;\n        }\n\n        for (let i = 0, l = this.children.length; i < l; i++) {\n            this.children[i].updateMatrixWorld(force);\n        }\n    }\n\n    updateMatrix() {\n        this.matrix.compose(this.quaternion, this.position, this.scale);\n        this.worldMatrixNeedsUpdate = true;\n    }\n\n    traverse(callback) {\n        // Return true in callback to stop traversing children\n        if (callback(this)) return;\n        for (let i = 0, l = this.children.length; i < l; i++) {\n            this.children[i].traverse(callback);\n        }\n    }\n\n    decompose() {\n        this.matrix.getTranslation(this.position);\n        this.matrix.getRotation(this.quaternion);\n        this.matrix.getScaling(this.scale);\n        this.rotation.fromQuaternion(this.quaternion);\n    }\n\n    lookAt(target, invert = false) {\n        if (invert) this.matrix.lookAt(this.position, target, this.up);\n        else this.matrix.lookAt(target, this.position, this.up);\n        this.matrix.getRotation(this.quaternion);\n        this.rotation.fromQuaternion(this.quaternion);\n    }\n}\n","import { Transform } from './Transform.js';\nimport { Mat4 } from '../math/Mat4.js';\nimport { Vec3 } from '../math/Vec3.js';\n\nconst tempMat4 = new Mat4();\nconst tempVec3a = new Vec3();\nconst tempVec3b = new Vec3();\n\nexport class Camera extends Transform {\n    constructor(gl, { near = 0.1, far = 100, fov = 45, aspect = 1, left, right, bottom, top, zoom = 1 } = {}) {\n        super();\n\n        Object.assign(this, { near, far, fov, aspect, left, right, bottom, top, zoom });\n\n        this.projectionMatrix = new Mat4();\n        this.viewMatrix = new Mat4();\n        this.projectionViewMatrix = new Mat4();\n        this.worldPosition = new Vec3();\n\n        // Use orthographic if left/right set, else default to perspective camera\n        this.type = left || right ? 'orthographic' : 'perspective';\n\n        if (this.type === 'orthographic') this.orthographic();\n        else this.perspective();\n    }\n\n    perspective({ near = this.near, far = this.far, fov = this.fov, aspect = this.aspect } = {}) {\n        Object.assign(this, { near, far, fov, aspect });\n        this.projectionMatrix.fromPerspective({ fov: fov * (Math.PI / 180), aspect, near, far });\n        this.type = 'perspective';\n        return this;\n    }\n\n    orthographic({\n        near = this.near,\n        far = this.far,\n        left = this.left,\n        right = this.right,\n        bottom = this.bottom,\n        top = this.top,\n        zoom = this.zoom,\n    } = {}) {\n        Object.assign(this, { near, far, left, right, bottom, top, zoom });\n        left /= zoom;\n        right /= zoom;\n        bottom /= zoom;\n        top /= zoom;\n        this.projectionMatrix.fromOrthogonal({ left, right, bottom, top, near, far });\n        this.type = 'orthographic';\n        return this;\n    }\n\n    updateMatrixWorld() {\n        super.updateMatrixWorld();\n        this.viewMatrix.inverse(this.worldMatrix);\n        this.worldMatrix.getTranslation(this.worldPosition);\n\n        // used for sorting\n        this.projectionViewMatrix.multiply(this.projectionMatrix, this.viewMatrix);\n        return this;\n    }\n\n    lookAt(target) {\n        super.lookAt(target, true);\n        return this;\n    }\n\n    // Project 3D coordinate to 2D point\n    project(v) {\n        v.applyMatrix4(this.viewMatrix);\n        v.applyMatrix4(this.projectionMatrix);\n        return this;\n    }\n\n    // Unproject 2D point to 3D coordinate\n    unproject(v) {\n        v.applyMatrix4(tempMat4.inverse(this.projectionMatrix));\n        v.applyMatrix4(this.worldMatrix);\n        return this;\n    }\n\n    updateFrustum() {\n        if (!this.frustum) {\n            this.frustum = [new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3()];\n        }\n\n        const m = this.projectionViewMatrix;\n        this.frustum[0].set(m[3] - m[0], m[7] - m[4], m[11] - m[8]).constant = m[15] - m[12]; // -x\n        this.frustum[1].set(m[3] + m[0], m[7] + m[4], m[11] + m[8]).constant = m[15] + m[12]; // +x\n        this.frustum[2].set(m[3] + m[1], m[7] + m[5], m[11] + m[9]).constant = m[15] + m[13]; // +y\n        this.frustum[3].set(m[3] - m[1], m[7] - m[5], m[11] - m[9]).constant = m[15] - m[13]; // -y\n        this.frustum[4].set(m[3] - m[2], m[7] - m[6], m[11] - m[10]).constant = m[15] - m[14]; // +z (far)\n        this.frustum[5].set(m[3] + m[2], m[7] + m[6], m[11] + m[10]).constant = m[15] + m[14]; // -z (near)\n\n        for (let i = 0; i < 6; i++) {\n            const invLen = 1.0 / this.frustum[i].distance();\n            this.frustum[i].multiply(invLen);\n            this.frustum[i].constant *= invLen;\n        }\n    }\n\n    frustumIntersectsMesh(node) {\n        // If no position attribute, treat as frustumCulled false\n        if (!node.geometry.attributes.position) return true;\n\n        if (!node.geometry.bounds || node.geometry.bounds.radius === Infinity) node.geometry.computeBoundingSphere();\n\n        if (!node.geometry.bounds) return true;\n\n        const center = tempVec3a;\n        center.copy(node.geometry.bounds.center);\n        center.applyMatrix4(node.worldMatrix);\n\n        const radius = node.geometry.bounds.radius * node.worldMatrix.getMaxScaleOnAxis();\n\n        return this.frustumIntersectsSphere(center, radius);\n    }\n\n    frustumIntersectsSphere(center, radius) {\n        const normal = tempVec3b;\n\n        for (let i = 0; i < 6; i++) {\n            const plane = this.frustum[i];\n            const distance = normal.copy(plane).dot(center) + plane.constant;\n            if (distance < -radius) return false;\n        }\n        return true;\n    }\n}\n","const EPSILON = 0.000001;\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nexport function fromMat4(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[4];\n    out[4] = a[5];\n    out[5] = a[6];\n    out[6] = a[8];\n    out[7] = a[9];\n    out[8] = a[10];\n    return out;\n}\n\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {quat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\nexport function fromQuat(out, q) {\n    let x = q[0],\n        y = q[1],\n        z = q[2],\n        w = q[3];\n    let x2 = x + x;\n    let y2 = y + y;\n    let z2 = z + z;\n\n    let xx = x * x2;\n    let yx = y * x2;\n    let yy = y * y2;\n    let zx = z * x2;\n    let zy = z * y2;\n    let zz = z * z2;\n    let wx = w * x2;\n    let wy = w * y2;\n    let wz = w * z2;\n\n    out[0] = 1 - yy - zz;\n    out[3] = yx - wz;\n    out[6] = zx + wy;\n\n    out[1] = yx + wz;\n    out[4] = 1 - xx - zz;\n    out[7] = zy - wx;\n\n    out[2] = zx - wy;\n    out[5] = zy + wx;\n    out[8] = 1 - xx - yy;\n\n    return out;\n}\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n}\n\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n    out[0] = m00;\n    out[1] = m01;\n    out[2] = m02;\n    out[3] = m10;\n    out[4] = m11;\n    out[5] = m12;\n    out[6] = m20;\n    out[7] = m21;\n    out[8] = m22;\n    return out;\n}\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nexport function identity(out) {\n    out[0] = 1;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 1;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 1;\n    return out;\n}\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function transpose(out, a) {\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\n    if (out === a) {\n        let a01 = a[1],\n            a02 = a[2],\n            a12 = a[5];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a01;\n        out[5] = a[7];\n        out[6] = a02;\n        out[7] = a12;\n    } else {\n        out[0] = a[0];\n        out[1] = a[3];\n        out[2] = a[6];\n        out[3] = a[1];\n        out[4] = a[4];\n        out[5] = a[7];\n        out[6] = a[2];\n        out[7] = a[5];\n        out[8] = a[8];\n    }\n\n    return out;\n}\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nexport function invert(out, a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2];\n    let a10 = a[3],\n        a11 = a[4],\n        a12 = a[5];\n    let a20 = a[6],\n        a21 = a[7],\n        a22 = a[8];\n\n    let b01 = a22 * a11 - a12 * a21;\n    let b11 = -a22 * a10 + a12 * a20;\n    let b21 = a21 * a10 - a11 * a20;\n\n    // Calculate the determinant\n    let det = a00 * b01 + a01 * b11 + a02 * b21;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = b01 * det;\n    out[1] = (-a22 * a01 + a02 * a21) * det;\n    out[2] = (a12 * a01 - a02 * a11) * det;\n    out[3] = b11 * det;\n    out[4] = (a22 * a00 - a02 * a20) * det;\n    out[5] = (-a12 * a00 + a02 * a10) * det;\n    out[6] = b21 * det;\n    out[7] = (-a21 * a00 + a01 * a20) * det;\n    out[8] = (a11 * a00 - a01 * a10) * det;\n    return out;\n}\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nexport function determinant(a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2];\n    let a10 = a[3],\n        a11 = a[4],\n        a12 = a[5];\n    let a20 = a[6],\n        a21 = a[7],\n        a22 = a[8];\n\n    return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function multiply(out, a, b) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2];\n    let a10 = a[3],\n        a11 = a[4],\n        a12 = a[5];\n    let a20 = a[6],\n        a21 = a[7],\n        a22 = a[8];\n\n    let b00 = b[0],\n        b01 = b[1],\n        b02 = b[2];\n    let b10 = b[3],\n        b11 = b[4],\n        b12 = b[5];\n    let b20 = b[6],\n        b21 = b[7],\n        b22 = b[8];\n\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return out;\n}\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nexport function translate(out, a, v) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a10 = a[3],\n        a11 = a[4],\n        a12 = a[5],\n        a20 = a[6],\n        a21 = a[7],\n        a22 = a[8],\n        x = v[0],\n        y = v[1];\n\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n\n    out[3] = a10;\n    out[4] = a11;\n    out[5] = a12;\n\n    out[6] = x * a00 + y * a10 + a20;\n    out[7] = x * a01 + y * a11 + a21;\n    out[8] = x * a02 + y * a12 + a22;\n    return out;\n}\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nexport function rotate(out, a, rad) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a10 = a[3],\n        a11 = a[4],\n        a12 = a[5],\n        a20 = a[6],\n        a21 = a[7],\n        a22 = a[8],\n        s = Math.sin(rad),\n        c = Math.cos(rad);\n\n    out[0] = c * a00 + s * a10;\n    out[1] = c * a01 + s * a11;\n    out[2] = c * a02 + s * a12;\n\n    out[3] = c * a10 - s * a00;\n    out[4] = c * a11 - s * a01;\n    out[5] = c * a12 - s * a02;\n\n    out[6] = a20;\n    out[7] = a21;\n    out[8] = a22;\n    return out;\n}\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nexport function scale(out, a, v) {\n    let x = v[0],\n        y = v[1];\n\n    out[0] = x * a[0];\n    out[1] = x * a[1];\n    out[2] = x * a[2];\n\n    out[3] = y * a[3];\n    out[4] = y * a[4];\n    out[5] = y * a[5];\n\n    out[6] = a[6];\n    out[7] = a[7];\n    out[8] = a[8];\n    return out;\n}\n\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {mat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\nexport function normalFromMat4(out, a) {\n    let a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    let a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7];\n    let a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11];\n    let a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15];\n\n    let b00 = a00 * a11 - a01 * a10;\n    let b01 = a00 * a12 - a02 * a10;\n    let b02 = a00 * a13 - a03 * a10;\n    let b03 = a01 * a12 - a02 * a11;\n    let b04 = a01 * a13 - a03 * a11;\n    let b05 = a02 * a13 - a03 * a12;\n    let b06 = a20 * a31 - a21 * a30;\n    let b07 = a20 * a32 - a22 * a30;\n    let b08 = a20 * a33 - a23 * a30;\n    let b09 = a21 * a32 - a22 * a31;\n    let b10 = a21 * a33 - a23 * a31;\n    let b11 = a22 * a33 - a23 * a32;\n\n    // Calculate the determinant\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n    if (!det) {\n        return null;\n    }\n    det = 1.0 / det;\n\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n    out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n    out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n    return out;\n}\n\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\nexport function projection(out, width, height) {\n    out[0] = 2 / width;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = -2 / height;\n    out[5] = 0;\n    out[6] = -1;\n    out[7] = 1;\n    out[8] = 1;\n    return out;\n}\n\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    out[2] = a[2] + b[2];\n    out[3] = a[3] + b[3];\n    out[4] = a[4] + b[4];\n    out[5] = a[5] + b[5];\n    out[6] = a[6] + b[6];\n    out[7] = a[7] + b[7];\n    out[8] = a[8] + b[8];\n    return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    out[2] = a[2] - b[2];\n    out[3] = a[3] - b[3];\n    out[4] = a[4] - b[4];\n    out[5] = a[5] - b[5];\n    out[6] = a[6] - b[6];\n    out[7] = a[7] - b[7];\n    out[8] = a[8] - b[8];\n    return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\nexport function multiplyScalar(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    out[2] = a[2] * b;\n    out[3] = a[3] * b;\n    out[4] = a[4] * b;\n    out[5] = a[5] * b;\n    out[6] = a[6] * b;\n    out[7] = a[7] * b;\n    out[8] = a[8] * b;\n    return out;\n}\n","import * as Mat3Func from './functions/Mat3Func.js';\n\nexport class Mat3 extends Array {\n    constructor(m00 = 1, m01 = 0, m02 = 0, m10 = 0, m11 = 1, m12 = 0, m20 = 0, m21 = 0, m22 = 1) {\n        super(m00, m01, m02, m10, m11, m12, m20, m21, m22);\n        return this;\n    }\n\n    set(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n        if (m00.length) return this.copy(m00);\n        Mat3Func.set(this, m00, m01, m02, m10, m11, m12, m20, m21, m22);\n        return this;\n    }\n\n    translate(v, m = this) {\n        Mat3Func.translate(this, m, v);\n        return this;\n    }\n\n    rotate(v, m = this) {\n        Mat3Func.rotate(this, m, v);\n        return this;\n    }\n\n    scale(v, m = this) {\n        Mat3Func.scale(this, m, v);\n        return this;\n    }\n\n    multiply(ma, mb) {\n        if (mb) {\n            Mat3Func.multiply(this, ma, mb);\n        } else {\n            Mat3Func.multiply(this, this, ma);\n        }\n        return this;\n    }\n\n    identity() {\n        Mat3Func.identity(this);\n        return this;\n    }\n\n    copy(m) {\n        Mat3Func.copy(this, m);\n        return this;\n    }\n\n    fromMatrix4(m) {\n        Mat3Func.fromMat4(this, m);\n        return this;\n    }\n\n    fromQuaternion(q) {\n        Mat3Func.fromQuat(this, q);\n        return this;\n    }\n\n    fromBasis(vec3a, vec3b, vec3c) {\n        this.set(vec3a[0], vec3a[1], vec3a[2], vec3b[0], vec3b[1], vec3b[2], vec3c[0], vec3c[1], vec3c[2]);\n        return this;\n    }\n\n    inverse(m = this) {\n        Mat3Func.invert(this, m);\n        return this;\n    }\n\n    getNormalMatrix(m) {\n        Mat3Func.normalFromMat4(this, m);\n        return this;\n    }\n}\n","import { Transform } from './Transform.js';\nimport { Mat3 } from '../math/Mat3.js';\nimport { Mat4 } from '../math/Mat4.js';\n\nlet ID = 0;\n\nexport class Mesh extends Transform {\n    constructor(gl, { geometry, program, mode = gl.TRIANGLES, frustumCulled = true, renderOrder = 0 } = {}) {\n        super();\n        if (!gl.canvas) console.error('gl not passed as first argument to Mesh');\n        this.gl = gl;\n        this.id = ID++;\n        this.geometry = geometry;\n        this.program = program;\n        this.mode = mode;\n\n        // Used to skip frustum culling\n        this.frustumCulled = frustumCulled;\n\n        // Override sorting to force an order\n        this.renderOrder = renderOrder;\n        this.modelViewMatrix = new Mat4();\n        this.normalMatrix = new Mat3();\n        this.beforeRenderCallbacks = [];\n        this.afterRenderCallbacks = [];\n    }\n\n    onBeforeRender(f) {\n        this.beforeRenderCallbacks.push(f);\n        return this;\n    }\n\n    onAfterRender(f) {\n        this.afterRenderCallbacks.push(f);\n        return this;\n    }\n\n    draw({ camera } = {}) {\n        this.beforeRenderCallbacks.forEach((f) => f && f({ mesh: this, camera }));\n        if (camera) {\n            // Add empty matrix uniforms to program if unset\n            if (!this.program.uniforms.modelMatrix) {\n                Object.assign(this.program.uniforms, {\n                    modelMatrix: { value: null },\n                    viewMatrix: { value: null },\n                    modelViewMatrix: { value: null },\n                    normalMatrix: { value: null },\n                    projectionMatrix: { value: null },\n                    cameraPosition: { value: null },\n                });\n            }\n\n            // Set the matrix uniforms\n            this.program.uniforms.projectionMatrix.value = camera.projectionMatrix;\n            this.program.uniforms.cameraPosition.value = camera.worldPosition;\n            this.program.uniforms.viewMatrix.value = camera.viewMatrix;\n            this.modelViewMatrix.multiply(camera.viewMatrix, this.worldMatrix);\n            this.normalMatrix.getNormalMatrix(this.modelViewMatrix);\n            this.program.uniforms.modelMatrix.value = this.worldMatrix;\n            this.program.uniforms.modelViewMatrix.value = this.modelViewMatrix;\n            this.program.uniforms.normalMatrix.value = this.normalMatrix;\n        }\n\n        // determine if faces need to be flipped - when mesh scaled negatively\n        let flipFaces = this.program.cullFace && this.worldMatrix.determinant() < 0;\n        this.program.use({ flipFaces });\n        this.geometry.draw({ mode: this.mode, program: this.program });\n        this.afterRenderCallbacks.forEach((f) => f && f({ mesh: this, camera }));\n    }\n}\n","// TODO: delete texture\n// TODO: use texSubImage2D for updates (video or when loaded)\n// TODO: need? encoding = linearEncoding\n// TODO: support non-compressed mipmaps uploads\n\nconst emptyPixel = new Uint8Array(4);\n\nfunction isPowerOf2(value) {\n    return (value & (value - 1)) === 0;\n}\n\nlet ID = 1;\n\nexport class Texture {\n    constructor(\n        gl,\n        {\n            image,\n            target = gl.TEXTURE_2D,\n            type = gl.UNSIGNED_BYTE,\n            format = gl.RGBA,\n            internalFormat = format,\n            wrapS = gl.CLAMP_TO_EDGE,\n            wrapT = gl.CLAMP_TO_EDGE,\n            generateMipmaps = true,\n            minFilter = generateMipmaps ? gl.NEAREST_MIPMAP_LINEAR : gl.LINEAR,\n            magFilter = gl.LINEAR,\n            premultiplyAlpha = false,\n            unpackAlignment = 4,\n            flipY = target == gl.TEXTURE_2D ? true : false,\n            anisotropy = 0,\n            level = 0,\n            width, // used for RenderTargets or Data Textures\n            height = width,\n        } = {}\n    ) {\n        this.gl = gl;\n        this.id = ID++;\n\n        this.image = image;\n        this.target = target;\n        this.type = type;\n        this.format = format;\n        this.internalFormat = internalFormat;\n        this.minFilter = minFilter;\n        this.magFilter = magFilter;\n        this.wrapS = wrapS;\n        this.wrapT = wrapT;\n        this.generateMipmaps = generateMipmaps;\n        this.premultiplyAlpha = premultiplyAlpha;\n        this.unpackAlignment = unpackAlignment;\n        this.flipY = flipY;\n        this.anisotropy = Math.min(anisotropy, this.gl.renderer.parameters.maxAnisotropy);\n        this.level = level;\n        this.width = width;\n        this.height = height;\n        this.texture = this.gl.createTexture();\n\n        this.store = {\n            image: null,\n        };\n\n        // Alias for state store to avoid redundant calls for global state\n        this.glState = this.gl.renderer.state;\n\n        // State store to avoid redundant calls for per-texture state\n        this.state = {};\n        this.state.minFilter = this.gl.NEAREST_MIPMAP_LINEAR;\n        this.state.magFilter = this.gl.LINEAR;\n        this.state.wrapS = this.gl.REPEAT;\n        this.state.wrapT = this.gl.REPEAT;\n        this.state.anisotropy = 0;\n    }\n\n    bind() {\n        // Already bound to active texture unit\n        if (this.glState.textureUnits[this.glState.activeTextureUnit] === this.id) return;\n        this.gl.bindTexture(this.target, this.texture);\n        this.glState.textureUnits[this.glState.activeTextureUnit] = this.id;\n    }\n\n    update(textureUnit = 0) {\n        const needsUpdate = !(this.image === this.store.image && !this.needsUpdate);\n\n        // Make sure that texture is bound to its texture unit\n        if (needsUpdate || this.glState.textureUnits[textureUnit] !== this.id) {\n            // set active texture unit to perform texture functions\n            this.gl.renderer.activeTexture(textureUnit);\n            this.bind();\n        }\n\n        if (!needsUpdate) return;\n        this.needsUpdate = false;\n\n        if (this.flipY !== this.glState.flipY) {\n            this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, this.flipY);\n            this.glState.flipY = this.flipY;\n        }\n\n        if (this.premultiplyAlpha !== this.glState.premultiplyAlpha) {\n            this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);\n            this.glState.premultiplyAlpha = this.premultiplyAlpha;\n        }\n\n        if (this.unpackAlignment !== this.glState.unpackAlignment) {\n            this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, this.unpackAlignment);\n            this.glState.unpackAlignment = this.unpackAlignment;\n        }\n\n        if (this.minFilter !== this.state.minFilter) {\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_MIN_FILTER, this.minFilter);\n            this.state.minFilter = this.minFilter;\n        }\n\n        if (this.magFilter !== this.state.magFilter) {\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_MAG_FILTER, this.magFilter);\n            this.state.magFilter = this.magFilter;\n        }\n\n        if (this.wrapS !== this.state.wrapS) {\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_S, this.wrapS);\n            this.state.wrapS = this.wrapS;\n        }\n\n        if (this.wrapT !== this.state.wrapT) {\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_T, this.wrapT);\n            this.state.wrapT = this.wrapT;\n        }\n\n        if (this.anisotropy && this.anisotropy !== this.state.anisotropy) {\n            this.gl.texParameterf(\n                this.target,\n                this.gl.renderer.getExtension('EXT_texture_filter_anisotropic').TEXTURE_MAX_ANISOTROPY_EXT,\n                this.anisotropy\n            );\n            this.state.anisotropy = this.anisotropy;\n        }\n\n        if (this.image) {\n            if (this.image.width) {\n                this.width = this.image.width;\n                this.height = this.image.height;\n            }\n\n            if (this.target === this.gl.TEXTURE_CUBE_MAP) {\n                // For cube maps\n                for (let i = 0; i < 6; i++) {\n                    this.gl.texImage2D(\n                        this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i,\n                        this.level,\n                        this.internalFormat,\n                        this.format,\n                        this.type,\n                        this.image[i]\n                    );\n                }\n            } else if (ArrayBuffer.isView(this.image)) {\n                // Data texture\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, this.image);\n            } else if (this.image.isCompressedTexture) {\n                // Compressed texture\n                for (let level = 0; level < this.image.length; level++) {\n                    this.gl.compressedTexImage2D(\n                        this.target,\n                        level,\n                        this.internalFormat,\n                        this.image[level].width,\n                        this.image[level].height,\n                        0,\n                        this.image[level].data\n                    );\n                }\n            } else {\n                // Regular texture\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.format, this.type, this.image);\n            }\n\n            if (this.generateMipmaps) {\n                // For WebGL1, if not a power of 2, turn off mips, set wrapping to clamp to edge and minFilter to linear\n                if (!this.gl.renderer.isWebgl2 && (!isPowerOf2(this.image.width) || !isPowerOf2(this.image.height))) {\n                    this.generateMipmaps = false;\n                    this.wrapS = this.wrapT = this.gl.CLAMP_TO_EDGE;\n                    this.minFilter = this.gl.LINEAR;\n                } else {\n                    this.gl.generateMipmap(this.target);\n                }\n            }\n\n            // Callback for when data is pushed to GPU\n            this.onUpdate && this.onUpdate();\n        } else {\n            if (this.target === this.gl.TEXTURE_CUBE_MAP) {\n                // Upload empty pixel for each side while no image to avoid errors while image or video loading\n                for (let i = 0; i < 6; i++) {\n                    this.gl.texImage2D(\n                        this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i,\n                        0,\n                        this.gl.RGBA,\n                        1,\n                        1,\n                        0,\n                        this.gl.RGBA,\n                        this.gl.UNSIGNED_BYTE,\n                        emptyPixel\n                    );\n                }\n            } else if (this.width) {\n                // image intentionally left null for RenderTarget\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, null);\n            } else {\n                // Upload empty pixel if no image to avoid errors while image or video loading\n                this.gl.texImage2D(this.target, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, emptyPixel);\n            }\n        }\n        this.store.image = this.image;\n    }\n}\n","// TODO: multi target rendering\n// TODO: test stencil and depth\n// TODO: destroy\n// TODO: blit on resize?\nimport { Texture } from './Texture.js';\n\nexport class RenderTarget {\n    constructor(\n        gl,\n        {\n            width = gl.canvas.width,\n            height = gl.canvas.height,\n            target = gl.FRAMEBUFFER,\n            color = 1, // number of color attachments\n            depth = true,\n            stencil = false,\n            depthTexture = false, // note - stencil breaks\n            wrapS = gl.CLAMP_TO_EDGE,\n            wrapT = gl.CLAMP_TO_EDGE,\n            minFilter = gl.LINEAR,\n            magFilter = minFilter,\n            type = gl.UNSIGNED_BYTE,\n            format = gl.RGBA,\n            internalFormat = format,\n            unpackAlignment,\n            premultiplyAlpha,\n        } = {}\n    ) {\n        this.gl = gl;\n        this.width = width;\n        this.height = height;\n        this.depth = depth;\n        this.buffer = this.gl.createFramebuffer();\n        this.target = target;\n        this.gl.bindFramebuffer(this.target, this.buffer);\n\n        this.textures = [];\n        const drawBuffers = [];\n\n        // create and attach required num of color textures\n        for (let i = 0; i < color; i++) {\n            this.textures.push(\n                new Texture(gl, {\n                    width,\n                    height,\n                    wrapS,\n                    wrapT,\n                    minFilter,\n                    magFilter,\n                    type,\n                    format,\n                    internalFormat,\n                    unpackAlignment,\n                    premultiplyAlpha,\n                    flipY: false,\n                    generateMipmaps: false,\n                })\n            );\n            this.textures[i].update();\n            this.gl.framebufferTexture2D(this.target, this.gl.COLOR_ATTACHMENT0 + i, this.gl.TEXTURE_2D, this.textures[i].texture, 0 /* level */);\n            drawBuffers.push(this.gl.COLOR_ATTACHMENT0 + i);\n        }\n\n        // For multi-render targets shader access\n        if (drawBuffers.length > 1) this.gl.renderer.drawBuffers(drawBuffers);\n\n        // alias for majority of use cases\n        this.texture = this.textures[0];\n\n        // note depth textures break stencil - so can't use together\n        if (depthTexture && (this.gl.renderer.isWebgl2 || this.gl.renderer.getExtension('WEBGL_depth_texture'))) {\n            this.depthTexture = new Texture(gl, {\n                width,\n                height,\n                minFilter: this.gl.NEAREST,\n                magFilter: this.gl.NEAREST,\n                format: this.gl.DEPTH_COMPONENT,\n                internalFormat: gl.renderer.isWebgl2 ? this.gl.DEPTH_COMPONENT16 : this.gl.DEPTH_COMPONENT,\n                type: this.gl.UNSIGNED_INT,\n            });\n            this.depthTexture.update();\n            this.gl.framebufferTexture2D(this.target, this.gl.DEPTH_ATTACHMENT, this.gl.TEXTURE_2D, this.depthTexture.texture, 0 /* level */);\n        } else {\n            // Render buffers\n            if (depth && !stencil) {\n                this.depthBuffer = this.gl.createRenderbuffer();\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.depthBuffer);\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_COMPONENT16, width, height);\n                this.gl.framebufferRenderbuffer(this.target, this.gl.DEPTH_ATTACHMENT, this.gl.RENDERBUFFER, this.depthBuffer);\n            }\n\n            if (stencil && !depth) {\n                this.stencilBuffer = this.gl.createRenderbuffer();\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.stencilBuffer);\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.STENCIL_INDEX8, width, height);\n                this.gl.framebufferRenderbuffer(this.target, this.gl.STENCIL_ATTACHMENT, this.gl.RENDERBUFFER, this.stencilBuffer);\n            }\n\n            if (depth && stencil) {\n                this.depthStencilBuffer = this.gl.createRenderbuffer();\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.depthStencilBuffer);\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_STENCIL, width, height);\n                this.gl.framebufferRenderbuffer(this.target, this.gl.DEPTH_STENCIL_ATTACHMENT, this.gl.RENDERBUFFER, this.depthStencilBuffer);\n            }\n        }\n\n        this.gl.bindFramebuffer(this.target, null);\n    }\n}\n","const NAMES = {\n    black: '#000000',\n    white: '#ffffff',\n    red: '#ff0000',\n    green: '#00ff00',\n    blue: '#0000ff',\n    fuchsia: '#ff00ff',\n    cyan: '#00ffff',\n    yellow: '#ffff00',\n    orange: '#ff8000',\n};\n\nexport function hexToRGB(hex) {\n    if (hex.length === 4) hex = hex[0] + hex[1] + hex[1] + hex[2] + hex[2] + hex[3] + hex[3];\n    const rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    if (!rgb) console.warn(`Unable to convert hex string ${hex} to rgb values`);\n    return [parseInt(rgb[1], 16) / 255, parseInt(rgb[2], 16) / 255, parseInt(rgb[3], 16) / 255];\n}\n\nexport function numberToRGB(num) {\n    num = parseInt(num);\n    return [((num >> 16) & 255) / 255, ((num >> 8) & 255) / 255, (num & 255) / 255];\n}\n\nexport function parseColor(color) {\n    // Empty\n    if (color === undefined) return [0, 0, 0];\n\n    // Decimal\n    if (arguments.length === 3) return arguments;\n\n    // Number\n    if (!isNaN(color)) return numberToRGB(color);\n\n    // Hex\n    if (color[0] === '#') return hexToRGB(color);\n\n    // Names\n    if (NAMES[color.toLowerCase()]) return hexToRGB(NAMES[color.toLowerCase()]);\n\n    console.warn('Color format not recognised');\n    return [0, 0, 0];\n}\n","import * as ColorFunc from './functions/ColorFunc.js';\n\n// Color stored as an array of RGB decimal values (between 0 > 1)\n// Constructor and set method accept following formats:\n// new Color() - Empty (defaults to black)\n// new Color([0.2, 0.4, 1.0]) - Decimal Array (or another Color instance)\n// new Color(0.7, 0.0, 0.1) - Decimal RGB values\n// new Color('#ff0000') - Hex string\n// new Color('#ccc') - Short-hand Hex string\n// new Color(0x4f27e8) - Number\n// new Color('red') - Color name string (short list in ColorFunc.js)\n\nexport class Color extends Array {\n    constructor(color) {\n        if (Array.isArray(color)) return super(...color);\n        return super(...ColorFunc.parseColor(...arguments));\n    }\n\n    get r() {\n        return this[0];\n    }\n\n    get g() {\n        return this[1];\n    }\n\n    get b() {\n        return this[2];\n    }\n\n    set r(v) {\n        this[0] = v;\n    }\n\n    set g(v) {\n        this[1] = v;\n    }\n\n    set b(v) {\n        this[2] = v;\n    }\n\n    set(color) {\n        if (Array.isArray(color)) return this.copy(color);\n        return this.copy(ColorFunc.parseColor(...arguments));\n    }\n\n    copy(v) {\n        this[0] = v[0];\n        this[1] = v[1];\n        this[2] = v[2];\n        return this;\n    }\n}\n","const EPSILON = 0.000001;\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\nexport function copy(out, a) {\n    out[0] = a[0];\n    out[1] = a[1];\n    return out;\n}\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\nexport function set(out, x, y) {\n    out[0] = x;\n    out[1] = y;\n    return out;\n}\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function add(out, a, b) {\n    out[0] = a[0] + b[0];\n    out[1] = a[1] + b[1];\n    return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function subtract(out, a, b) {\n    out[0] = a[0] - b[0];\n    out[1] = a[1] - b[1];\n    return out;\n}\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function multiply(out, a, b) {\n    out[0] = a[0] * b[0];\n    out[1] = a[1] * b[1];\n    return out;\n}\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nexport function divide(out, a, b) {\n    out[0] = a[0] / b[0];\n    out[1] = a[1] / b[1];\n    return out;\n}\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\nexport function scale(out, a, b) {\n    out[0] = a[0] * b;\n    out[1] = a[1] * b;\n    return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\nexport function distance(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return Math.sqrt(x * x + y * y);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\nexport function squaredDistance(a, b) {\n    var x = b[0] - a[0],\n        y = b[1] - a[1];\n    return x * x + y * y;\n}\n\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\nexport function length(a) {\n    var x = a[0],\n        y = a[1];\n    return Math.sqrt(x * x + y * y);\n}\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nexport function squaredLength(a) {\n    var x = a[0],\n        y = a[1];\n    return x * x + y * y;\n}\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\nexport function negate(out, a) {\n    out[0] = -a[0];\n    out[1] = -a[1];\n    return out;\n}\n\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to invert\n * @returns {vec2} out\n */\nexport function inverse(out, a) {\n    out[0] = 1.0 / a[0];\n    out[1] = 1.0 / a[1];\n    return out;\n}\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\nexport function normalize(out, a) {\n    var x = a[0],\n        y = a[1];\n    var len = x * x + y * y;\n    if (len > 0) {\n        //TODO: evaluate use of glm_invsqrt here?\n        len = 1 / Math.sqrt(len);\n    }\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    return out;\n}\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\nexport function dot(a, b) {\n    return a[0] * b[0] + a[1] * b[1];\n}\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product returns a scalar\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} cross product of a and b\n */\nexport function cross(a, b) {\n    return a[0] * b[1] - a[1] * b[0];\n}\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount between the two inputs\n * @returns {vec2} out\n */\nexport function lerp(out, a, b, t) {\n    var ax = a[0],\n        ay = a[1];\n    out[0] = ax + t * (b[0] - ax);\n    out[1] = ay + t * (b[1] - ay);\n    return out;\n}\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat2(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y;\n    out[1] = m[1] * x + m[3] * y;\n    return out;\n}\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat2d(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[2] * y + m[4];\n    out[1] = m[1] * x + m[3] * y + m[5];\n    return out;\n}\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat3(out, a, m) {\n    var x = a[0],\n        y = a[1];\n    out[0] = m[0] * x + m[3] * y + m[6];\n    out[1] = m[1] * x + m[4] * y + m[7];\n    return out;\n}\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\nexport function transformMat4(out, a, m) {\n    let x = a[0];\n    let y = a[1];\n    out[0] = m[0] * x + m[4] * y + m[12];\n    out[1] = m[1] * x + m[5] * y + m[13];\n    return out;\n}\n\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nexport function exactEquals(a, b) {\n    return a[0] === b[0] && a[1] === b[1];\n}\n","import * as Vec2Func from './functions/Vec2Func.js';\n\nexport class Vec2 extends Array {\n    constructor(x = 0, y = x) {\n        super(x, y);\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    set x(v) {\n        this[0] = v;\n    }\n\n    set y(v) {\n        this[1] = v;\n    }\n\n    set(x, y = x) {\n        if (x.length) return this.copy(x);\n        Vec2Func.set(this, x, y);\n        return this;\n    }\n\n    copy(v) {\n        Vec2Func.copy(this, v);\n        return this;\n    }\n\n    add(va, vb) {\n        if (vb) Vec2Func.add(this, va, vb);\n        else Vec2Func.add(this, this, va);\n        return this;\n    }\n\n    sub(va, vb) {\n        if (vb) Vec2Func.subtract(this, va, vb);\n        else Vec2Func.subtract(this, this, va);\n        return this;\n    }\n\n    multiply(v) {\n        if (v.length) Vec2Func.multiply(this, this, v);\n        else Vec2Func.scale(this, this, v);\n        return this;\n    }\n\n    divide(v) {\n        if (v.length) Vec2Func.divide(this, this, v);\n        else Vec2Func.scale(this, this, 1 / v);\n        return this;\n    }\n\n    inverse(v = this) {\n        Vec2Func.inverse(this, v);\n        return this;\n    }\n\n    // Can't use 'length' as Array.prototype uses it\n    len() {\n        return Vec2Func.length(this);\n    }\n\n    distance(v) {\n        if (v) return Vec2Func.distance(this, v);\n        else return Vec2Func.length(this);\n    }\n\n    squaredLen() {\n        return this.squaredDistance();\n    }\n\n    squaredDistance(v) {\n        if (v) return Vec2Func.squaredDistance(this, v);\n        else return Vec2Func.squaredLength(this);\n    }\n\n    negate(v = this) {\n        Vec2Func.negate(this, v);\n        return this;\n    }\n\n    cross(va, vb) {\n        if (vb) return Vec2Func.cross(va, vb);\n        return Vec2Func.cross(this, va);\n    }\n\n    scale(v) {\n        Vec2Func.scale(this, this, v);\n        return this;\n    }\n\n    normalize() {\n        Vec2Func.normalize(this, this);\n        return this;\n    }\n\n    dot(v) {\n        return Vec2Func.dot(this, v);\n    }\n\n    equals(v) {\n        return Vec2Func.exactEquals(this, v);\n    }\n\n    applyMatrix3(mat3) {\n        Vec2Func.transformMat3(this, this, mat3);\n        return this;\n    }\n\n    applyMatrix4(mat4) {\n        Vec2Func.transformMat4(this, this, mat4);\n        return this;\n    }\n\n    lerp(v, a) {\n        Vec2Func.lerp(this, this, v, a);\n    }\n\n    clone() {\n        return new Vec2(this[0], this[1]);\n    }\n\n    fromArray(a, o = 0) {\n        this[0] = a[o];\n        this[1] = a[o + 1];\n        return this;\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        return a;\n    }\n}\n","import * as Vec4Func from './functions/Vec4Func.js';\n\nexport class Vec4 extends Array {\n    constructor(x = 0, y = x, z = x, w = x) {\n        super(x, y, z, w);\n        return this;\n    }\n\n    get x() {\n        return this[0];\n    }\n\n    get y() {\n        return this[1];\n    }\n\n    get z() {\n        return this[2];\n    }\n\n    get w() {\n        return this[3];\n    }\n\n    set x(v) {\n        this[0] = v;\n    }\n\n    set y(v) {\n        this[1] = v;\n    }\n\n    set z(v) {\n        this[2] = v;\n    }\n\n    set w(v) {\n        this[3] = v;\n    }\n\n    set(x, y, z, w) {\n        if (x.length) return this.copy(x);\n        Vec4Func.set(this, x, y, z, w);\n        return this;\n    }\n\n    copy(v) {\n        Vec4Func.copy(this, v);\n        return this;\n    }\n\n    normalize() {\n        Vec4Func.normalize(this, this);\n        return this;\n    }\n\n    fromArray(a, o = 0) {\n        this[0] = a[o];\n        this[1] = a[o + 1];\n        this[2] = a[o + 2];\n        this[3] = a[o + 3];\n        return this;\n    }\n\n    toArray(a = [], o = 0) {\n        a[o] = this[0];\n        a[o + 1] = this[1];\n        a[o + 2] = this[2];\n        a[o + 3] = this[3];\n        return a;\n    }\n}\n","import { Geometry } from '../core/Geometry.js';\n\nexport class Plane extends Geometry {\n    constructor(gl, { width = 1, height = 1, widthSegments = 1, heightSegments = 1, attributes = {} } = {}) {\n        const wSegs = widthSegments;\n        const hSegs = heightSegments;\n\n        // Determine length of arrays\n        const num = (wSegs + 1) * (hSegs + 1);\n        const numIndices = wSegs * hSegs * 6;\n\n        // Generate empty arrays once\n        const position = new Float32Array(num * 3);\n        const normal = new Float32Array(num * 3);\n        const uv = new Float32Array(num * 2);\n        const index = num > 65536 ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\n\n        Plane.buildPlane(position, normal, uv, index, width, height, 0, wSegs, hSegs);\n\n        Object.assign(attributes, {\n            position: { size: 3, data: position },\n            normal: { size: 3, data: normal },\n            uv: { size: 2, data: uv },\n            index: { data: index },\n        });\n\n        super(gl, attributes);\n    }\n\n    static buildPlane(position, normal, uv, index, width, height, depth, wSegs, hSegs, u = 0, v = 1, w = 2, uDir = 1, vDir = -1, i = 0, ii = 0) {\n        const io = i;\n        const segW = width / wSegs;\n        const segH = height / hSegs;\n\n        for (let iy = 0; iy <= hSegs; iy++) {\n            let y = iy * segH - height / 2;\n            for (let ix = 0; ix <= wSegs; ix++, i++) {\n                let x = ix * segW - width / 2;\n\n                position[i * 3 + u] = x * uDir;\n                position[i * 3 + v] = y * vDir;\n                position[i * 3 + w] = depth / 2;\n\n                normal[i * 3 + u] = 0;\n                normal[i * 3 + v] = 0;\n                normal[i * 3 + w] = depth >= 0 ? 1 : -1;\n\n                uv[i * 2] = ix / wSegs;\n                uv[i * 2 + 1] = 1 - iy / hSegs;\n\n                if (iy === hSegs || ix === wSegs) continue;\n                let a = io + ix + iy * (wSegs + 1);\n                let b = io + ix + (iy + 1) * (wSegs + 1);\n                let c = io + ix + (iy + 1) * (wSegs + 1) + 1;\n                let d = io + ix + iy * (wSegs + 1) + 1;\n\n                index[ii * 6] = a;\n                index[ii * 6 + 1] = b;\n                index[ii * 6 + 2] = d;\n                index[ii * 6 + 3] = b;\n                index[ii * 6 + 4] = c;\n                index[ii * 6 + 5] = d;\n                ii++;\n            }\n        }\n    }\n}\n","import { Geometry } from '../core/Geometry.js';\nimport { Plane } from './Plane.js';\n\nexport class Box extends Geometry {\n    constructor(gl, { width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1, attributes = {} } = {}) {\n        const wSegs = widthSegments;\n        const hSegs = heightSegments;\n        const dSegs = depthSegments;\n\n        const num = (wSegs + 1) * (hSegs + 1) * 2 + (wSegs + 1) * (dSegs + 1) * 2 + (hSegs + 1) * (dSegs + 1) * 2;\n        const numIndices = (wSegs * hSegs * 2 + wSegs * dSegs * 2 + hSegs * dSegs * 2) * 6;\n\n        const position = new Float32Array(num * 3);\n        const normal = new Float32Array(num * 3);\n        const uv = new Float32Array(num * 2);\n        const index = num > 65536 ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\n\n        let i = 0;\n        let ii = 0;\n\n        // left, right\n        Plane.buildPlane(position, normal, uv, index, depth, height, width, dSegs, hSegs, 2, 1, 0, -1, -1, i, ii);\n        i += (dSegs + 1) * (hSegs + 1);\n        ii += dSegs * hSegs;\n\n        Plane.buildPlane(position, normal, uv, index, depth, height, -width, dSegs, hSegs, 2, 1, 0, 1, -1, i, ii);\n        i += (dSegs + 1) * (hSegs + 1);\n        ii += dSegs * hSegs;\n\n        // top, bottom\n        Plane.buildPlane(position, normal, uv, index, width, depth, height, dSegs, wSegs, 0, 2, 1, 1, 1, i, ii);\n        i += (wSegs + 1) * (dSegs + 1);\n        ii += wSegs * dSegs;\n\n        Plane.buildPlane(position, normal, uv, index, width, depth, -height, dSegs, wSegs, 0, 2, 1, 1, -1, i, ii);\n        i += (wSegs + 1) * (dSegs + 1);\n        ii += wSegs * dSegs;\n\n        // front, back\n        Plane.buildPlane(position, normal, uv, index, width, height, -depth, wSegs, hSegs, 0, 1, 2, -1, -1, i, ii);\n        i += (wSegs + 1) * (hSegs + 1);\n        ii += wSegs * hSegs;\n\n        Plane.buildPlane(position, normal, uv, index, width, height, depth, wSegs, hSegs, 0, 1, 2, 1, -1, i, ii);\n\n        Object.assign(attributes, {\n            position: { size: 3, data: position },\n            normal: { size: 3, data: normal },\n            uv: { size: 2, data: uv },\n            index: { data: index },\n        });\n\n        super(gl, attributes);\n    }\n}\n","import { Geometry } from '../core/Geometry.js';\nimport { Vec3 } from '../math/Vec3.js';\n\nexport class Sphere extends Geometry {\n    constructor(\n        gl,\n        {\n            radius = 0.5,\n            widthSegments = 16,\n            heightSegments = Math.ceil(widthSegments * 0.5),\n            phiStart = 0,\n            phiLength = Math.PI * 2,\n            thetaStart = 0,\n            thetaLength = Math.PI,\n            attributes = {},\n        } = {}\n    ) {\n        const wSegs = widthSegments;\n        const hSegs = heightSegments;\n        const pStart = phiStart;\n        const pLength = phiLength;\n        const tStart = thetaStart;\n        const tLength = thetaLength;\n\n        const num = (wSegs + 1) * (hSegs + 1);\n        const numIndices = wSegs * hSegs * 6;\n\n        const position = new Float32Array(num * 3);\n        const normal = new Float32Array(num * 3);\n        const uv = new Float32Array(num * 2);\n        const index = num > 65536 ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\n\n        let i = 0;\n        let iv = 0;\n        let ii = 0;\n        let te = tStart + tLength;\n        const grid = [];\n\n        let n = new Vec3();\n\n        for (let iy = 0; iy <= hSegs; iy++) {\n            let vRow = [];\n            let v = iy / hSegs;\n            for (let ix = 0; ix <= wSegs; ix++, i++) {\n                let u = ix / wSegs;\n                let x = -radius * Math.cos(pStart + u * pLength) * Math.sin(tStart + v * tLength);\n                let y = radius * Math.cos(tStart + v * tLength);\n                let z = radius * Math.sin(pStart + u * pLength) * Math.sin(tStart + v * tLength);\n\n                position[i * 3] = x;\n                position[i * 3 + 1] = y;\n                position[i * 3 + 2] = z;\n\n                n.set(x, y, z).normalize();\n                normal[i * 3] = n.x;\n                normal[i * 3 + 1] = n.y;\n                normal[i * 3 + 2] = n.z;\n\n                uv[i * 2] = u;\n                uv[i * 2 + 1] = 1 - v;\n\n                vRow.push(iv++);\n            }\n\n            grid.push(vRow);\n        }\n\n        for (let iy = 0; iy < hSegs; iy++) {\n            for (let ix = 0; ix < wSegs; ix++) {\n                let a = grid[iy][ix + 1];\n                let b = grid[iy][ix];\n                let c = grid[iy + 1][ix];\n                let d = grid[iy + 1][ix + 1];\n\n                if (iy !== 0 || tStart > 0) {\n                    index[ii * 3] = a;\n                    index[ii * 3 + 1] = b;\n                    index[ii * 3 + 2] = d;\n                    ii++;\n                }\n                if (iy !== hSegs - 1 || te < Math.PI) {\n                    index[ii * 3] = b;\n                    index[ii * 3 + 1] = c;\n                    index[ii * 3 + 2] = d;\n                    ii++;\n                }\n            }\n        }\n\n        Object.assign(attributes, {\n            position: { size: 3, data: position },\n            normal: { size: 3, data: normal },\n            uv: { size: 2, data: uv },\n            index: { data: index },\n        });\n\n        super(gl, attributes);\n    }\n}\n","import { Geometry } from '../core/Geometry.js';\nimport { Vec3 } from '../math/Vec3.js';\n\nexport class Cylinder extends Geometry {\n    constructor(\n        gl,\n        {\n            radiusTop = 0.5,\n            radiusBottom = 0.5,\n            height = 1,\n            radialSegments = 8,\n            heightSegments = 1,\n            openEnded = false,\n            thetaStart = 0,\n            thetaLength = Math.PI * 2,\n            attributes = {},\n        } = {}\n    ) {\n        const rSegs = radialSegments;\n        const hSegs = heightSegments;\n        const tStart = thetaStart;\n        const tLength = thetaLength;\n\n        const numCaps = openEnded ? 0 : radiusBottom && radiusTop ? 2 : 1;\n        const num = (rSegs + 1) * (hSegs + 1 + numCaps) + numCaps;\n        const numIndices = rSegs * hSegs * 6 + numCaps * rSegs * 3;\n\n        const position = new Float32Array(num * 3);\n        const normal = new Float32Array(num * 3);\n        const uv = new Float32Array(num * 2);\n        const index = num > 65536 ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\n\n        let i = 0;\n        let ii = 0;\n        const indexArray = [];\n\n        addHeight();\n        if (!openEnded) {\n            if (radiusTop) addCap(true);\n            if (radiusBottom) addCap(false);\n        }\n\n        function addHeight() {\n            let x, y;\n            const n = new Vec3();\n            const slope = (radiusBottom - radiusTop) / height;\n\n            for (y = 0; y <= hSegs; y++) {\n                const indexRow = [];\n                const v = y / hSegs;\n\n                const r = v * (radiusBottom - radiusTop) + radiusTop;\n                for (x = 0; x <= rSegs; x++) {\n                    const u = x / rSegs;\n                    const theta = u * tLength + tStart;\n                    const sinTheta = Math.sin(theta);\n                    const cosTheta = Math.cos(theta);\n\n                    position.set([r * sinTheta, (0.5 - v) * height, r * cosTheta], i * 3);\n                    n.set(sinTheta, slope, cosTheta).normalize();\n                    normal.set([n.x, n.y, n.z], i * 3);\n                    uv.set([u, 1 - v], i * 2);\n                    indexRow.push(i++);\n                }\n                indexArray.push(indexRow);\n            }\n\n            for (x = 0; x < rSegs; x++) {\n                for (y = 0; y < hSegs; y++) {\n                    const a = indexArray[y][x];\n                    const b = indexArray[y + 1][x];\n                    const c = indexArray[y + 1][x + 1];\n                    const d = indexArray[y][x + 1];\n\n                    index.set([a, b, d, b, c, d], ii * 3);\n                    ii += 2;\n                }\n            }\n        }\n\n        function addCap(isTop) {\n            let x;\n            const r = isTop === true ? radiusTop : radiusBottom;\n            const sign = isTop === true ? 1 : -1;\n\n            const centerIndex = i;\n            position.set([0, 0.5 * height * sign, 0], i * 3);\n            normal.set([0, sign, 0], i * 3);\n            uv.set([0.5, 0.5], i * 2);\n            i++;\n\n            for (x = 0; x <= rSegs; x++) {\n                const u = x / rSegs;\n                const theta = u * tLength + tStart;\n                const cosTheta = Math.cos(theta);\n                const sinTheta = Math.sin(theta);\n\n                position.set([r * sinTheta, 0.5 * height * sign, r * cosTheta], i * 3);\n                normal.set([0, sign, 0], i * 3);\n                uv.set([cosTheta * 0.5 + 0.5, sinTheta * 0.5 * sign + 0.5], i * 2);\n                i++;\n            }\n\n            for (x = 0; x < rSegs; x++) {\n                const j = centerIndex + x + 1;\n                if (isTop) {\n                    index.set([j, j + 1, centerIndex], ii * 3);\n                } else {\n                    index.set([j + 1, j, centerIndex], ii * 3);\n                }\n                ii++;\n            }\n        }\n\n        Object.assign(attributes, {\n            position: { size: 3, data: position },\n            normal: { size: 3, data: normal },\n            uv: { size: 2, data: uv },\n            index: { data: index },\n        });\n\n        super(gl, attributes);\n    }\n}\n","import { Geometry } from '../core/Geometry.js';\n\nexport class Triangle extends Geometry {\n    constructor(gl, { attributes = {} } = {}) {\n        Object.assign(attributes, {\n            position: { size: 2, data: new Float32Array([-1, -1, 3, -1, -1, 3]) },\n            uv: { size: 2, data: new Float32Array([0, 0, 2, 0, 0, 2]) },\n        });\n\n        super(gl, attributes);\n    }\n}\n","// https://github.com/mrdoob/three.js/blob/master/src/geometries/TorusGeometry.js\n\nimport { Geometry } from '../core/Geometry.js';\nimport { Vec3 } from '../math/Vec3.js';\n\nexport class Torus extends Geometry {\n    constructor(gl, { radius = 0.5, tube = 0.2, radialSegments = 8, tubularSegments = 6, arc = Math.PI * 2, attributes = {} } = {}) {\n        const num = (radialSegments + 1) * (tubularSegments + 1);\n        const numIndices = radialSegments * tubularSegments * 6;\n\n        const vertices = new Float32Array(num * 3);\n        const normals = new Float32Array(num * 3);\n        const uvs = new Float32Array(num * 2);\n        const indices = num > 65536 ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\n\n        const center = new Vec3();\n        const vertex = new Vec3();\n        const normal = new Vec3();\n\n        // generate vertices, normals and uvs\n        let idx = 0;\n        for (let j = 0; j <= radialSegments; j++) {\n            for (let i = 0; i <= tubularSegments; i++, idx++) {\n                const u = (i / tubularSegments) * arc;\n                const v = (j / radialSegments) * Math.PI * 2;\n\n                // vertex\n                vertex.x = (radius + tube * Math.cos(v)) * Math.cos(u);\n                vertex.y = (radius + tube * Math.cos(v)) * Math.sin(u);\n                vertex.z = tube * Math.sin(v);\n\n                vertices.set([vertex.x, vertex.y, vertex.z], idx * 3);\n\n                // normal\n                center.x = radius * Math.cos(u);\n                center.y = radius * Math.sin(u);\n                normal.sub(vertex, center).normalize();\n\n                normals.set([normal.x, normal.y, normal.z], idx * 3);\n\n                // uv\n                uvs.set([i / tubularSegments, j / radialSegments], idx * 2);\n            }\n        }\n\n        // generate indices\n        idx = 0;\n        for (let j = 1; j <= radialSegments; j++) {\n            for (let i = 1; i <= tubularSegments; i++, idx++) {\n                // indices\n                const a = (tubularSegments + 1) * j + i - 1;\n                const b = (tubularSegments + 1) * (j - 1) + i - 1;\n                const c = (tubularSegments + 1) * (j - 1) + i;\n                const d = (tubularSegments + 1) * j + i;\n\n                // faces\n                indices.set([a, b, d, b, c, d], idx * 6);\n            }\n        }\n\n        Object.assign(attributes, {\n            position: { size: 3, data: vertices },\n            normal: { size: 3, data: normals },\n            uv: { size: 2, data: uvs },\n            index: { data: indices },\n        });\n\n        super(gl, attributes);\n    }\n}\n","// Based from ThreeJS' OrbitControls class, rewritten using es6 with some additions and subtractions.\n// TODO: abstract event handlers so can be fed from other sources\n// TODO: make scroll zoom more accurate than just >/< zero\n// TODO: be able to pass in new camera position\n\nimport { Vec3 } from '../math/Vec3.js';\nimport { Vec2 } from '../math/Vec2.js';\n\nconst STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, DOLLY_PAN: 3 };\nconst tempVec3 = new Vec3();\nconst tempVec2a = new Vec2();\nconst tempVec2b = new Vec2();\n\nexport function Orbit(\n    object,\n    {\n        element = document,\n        enabled = true,\n        target = new Vec3(),\n        ease = 0.25,\n        inertia = 0.85,\n        enableRotate = true,\n        rotateSpeed = 0.1,\n        autoRotate = false,\n        autoRotateSpeed = 1.0,\n        enableZoom = true,\n        zoomSpeed = 1,\n        enablePan = true,\n        panSpeed = 0.1,\n        minPolarAngle = 0,\n        maxPolarAngle = Math.PI,\n        minAzimuthAngle = -Infinity,\n        maxAzimuthAngle = Infinity,\n        minDistance = 0,\n        maxDistance = Infinity,\n    } = {}\n) {\n    this.enabled = enabled;\n    this.target = target;\n\n    // Catch attempts to disable - set to 1 so has no effect\n    ease = ease || 1;\n    inertia = inertia || 0;\n\n    this.minDistance = minDistance;\n    this.maxDistance = maxDistance;\n\n    // current position in sphericalTarget coordinates\n    const sphericalDelta = { radius: 1, phi: 0, theta: 0 };\n    const sphericalTarget = { radius: 1, phi: 0, theta: 0 };\n    const spherical = { radius: 1, phi: 0, theta: 0 };\n    const panDelta = new Vec3();\n\n    // Grab initial position values\n    const offset = new Vec3();\n    offset.copy(object.position).sub(this.target);\n    spherical.radius = sphericalTarget.radius = offset.distance();\n    spherical.theta = sphericalTarget.theta = Math.atan2(offset.x, offset.z);\n    spherical.phi = sphericalTarget.phi = Math.acos(Math.min(Math.max(offset.y / sphericalTarget.radius, -1), 1));\n\n    this.offset = offset;\n\n    this.update = () => {\n        if (autoRotate) {\n            handleAutoRotate();\n        }\n\n        // apply delta\n        sphericalTarget.radius *= sphericalDelta.radius;\n        sphericalTarget.theta += sphericalDelta.theta;\n        sphericalTarget.phi += sphericalDelta.phi;\n\n        // apply boundaries\n        sphericalTarget.theta = Math.max(minAzimuthAngle, Math.min(maxAzimuthAngle, sphericalTarget.theta));\n        sphericalTarget.phi = Math.max(minPolarAngle, Math.min(maxPolarAngle, sphericalTarget.phi));\n        sphericalTarget.radius = Math.max(this.minDistance, Math.min(this.maxDistance, sphericalTarget.radius));\n\n        // ease values\n        spherical.phi += (sphericalTarget.phi - spherical.phi) * ease;\n        spherical.theta += (sphericalTarget.theta - spherical.theta) * ease;\n        spherical.radius += (sphericalTarget.radius - spherical.radius) * ease;\n\n        // apply pan to target. As offset is relative to target, it also shifts\n        this.target.add(panDelta);\n\n        // apply rotation to offset\n        let sinPhiRadius = spherical.radius * Math.sin(Math.max(0.000001, spherical.phi));\n        offset.x = sinPhiRadius * Math.sin(spherical.theta);\n        offset.y = spherical.radius * Math.cos(spherical.phi);\n        offset.z = sinPhiRadius * Math.cos(spherical.theta);\n\n        // Apply updated values to object\n        object.position.copy(this.target).add(offset);\n        object.lookAt(this.target);\n\n        // Apply inertia to values\n        sphericalDelta.theta *= inertia;\n        sphericalDelta.phi *= inertia;\n        panDelta.multiply(inertia);\n\n        // Reset scale every frame to avoid applying scale multiple times\n        sphericalDelta.radius = 1;\n    };\n\n    // Updates internals with new position\n    this.forcePosition = () => {\n        offset.copy(object.position).sub(this.target);\n        spherical.radius = sphericalTarget.radius = offset.distance();\n        spherical.theta = sphericalTarget.theta = Math.atan2(offset.x, offset.z);\n        spherical.phi = sphericalTarget.phi = Math.acos(Math.min(Math.max(offset.y / sphericalTarget.radius, -1), 1));\n        object.lookAt(this.target);\n    };\n\n    // Everything below here just updates panDelta and sphericalDelta\n    // Using those two objects' values, the orbit is calculated\n\n    const rotateStart = new Vec2();\n    const panStart = new Vec2();\n    const dollyStart = new Vec2();\n\n    let state = STATE.NONE;\n    this.mouseButtons = { ORBIT: 0, ZOOM: 1, PAN: 2 };\n\n    function getZoomScale() {\n        return Math.pow(0.95, zoomSpeed);\n    }\n\n    function panLeft(distance, m) {\n        tempVec3.set(m[0], m[1], m[2]);\n        tempVec3.multiply(-distance);\n        panDelta.add(tempVec3);\n    }\n\n    function panUp(distance, m) {\n        tempVec3.set(m[4], m[5], m[6]);\n        tempVec3.multiply(distance);\n        panDelta.add(tempVec3);\n    }\n\n    const pan = (deltaX, deltaY) => {\n        let el = element === document ? document.body : element;\n        tempVec3.copy(object.position).sub(this.target);\n        let targetDistance = tempVec3.distance();\n        targetDistance *= Math.tan((((object.fov || 45) / 2) * Math.PI) / 180.0);\n        panLeft((2 * deltaX * targetDistance) / el.clientHeight, object.matrix);\n        panUp((2 * deltaY * targetDistance) / el.clientHeight, object.matrix);\n    };\n\n    function dolly(dollyScale) {\n        sphericalDelta.radius /= dollyScale;\n    }\n\n    function handleAutoRotate() {\n        const angle = ((2 * Math.PI) / 60 / 60) * autoRotateSpeed;\n        sphericalDelta.theta -= angle;\n    }\n\n    function handleMoveRotate(x, y) {\n        tempVec2a.set(x, y);\n        tempVec2b.sub(tempVec2a, rotateStart).multiply(rotateSpeed);\n        let el = element === document ? document.body : element;\n        sphericalDelta.theta -= (2 * Math.PI * tempVec2b.x) / el.clientHeight;\n        sphericalDelta.phi -= (2 * Math.PI * tempVec2b.y) / el.clientHeight;\n        rotateStart.copy(tempVec2a);\n    }\n\n    function handleMouseMoveDolly(e) {\n        tempVec2a.set(e.clientX, e.clientY);\n        tempVec2b.sub(tempVec2a, dollyStart);\n        if (tempVec2b.y > 0) {\n            dolly(getZoomScale());\n        } else if (tempVec2b.y < 0) {\n            dolly(1 / getZoomScale());\n        }\n        dollyStart.copy(tempVec2a);\n    }\n\n    function handleMovePan(x, y) {\n        tempVec2a.set(x, y);\n        tempVec2b.sub(tempVec2a, panStart).multiply(panSpeed);\n        pan(tempVec2b.x, tempVec2b.y);\n        panStart.copy(tempVec2a);\n    }\n\n    function handleTouchStartDollyPan(e) {\n        if (enableZoom) {\n            let dx = e.touches[0].pageX - e.touches[1].pageX;\n            let dy = e.touches[0].pageY - e.touches[1].pageY;\n            let distance = Math.sqrt(dx * dx + dy * dy);\n            dollyStart.set(0, distance);\n        }\n\n        if (enablePan) {\n            let x = 0.5 * (e.touches[0].pageX + e.touches[1].pageX);\n            let y = 0.5 * (e.touches[0].pageY + e.touches[1].pageY);\n            panStart.set(x, y);\n        }\n    }\n\n    function handleTouchMoveDollyPan(e) {\n        if (enableZoom) {\n            let dx = e.touches[0].pageX - e.touches[1].pageX;\n            let dy = e.touches[0].pageY - e.touches[1].pageY;\n            let distance = Math.sqrt(dx * dx + dy * dy);\n            tempVec2a.set(0, distance);\n            tempVec2b.set(0, Math.pow(tempVec2a.y / dollyStart.y, zoomSpeed));\n            dolly(tempVec2b.y);\n            dollyStart.copy(tempVec2a);\n        }\n\n        if (enablePan) {\n            let x = 0.5 * (e.touches[0].pageX + e.touches[1].pageX);\n            let y = 0.5 * (e.touches[0].pageY + e.touches[1].pageY);\n            handleMovePan(x, y);\n        }\n    }\n\n    const onMouseDown = (e) => {\n        if (!this.enabled) return;\n\n        switch (e.button) {\n            case this.mouseButtons.ORBIT:\n                if (enableRotate === false) return;\n                rotateStart.set(e.clientX, e.clientY);\n                state = STATE.ROTATE;\n                break;\n            case this.mouseButtons.ZOOM:\n                if (enableZoom === false) return;\n                dollyStart.set(e.clientX, e.clientY);\n                state = STATE.DOLLY;\n                break;\n            case this.mouseButtons.PAN:\n                if (enablePan === false) return;\n                panStart.set(e.clientX, e.clientY);\n                state = STATE.PAN;\n                break;\n        }\n\n        if (state !== STATE.NONE) {\n            window.addEventListener('mousemove', onMouseMove, false);\n            window.addEventListener('mouseup', onMouseUp, false);\n        }\n    };\n\n    const onMouseMove = (e) => {\n        if (!this.enabled) return;\n\n        switch (state) {\n            case STATE.ROTATE:\n                if (enableRotate === false) return;\n                handleMoveRotate(e.clientX, e.clientY);\n                break;\n            case STATE.DOLLY:\n                if (enableZoom === false) return;\n                handleMouseMoveDolly(e);\n                break;\n            case STATE.PAN:\n                if (enablePan === false) return;\n                handleMovePan(e.clientX, e.clientY);\n                break;\n        }\n    };\n\n    const onMouseUp = () => {\n        window.removeEventListener('mousemove', onMouseMove, false);\n        window.removeEventListener('mouseup', onMouseUp, false);\n        state = STATE.NONE;\n    };\n\n    const onMouseWheel = (e) => {\n        if (!this.enabled || !enableZoom || (state !== STATE.NONE && state !== STATE.ROTATE)) return;\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (e.deltaY < 0) {\n            dolly(1 / getZoomScale());\n        } else if (e.deltaY > 0) {\n            dolly(getZoomScale());\n        }\n    };\n\n    const onTouchStart = (e) => {\n        if (!this.enabled) return;\n        e.preventDefault();\n\n        switch (e.touches.length) {\n            case 1:\n                if (enableRotate === false) return;\n                rotateStart.set(e.touches[0].pageX, e.touches[0].pageY);\n                state = STATE.ROTATE;\n                break;\n            case 2:\n                if (enableZoom === false && enablePan === false) return;\n                handleTouchStartDollyPan(e);\n                state = STATE.DOLLY_PAN;\n                break;\n            default:\n                state = STATE.NONE;\n        }\n    };\n\n    const onTouchMove = (e) => {\n        if (!this.enabled) return;\n        e.preventDefault();\n        e.stopPropagation();\n\n        switch (e.touches.length) {\n            case 1:\n                if (enableRotate === false) return;\n                handleMoveRotate(e.touches[0].pageX, e.touches[0].pageY);\n                break;\n            case 2:\n                if (enableZoom === false && enablePan === false) return;\n                handleTouchMoveDollyPan(e);\n                break;\n            default:\n                state = STATE.NONE;\n        }\n    };\n\n    const onTouchEnd = () => {\n        if (!this.enabled) return;\n        state = STATE.NONE;\n    };\n\n    const onContextMenu = (e) => {\n        if (!this.enabled) return;\n        e.preventDefault();\n    };\n\n    function addHandlers() {\n        element.addEventListener('contextmenu', onContextMenu, false);\n        element.addEventListener('mousedown', onMouseDown, false);\n        element.addEventListener('wheel', onMouseWheel, { passive: false });\n        element.addEventListener('touchstart', onTouchStart, { passive: false });\n        element.addEventListener('touchend', onTouchEnd, false);\n        element.addEventListener('touchmove', onTouchMove, { passive: false });\n    }\n\n    this.remove = function () {\n        element.removeEventListener('contextmenu', onContextMenu);\n        element.removeEventListener('mousedown', onMouseDown);\n        element.removeEventListener('wheel', onMouseWheel);\n        element.removeEventListener('touchstart', onTouchStart);\n        element.removeEventListener('touchend', onTouchEnd);\n        element.removeEventListener('touchmove', onTouchMove);\n        window.removeEventListener('mousemove', onMouseMove);\n        window.removeEventListener('mouseup', onMouseUp);\n    };\n\n    addHandlers();\n}\n","// TODO: barycentric code shouldn't be here, but where?\n// TODO: SphereCast?\n\nimport { Vec2 } from '../math/Vec2.js';\nimport { Vec3 } from '../math/Vec3.js';\nimport { Mat4 } from '../math/Mat4.js';\n\nconst tempVec2a = new Vec2();\nconst tempVec2b = new Vec2();\nconst tempVec2c = new Vec2();\n\nconst tempVec3a = new Vec3();\nconst tempVec3b = new Vec3();\nconst tempVec3c = new Vec3();\nconst tempVec3d = new Vec3();\nconst tempVec3e = new Vec3();\nconst tempVec3f = new Vec3();\nconst tempVec3g = new Vec3();\nconst tempVec3h = new Vec3();\nconst tempVec3i = new Vec3();\nconst tempVec3j = new Vec3();\nconst tempVec3k = new Vec3();\n\nconst tempMat4 = new Mat4();\n\nexport class Raycast {\n    constructor() {\n        this.origin = new Vec3();\n        this.direction = new Vec3();\n    }\n\n    // Set ray from mouse unprojection\n    castMouse(camera, mouse = [0, 0]) {\n        if (camera.type === 'orthographic') {\n            // Set origin\n            // Since camera is orthographic, origin is not the camera position\n            const { left, right, bottom, top, zoom } = camera;\n            const x = left / zoom + ((right - left) / zoom) * (mouse[0] * 0.5 + 0.5);\n            const y = bottom / zoom + ((top - bottom) / zoom) * (mouse[1] * 0.5 + 0.5);\n            this.origin.set(x, y, 0);\n            this.origin.applyMatrix4(camera.worldMatrix);\n\n            // Set direction\n            // https://community.khronos.org/t/get-direction-from-transformation-matrix-or-quat/65502/2\n            this.direction.x = -camera.worldMatrix[8];\n            this.direction.y = -camera.worldMatrix[9];\n            this.direction.z = -camera.worldMatrix[10];\n        } else {\n            // Set origin\n            camera.worldMatrix.getTranslation(this.origin);\n\n            // Set direction\n            this.direction.set(mouse[0], mouse[1], 0.5);\n            camera.unproject(this.direction);\n            this.direction.sub(this.origin).normalize();\n        }\n    }\n\n    intersectBounds(meshes, { maxDistance, output = [] } = {}) {\n        if (!Array.isArray(meshes)) meshes = [meshes];\n\n        const invWorldMat4 = tempMat4;\n        const origin = tempVec3a;\n        const direction = tempVec3b;\n\n        const hits = output;\n        hits.length = 0;\n\n        meshes.forEach((mesh) => {\n            // Create bounds\n            if (!mesh.geometry.bounds || mesh.geometry.bounds.radius === Infinity) mesh.geometry.computeBoundingSphere();\n            const bounds = mesh.geometry.bounds;\n            invWorldMat4.inverse(mesh.worldMatrix);\n\n            // Get max distance locally\n            let localMaxDistance;\n            if (maxDistance) {\n                direction.copy(this.direction).scaleRotateMatrix4(invWorldMat4);\n                localMaxDistance = maxDistance * direction.len();\n            }\n\n            // Take world space ray and make it object space to align with bounding box\n            origin.copy(this.origin).applyMatrix4(invWorldMat4);\n            direction.copy(this.direction).transformDirection(invWorldMat4);\n\n            // Break out early if bounds too far away from origin\n            if (maxDistance) {\n                if (origin.distance(bounds.center) - bounds.radius > localMaxDistance) return;\n            }\n\n            let localDistance = 0;\n\n            // Check origin isn't inside bounds before testing intersection\n            if (mesh.geometry.raycast === 'sphere') {\n                if (origin.distance(bounds.center) > bounds.radius) {\n                    localDistance = this.intersectSphere(bounds, origin, direction);\n                    if (!localDistance) return;\n                }\n            } else {\n                if (\n                    origin.x < bounds.min.x ||\n                    origin.x > bounds.max.x ||\n                    origin.y < bounds.min.y ||\n                    origin.y > bounds.max.y ||\n                    origin.z < bounds.min.z ||\n                    origin.z > bounds.max.z\n                ) {\n                    localDistance = this.intersectBox(bounds, origin, direction);\n                    if (!localDistance) return;\n                }\n            }\n\n            if (maxDistance && localDistance > localMaxDistance) return;\n\n            // Create object on mesh to avoid generating lots of objects\n            if (!mesh.hit) mesh.hit = { localPoint: new Vec3(), point: new Vec3() };\n\n            mesh.hit.localPoint.copy(direction).multiply(localDistance).add(origin);\n            mesh.hit.point.copy(mesh.hit.localPoint).applyMatrix4(mesh.worldMatrix);\n            mesh.hit.distance = mesh.hit.point.distance(this.origin);\n\n            hits.push(mesh);\n        });\n\n        hits.sort((a, b) => a.hit.distance - b.hit.distance);\n        return hits;\n    }\n\n    intersectMeshes(meshes, { cullFace = true, maxDistance, includeUV = true, includeNormal = true, output = [] } = {}) {\n        // Test bounds first before testing geometry\n        const hits = this.intersectBounds(meshes, { maxDistance, output });\n        if (!hits.length) return hits;\n\n        const invWorldMat4 = tempMat4;\n        const origin = tempVec3a;\n        const direction = tempVec3b;\n        const a = tempVec3c;\n        const b = tempVec3d;\n        const c = tempVec3e;\n        const closestFaceNormal = tempVec3f;\n        const faceNormal = tempVec3g;\n        const barycoord = tempVec3h;\n        const uvA = tempVec2a;\n        const uvB = tempVec2b;\n        const uvC = tempVec2c;\n\n        for (let i = hits.length - 1; i >= 0; i--) {\n            const mesh = hits[i];\n            invWorldMat4.inverse(mesh.worldMatrix);\n\n            // Get max distance locally\n            let localMaxDistance;\n            if (maxDistance) {\n                direction.copy(this.direction).scaleRotateMatrix4(invWorldMat4);\n                localMaxDistance = maxDistance * direction.len();\n            }\n\n            // Take world space ray and make it object space to align with bounding box\n            origin.copy(this.origin).applyMatrix4(invWorldMat4);\n            direction.copy(this.direction).transformDirection(invWorldMat4);\n\n            let localDistance = 0;\n            let closestA, closestB, closestC;\n\n            const geometry = mesh.geometry;\n            const attributes = geometry.attributes;\n            const index = attributes.index;\n\n            const start = Math.max(0, geometry.drawRange.start);\n            const end = Math.min(index ? index.count : attributes.position.count, geometry.drawRange.start + geometry.drawRange.count);\n\n            for (let j = start; j < end; j += 3) {\n                // Position attribute indices for each triangle\n                const ai = index ? index.data[j] : j;\n                const bi = index ? index.data[j + 1] : j + 1;\n                const ci = index ? index.data[j + 2] : j + 2;\n\n                a.fromArray(attributes.position.data, ai * 3);\n                b.fromArray(attributes.position.data, bi * 3);\n                c.fromArray(attributes.position.data, ci * 3);\n\n                const distance = this.intersectTriangle(a, b, c, cullFace, origin, direction, faceNormal);\n                if (!distance) continue;\n\n                // Too far away\n                if (maxDistance && distance > localMaxDistance) continue;\n\n                if (!localDistance || distance < localDistance) {\n                    localDistance = distance;\n                    closestA = ai;\n                    closestB = bi;\n                    closestC = ci;\n                    closestFaceNormal.copy(faceNormal);\n                }\n            }\n\n            if (!localDistance) hits.splice(i, 1);\n\n            // Update hit values from bounds-test\n            mesh.hit.localPoint.copy(direction).multiply(localDistance).add(origin);\n            mesh.hit.point.copy(mesh.hit.localPoint).applyMatrix4(mesh.worldMatrix);\n            mesh.hit.distance = mesh.hit.point.distance(this.origin);\n\n            // Add unique hit objects on mesh to avoid generating lots of objects\n            if (!mesh.hit.faceNormal) {\n                mesh.hit.localFaceNormal = new Vec3();\n                mesh.hit.faceNormal = new Vec3();\n                mesh.hit.uv = new Vec2();\n                mesh.hit.localNormal = new Vec3();\n                mesh.hit.normal = new Vec3();\n            }\n\n            // Add face normal data which is already computed\n            mesh.hit.localFaceNormal.copy(closestFaceNormal);\n            mesh.hit.faceNormal.copy(mesh.hit.localFaceNormal).transformDirection(mesh.worldMatrix);\n\n            // Optional data, opt out to optimise a bit if necessary\n            if (includeUV || includeNormal) {\n                // Calculate barycoords to find uv values at hit point\n                a.fromArray(attributes.position.data, closestA * 3);\n                b.fromArray(attributes.position.data, closestB * 3);\n                c.fromArray(attributes.position.data, closestC * 3);\n                this.getBarycoord(mesh.hit.localPoint, a, b, c, barycoord);\n            }\n\n            if (includeUV && attributes.uv) {\n                uvA.fromArray(attributes.uv.data, closestA * 2);\n                uvB.fromArray(attributes.uv.data, closestB * 2);\n                uvC.fromArray(attributes.uv.data, closestC * 2);\n                mesh.hit.uv.set(\n                    uvA.x * barycoord.x + uvB.x * barycoord.y + uvC.x * barycoord.z,\n                    uvA.y * barycoord.x + uvB.y * barycoord.y + uvC.y * barycoord.z\n                );\n            }\n\n            if (includeNormal && attributes.normal) {\n                a.fromArray(attributes.normal.data, closestA * 3);\n                b.fromArray(attributes.normal.data, closestB * 3);\n                c.fromArray(attributes.normal.data, closestC * 3);\n                mesh.hit.localNormal.set(\n                    a.x * barycoord.x + b.x * barycoord.y + c.x * barycoord.z,\n                    a.y * barycoord.x + b.y * barycoord.y + c.y * barycoord.z,\n                    a.z * barycoord.x + b.z * barycoord.y + c.z * barycoord.z\n                );\n\n                mesh.hit.normal.copy(mesh.hit.localNormal).transformDirection(mesh.worldMatrix);\n            }\n        }\n\n        hits.sort((a, b) => a.hit.distance - b.hit.distance);\n        return hits;\n    }\n\n    intersectSphere(sphere, origin = this.origin, direction = this.direction) {\n        const ray = tempVec3c;\n        ray.sub(sphere.center, origin);\n        const tca = ray.dot(direction);\n        const d2 = ray.dot(ray) - tca * tca;\n        const radius2 = sphere.radius * sphere.radius;\n        if (d2 > radius2) return 0;\n        const thc = Math.sqrt(radius2 - d2);\n        const t0 = tca - thc;\n        const t1 = tca + thc;\n        if (t0 < 0 && t1 < 0) return 0;\n        if (t0 < 0) return t1;\n        return t0;\n    }\n\n    // Ray AABB - Ray Axis aligned bounding box testing\n    intersectBox(box, origin = this.origin, direction = this.direction) {\n        let tmin, tmax, tYmin, tYmax, tZmin, tZmax;\n        const invdirx = 1 / direction.x;\n        const invdiry = 1 / direction.y;\n        const invdirz = 1 / direction.z;\n        const min = box.min;\n        const max = box.max;\n        tmin = ((invdirx >= 0 ? min.x : max.x) - origin.x) * invdirx;\n        tmax = ((invdirx >= 0 ? max.x : min.x) - origin.x) * invdirx;\n        tYmin = ((invdiry >= 0 ? min.y : max.y) - origin.y) * invdiry;\n        tYmax = ((invdiry >= 0 ? max.y : min.y) - origin.y) * invdiry;\n        if (tmin > tYmax || tYmin > tmax) return 0;\n        if (tYmin > tmin) tmin = tYmin;\n        if (tYmax < tmax) tmax = tYmax;\n        tZmin = ((invdirz >= 0 ? min.z : max.z) - origin.z) * invdirz;\n        tZmax = ((invdirz >= 0 ? max.z : min.z) - origin.z) * invdirz;\n        if (tmin > tZmax || tZmin > tmax) return 0;\n        if (tZmin > tmin) tmin = tZmin;\n        if (tZmax < tmax) tmax = tZmax;\n        if (tmax < 0) return 0;\n        return tmin >= 0 ? tmin : tmax;\n    }\n\n    intersectTriangle(a, b, c, backfaceCulling = true, origin = this.origin, direction = this.direction, normal = tempVec3g) {\n        // from https://github.com/mrdoob/three.js/blob/master/src/math/Ray.js\n        // which is from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n        const edge1 = tempVec3h;\n        const edge2 = tempVec3i;\n        const diff = tempVec3j;\n        edge1.sub(b, a);\n        edge2.sub(c, a);\n        normal.cross(edge1, edge2);\n        let DdN = direction.dot(normal);\n        if (!DdN) return 0;\n        let sign;\n        if (DdN > 0) {\n            if (backfaceCulling) return 0;\n            sign = 1;\n        } else {\n            sign = -1;\n            DdN = -DdN;\n        }\n        diff.sub(origin, a);\n        let DdQxE2 = sign * direction.dot(edge2.cross(diff, edge2));\n        if (DdQxE2 < 0) return 0;\n        let DdE1xQ = sign * direction.dot(edge1.cross(diff));\n        if (DdE1xQ < 0) return 0;\n        if (DdQxE2 + DdE1xQ > DdN) return 0;\n        let QdN = -sign * diff.dot(normal);\n        if (QdN < 0) return 0;\n        return QdN / DdN;\n    }\n\n    getBarycoord(point, a, b, c, target = tempVec3h) {\n        // From https://github.com/mrdoob/three.js/blob/master/src/math/Triangle.js\n        // static/instance method to calculate barycentric coordinates\n        // based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n        const v0 = tempVec3i;\n        const v1 = tempVec3j;\n        const v2 = tempVec3k;\n        v0.sub(c, a);\n        v1.sub(b, a);\n        v2.sub(point, a);\n        const dot00 = v0.dot(v0);\n        const dot01 = v0.dot(v1);\n        const dot02 = v0.dot(v2);\n        const dot11 = v1.dot(v1);\n        const dot12 = v1.dot(v2);\n        const denom = dot00 * dot11 - dot01 * dot01;\n        if (denom === 0) return target.set(-2, -1, -1);\n        const invDenom = 1 / denom;\n        const u = (dot11 * dot02 - dot01 * dot12) * invDenom;\n        const v = (dot00 * dot12 - dot01 * dot02) * invDenom;\n        return target.set(1 - u - v, v, u);\n    }\n}\n","import { Vec3 } from '../math/Vec3.js';\n\nconst CATMULLROM = 'catmullrom';\nconst CUBICBEZIER = 'cubicbezier';\nconst QUADRATICBEZIER = 'quadraticbezier';\n\n// temp\nconst _a0 = new Vec3(),\n    _a1 = new Vec3(),\n    _a2 = new Vec3(),\n    _a3 = new Vec3();\n\n/**\n * Get the control points of cubic bezier curve.\n * @param {*} i\n * @param {*} a\n * @param {*} b\n */\nfunction getCtrlPoint(points, i, a = 0.168, b = 0.168) {\n    if (i < 1) {\n        _a0.sub(points[1], points[0]).scale(a).add(points[0]);\n    } else {\n        _a0.sub(points[i + 1], points[i - 1])\n            .scale(a)\n            .add(points[i]);\n    }\n    if (i > points.length - 3) {\n        const last = points.length - 1;\n        _a1.sub(points[last - 1], points[last])\n            .scale(b)\n            .add(points[last]);\n    } else {\n        _a1.sub(points[i], points[i + 2])\n            .scale(b)\n            .add(points[i + 1]);\n    }\n    return [_a0.clone(), _a1.clone()];\n}\n\nfunction getQuadraticBezierPoint(t, p0, c0, p1) {\n    const k = 1 - t;\n    _a0.copy(p0).scale(k ** 2);\n    _a1.copy(c0).scale(2 * k * t);\n    _a2.copy(p1).scale(t ** 2);\n    const ret = new Vec3();\n    ret.add(_a0, _a1).add(_a2);\n    return ret;\n}\n\nfunction getCubicBezierPoint(t, p0, c0, c1, p1) {\n    const k = 1 - t;\n    _a0.copy(p0).scale(k ** 3);\n    _a1.copy(c0).scale(3 * k ** 2 * t);\n    _a2.copy(c1).scale(3 * k * t ** 2);\n    _a3.copy(p1).scale(t ** 3);\n    const ret = new Vec3();\n    ret.add(_a0, _a1).add(_a2).add(_a3);\n    return ret;\n}\n\nexport class Curve {\n    constructor({ points = [new Vec3(0, 0, 0), new Vec3(0, 1, 0), new Vec3(1, 1, 0), new Vec3(1, 0, 0)], divisions = 12, type = CATMULLROM } = {}) {\n        this.points = points;\n        this.divisions = divisions;\n        this.type = type;\n    }\n\n    _getQuadraticBezierPoints(divisions = this.divisions) {\n        const points = [];\n        const count = this.points.length;\n\n        if (count < 3) {\n            console.warn('Not enough points provided.');\n            return [];\n        }\n\n        const p0 = this.points[0];\n        let c0 = this.points[1],\n            p1 = this.points[2];\n\n        for (let i = 0; i <= divisions; i++) {\n            const p = getQuadraticBezierPoint(i / divisions, p0, c0, p1);\n            points.push(p);\n        }\n\n        let offset = 3;\n        while (count - offset > 0) {\n            p0.copy(p1);\n            c0 = p1.scale(2).sub(c0);\n            p1 = this.points[offset];\n            for (let i = 1; i <= divisions; i++) {\n                const p = getQuadraticBezierPoint(i / divisions, p0, c0, p1);\n                points.push(p);\n            }\n            offset++;\n        }\n\n        return points;\n    }\n\n    _getCubicBezierPoints(divisions = this.divisions) {\n        const points = [];\n        const count = this.points.length;\n\n        if (count < 4) {\n            console.warn('Not enough points provided.');\n            return [];\n        }\n\n        let p0 = this.points[0],\n            c0 = this.points[1],\n            c1 = this.points[2],\n            p1 = this.points[3];\n\n        for (let i = 0; i <= divisions; i++) {\n            const p = getCubicBezierPoint(i / divisions, p0, c0, c1, p1);\n            points.push(p);\n        }\n\n        let offset = 4;\n        while (count - offset > 1) {\n            p0.copy(p1);\n            c0 = p1.scale(2).sub(c1);\n            c1 = this.points[offset];\n            p1 = this.points[offset + 1];\n            for (let i = 1; i <= divisions; i++) {\n                const p = getCubicBezierPoint(i / divisions, p0, c0, c1, p1);\n                points.push(p);\n            }\n            offset += 2;\n        }\n\n        return points;\n    }\n\n    _getCatmullRomPoints(divisions = this.divisions, a = 0.168, b = 0.168) {\n        const points = [];\n        const count = this.points.length;\n\n        if (count <= 2) {\n            return this.points;\n        }\n\n        let p0;\n        this.points.forEach((p, i) => {\n            if (i === 0) {\n                p0 = p;\n            } else {\n                const [c0, c1] = getCtrlPoint(this.points, i - 1, a, b);\n                const c = new Curve({\n                    points: [p0, c0, c1, p],\n                    type: CUBICBEZIER,\n                });\n                points.pop();\n                points.push(...c.getPoints(divisions));\n                p0 = p;\n            }\n        });\n\n        return points;\n    }\n\n    getPoints(divisions = this.divisions, a = 0.168, b = 0.168) {\n        const type = this.type;\n\n        if (type === QUADRATICBEZIER) {\n            return this._getQuadraticBezierPoints(divisions);\n        }\n\n        if (type === CUBICBEZIER) {\n            return this._getCubicBezierPoints(divisions);\n        }\n\n        if (type === CATMULLROM) {\n            return this._getCatmullRomPoints(divisions, a, b);\n        }\n\n        return this.points;\n    }\n}\n\nCurve.CATMULLROM = CATMULLROM;\nCurve.CUBICBEZIER = CUBICBEZIER;\nCurve.QUADRATICBEZIER = QUADRATICBEZIER;\n","// TODO: Destroy render targets if size changed and exists\n\nimport { Program } from '../core/Program.js';\nimport { Mesh } from '../core/Mesh.js';\nimport { RenderTarget } from '../core/RenderTarget.js';\nimport { Triangle } from './Triangle.js';\n\nexport class Post {\n    constructor(\n        gl,\n        {\n            width,\n            height,\n            dpr,\n            wrapS = gl.CLAMP_TO_EDGE,\n            wrapT = gl.CLAMP_TO_EDGE,\n            minFilter = gl.LINEAR,\n            magFilter = gl.LINEAR,\n            geometry = new Triangle(gl),\n            targetOnly = null,\n        } = {}\n    ) {\n        this.gl = gl;\n\n        this.options = { wrapS, wrapT, minFilter, magFilter };\n\n        this.passes = [];\n\n        this.geometry = geometry;\n\n        this.uniform = { value: null };\n        this.targetOnly = targetOnly;\n\n        const fbo = (this.fbo = {\n            read: null,\n            write: null,\n            swap: () => {\n                let temp = fbo.read;\n                fbo.read = fbo.write;\n                fbo.write = temp;\n            },\n        });\n\n        this.resize({ width, height, dpr });\n    }\n\n    addPass({ vertex = defaultVertex, fragment = defaultFragment, uniforms = {}, textureUniform = 'tMap', enabled = true } = {}) {\n        uniforms[textureUniform] = { value: this.fbo.read.texture };\n\n        const program = new Program(this.gl, { vertex, fragment, uniforms });\n        const mesh = new Mesh(this.gl, { geometry: this.geometry, program });\n\n        const pass = {\n            mesh,\n            program,\n            uniforms,\n            enabled,\n            textureUniform,\n        };\n\n        this.passes.push(pass);\n        return pass;\n    }\n\n    resize({ width, height, dpr } = {}) {\n        if (dpr) this.dpr = dpr;\n        if (width) {\n            this.width = width;\n            this.height = height || width;\n        }\n\n        dpr = this.dpr || this.gl.renderer.dpr;\n        width = Math.floor((this.width || this.gl.renderer.width) * dpr);\n        height = Math.floor((this.height || this.gl.renderer.height) * dpr);\n\n        this.options.width = width;\n        this.options.height = height;\n\n        this.fbo.read = new RenderTarget(this.gl, this.options);\n        this.fbo.write = new RenderTarget(this.gl, this.options);\n    }\n\n    // Uses same arguments as renderer.render, with addition of optional texture passed in to avoid scene render\n    render({ scene, camera, texture, target = null, update = true, sort = true, frustumCull = true }) {\n        const enabledPasses = this.passes.filter((pass) => pass.enabled);\n\n        if (!texture) {\n            this.gl.renderer.render({\n                scene,\n                camera,\n                target: enabledPasses.length || (!target && this.targetOnly) ? this.fbo.write : target,\n                update,\n                sort,\n                frustumCull,\n            });\n            this.fbo.swap();\n        }\n\n        enabledPasses.forEach((pass, i) => {\n            pass.mesh.program.uniforms[pass.textureUniform].value = !i && texture ? texture : this.fbo.read.texture;\n            this.gl.renderer.render({\n                scene: pass.mesh,\n                target: i === enabledPasses.length - 1 && (target || !this.targetOnly) ? target : this.fbo.write,\n                clear: true,\n            });\n            this.fbo.swap();\n        });\n\n        this.uniform.value = this.fbo.read.texture;\n    }\n}\n\nconst defaultVertex = /* glsl */ `\n    attribute vec2 uv;\n    attribute vec2 position;\n\n    varying vec2 vUv;\n\n    void main() {\n        vUv = uv;\n        gl_Position = vec4(position, 0, 1);\n    }\n`;\n\nconst defaultFragment = /* glsl */ `\n    precision highp float;\n\n    uniform sampler2D tMap;\n    varying vec2 vUv;\n\n    void main() {\n        gl_FragColor = texture2D(tMap, vUv);\n    }\n`;\n","import { Vec3 } from '../math/Vec3.js';\nimport { Quat } from '../math/Quat.js';\n\nconst prevPos = new Vec3();\nconst prevRot = new Quat();\nconst prevScl = new Vec3();\n\nconst nextPos = new Vec3();\nconst nextRot = new Quat();\nconst nextScl = new Vec3();\n\nexport class Animation {\n    constructor({ objects, data }) {\n        this.objects = objects;\n        this.data = data;\n        this.elapsed = 0;\n        this.weight = 1;\n        this.duration = data.frames.length - 1;\n    }\n\n    update(totalWeight = 1, isSet) {\n        const weight = isSet ? 1 : this.weight / totalWeight;\n        const elapsed = this.elapsed % this.duration;\n\n        const floorFrame = Math.floor(elapsed);\n        const blend = elapsed - floorFrame;\n        const prevKey = this.data.frames[floorFrame];\n        const nextKey = this.data.frames[(floorFrame + 1) % this.duration];\n\n        this.objects.forEach((object, i) => {\n            prevPos.fromArray(prevKey.position, i * 3);\n            prevRot.fromArray(prevKey.quaternion, i * 4);\n            prevScl.fromArray(prevKey.scale, i * 3);\n\n            nextPos.fromArray(nextKey.position, i * 3);\n            nextRot.fromArray(nextKey.quaternion, i * 4);\n            nextScl.fromArray(nextKey.scale, i * 3);\n\n            prevPos.lerp(nextPos, blend);\n            prevRot.slerp(nextRot, blend);\n            prevScl.lerp(nextScl, blend);\n\n            object.position.lerp(prevPos, weight);\n            object.quaternion.slerp(prevRot, weight);\n            object.scale.lerp(prevScl, weight);\n        });\n    }\n}\n","import { Mesh } from '../core/Mesh.js';\nimport { Transform } from '../core/Transform.js';\nimport { Mat4 } from '../math/Mat4.js';\nimport { Texture } from '../core/Texture.js';\nimport { Animation } from './Animation.js';\n\nconst tempMat4 = new Mat4();\n\nexport class Skin extends Mesh {\n    constructor(gl, { rig, geometry, program, mode = gl.TRIANGLES } = {}) {\n        super(gl, { geometry, program, mode });\n\n        this.createBones(rig);\n        this.createBoneTexture();\n        this.animations = [];\n\n        Object.assign(this.program.uniforms, {\n            boneTexture: { value: this.boneTexture },\n            boneTextureSize: { value: this.boneTextureSize },\n        });\n    }\n\n    createBones(rig) {\n        // Create root so that can simply update world matrix of whole skeleton\n        this.root = new Transform();\n\n        // Create bones\n        this.bones = [];\n        if (!rig.bones || !rig.bones.length) return;\n        for (let i = 0; i < rig.bones.length; i++) {\n            const bone = new Transform();\n\n            // Set initial values (bind pose)\n            bone.position.fromArray(rig.bindPose.position, i * 3);\n            bone.quaternion.fromArray(rig.bindPose.quaternion, i * 4);\n            bone.scale.fromArray(rig.bindPose.scale, i * 3);\n\n            this.bones.push(bone);\n        }\n\n        // Once created, set the hierarchy\n        rig.bones.forEach((data, i) => {\n            this.bones[i].name = data.name;\n            if (data.parent === -1) return this.bones[i].setParent(this.root);\n            this.bones[i].setParent(this.bones[data.parent]);\n        });\n\n        // Then update to calculate world matrices\n        this.root.updateMatrixWorld(true);\n\n        // Store inverse of bind pose to calculate differences\n        this.bones.forEach((bone) => {\n            bone.bindInverse = new Mat4(...bone.worldMatrix).inverse();\n        });\n    }\n\n    createBoneTexture() {\n        if (!this.bones.length) return;\n        const size = Math.max(4, Math.pow(2, Math.ceil(Math.log(Math.sqrt(this.bones.length * 4)) / Math.LN2)));\n        this.boneMatrices = new Float32Array(size * size * 4);\n        this.boneTextureSize = size;\n        this.boneTexture = new Texture(this.gl, {\n            image: this.boneMatrices,\n            generateMipmaps: false,\n            type: this.gl.FLOAT,\n            internalFormat: this.gl.renderer.isWebgl2 ? this.gl.RGBA32F : this.gl.RGBA,\n            minFilter: this.gl.NEAREST,\n            magFilter: this.gl.NEAREST,\n            flipY: false,\n            width: size,\n        });\n    }\n\n    addAnimation(data) {\n        const animation = new Animation({ objects: this.bones, data });\n        this.animations.push(animation);\n        return animation;\n    }\n\n    update() {\n        // Calculate combined animation weight\n        let total = 0;\n        this.animations.forEach((animation) => (total += animation.weight));\n\n        this.animations.forEach((animation, i) => {\n            // force first animation to set in order to reset frame\n            animation.update(total, i === 0);\n        });\n    }\n\n    draw({ camera } = {}) {\n        // Update world matrices manually, as not part of scene graph\n        this.root.updateMatrixWorld(true);\n\n        // Update bone texture\n        this.bones.forEach((bone, i) => {\n            // Find difference between current and bind pose\n            tempMat4.multiply(bone.worldMatrix, bone.bindInverse);\n            this.boneMatrices.set(tempMat4, i * 16);\n        });\n        if (this.boneTexture) this.boneTexture.needsUpdate = true;\n\n        super.draw({ camera });\n    }\n}\n","export function Text({\n    font,\n    text,\n    width = Infinity,\n    align = 'left',\n    size = 1,\n    letterSpacing = 0,\n    lineHeight = 1.4,\n    wordSpacing = 0,\n    wordBreak = false,\n}) {\n    const _this = this;\n    let glyphs, buffers;\n    let fontHeight, baseline, scale;\n\n    const newline = /\\n/;\n    const whitespace = /\\s/;\n\n    {\n        parseFont();\n        createGeometry();\n    }\n\n    function parseFont() {\n        glyphs = {};\n        font.chars.forEach((d) => (glyphs[d.char] = d));\n    }\n\n    function createGeometry() {\n        fontHeight = font.common.lineHeight;\n        baseline = font.common.base;\n\n        // Use baseline so that actual text height is as close to 'size' value as possible\n        scale = size / baseline;\n\n        // Strip spaces and newlines to get actual character length for buffers\n        let chars = text.replace(/[ \\n]/g, '');\n        let numChars = chars.length;\n\n        // Create output buffers\n        buffers = {\n            position: new Float32Array(numChars * 4 * 3),\n            uv: new Float32Array(numChars * 4 * 2),\n            id: new Float32Array(numChars * 4),\n            index: new Uint16Array(numChars * 6),\n        };\n\n        // Set values for buffers that don't require calculation\n        for (let i = 0; i < numChars; i++) {\n            buffers.id[i] = i;\n            buffers.index.set([i * 4, i * 4 + 2, i * 4 + 1, i * 4 + 1, i * 4 + 2, i * 4 + 3], i * 6);\n        }\n\n        layout();\n    }\n\n    function layout() {\n        const lines = [];\n\n        let cursor = 0;\n\n        let wordCursor = 0;\n        let wordWidth = 0;\n        let line = newLine();\n\n        function newLine() {\n            const line = {\n                width: 0,\n                glyphs: [],\n            };\n            lines.push(line);\n            wordCursor = cursor;\n            wordWidth = 0;\n            return line;\n        }\n\n        let maxTimes = 100;\n        let count = 0;\n        while (cursor < text.length && count < maxTimes) {\n            count++;\n\n            const char = text[cursor];\n\n            // Skip whitespace at start of line\n            if (!line.width && whitespace.test(char)) {\n                cursor++;\n                wordCursor = cursor;\n                wordWidth = 0;\n                continue;\n            }\n\n            // If newline char, skip to next line\n            if (newline.test(char)) {\n                cursor++;\n                line = newLine();\n                continue;\n            }\n\n            const glyph = glyphs[char] || glyphs[' '];\n\n            // Find any applicable kern pairs\n            if (line.glyphs.length) {\n                const prevGlyph = line.glyphs[line.glyphs.length - 1][0];\n                let kern = getKernPairOffset(glyph.id, prevGlyph.id) * scale;\n                line.width += kern;\n                wordWidth += kern;\n            }\n\n            // add char to line\n            line.glyphs.push([glyph, line.width]);\n\n            // calculate advance for next glyph\n            let advance = 0;\n\n            // If whitespace, update location of current word for line breaks\n            if (whitespace.test(char)) {\n                wordCursor = cursor;\n                wordWidth = 0;\n\n                // Add wordspacing\n                advance += wordSpacing * size;\n            } else {\n                // Add letterspacing\n                advance += letterSpacing * size;\n            }\n\n            advance += glyph.xadvance * scale;\n\n            line.width += advance;\n            wordWidth += advance;\n\n            // If width defined\n            if (line.width > width) {\n                // If can break words, undo latest glyph if line not empty and create new line\n                if (wordBreak && line.glyphs.length > 1) {\n                    line.width -= advance;\n                    line.glyphs.pop();\n                    line = newLine();\n                    continue;\n\n                    // If not first word, undo current word and cursor and create new line\n                } else if (!wordBreak && wordWidth !== line.width) {\n                    let numGlyphs = cursor - wordCursor + 1;\n                    line.glyphs.splice(-numGlyphs, numGlyphs);\n                    cursor = wordCursor;\n                    line.width -= wordWidth;\n                    line = newLine();\n                    continue;\n                }\n            }\n\n            cursor++;\n            // Reset infinite loop catch\n            count = 0;\n        }\n\n        // Remove last line if empty\n        if (!line.width) lines.pop();\n\n        populateBuffers(lines);\n    }\n\n    function populateBuffers(lines) {\n        const texW = font.common.scaleW;\n        const texH = font.common.scaleH;\n\n        // For all fonts tested, a little offset was needed to be right on the baseline, hence 0.07.\n        let y = 0.07 * size;\n        let j = 0;\n\n        for (let lineIndex = 0; lineIndex < lines.length; lineIndex++) {\n            let line = lines[lineIndex];\n\n            for (let i = 0; i < line.glyphs.length; i++) {\n                const glyph = line.glyphs[i][0];\n                let x = line.glyphs[i][1];\n\n                if (align === 'center') {\n                    x -= line.width * 0.5;\n                } else if (align === 'right') {\n                    x -= line.width;\n                }\n\n                // If space, don't add to geometry\n                if (whitespace.test(glyph.char)) continue;\n\n                // Apply char sprite offsets\n                x += glyph.xoffset * scale;\n                y -= glyph.yoffset * scale;\n\n                // each letter is a quad. axis bottom left\n                let w = glyph.width * scale;\n                let h = glyph.height * scale;\n                buffers.position.set([x, y - h, 0, x, y, 0, x + w, y - h, 0, x + w, y, 0], j * 4 * 3);\n\n                let u = glyph.x / texW;\n                let uw = glyph.width / texW;\n                let v = 1.0 - glyph.y / texH;\n                let vh = glyph.height / texH;\n                buffers.uv.set([u, v - vh, u, v, u + uw, v - vh, u + uw, v], j * 4 * 2);\n\n                // Reset cursor to baseline\n                y += glyph.yoffset * scale;\n\n                j++;\n            }\n\n            y -= size * lineHeight;\n        }\n\n        _this.buffers = buffers;\n        _this.numLines = lines.length;\n        _this.height = _this.numLines * size * lineHeight;\n        _this.width = Math.max(...lines.map((line) => line.width));\n    }\n\n    function getKernPairOffset(id1, id2) {\n        for (let i = 0; i < font.kernings.length; i++) {\n            let k = font.kernings[i];\n            if (k.first < id1) continue;\n            if (k.second < id2) continue;\n            if (k.first > id1) return 0;\n            if (k.first === id1 && k.second > id2) return 0;\n            return k.amount;\n        }\n        return 0;\n    }\n\n    // Update buffers to layout with new layout\n    this.resize = function (options) {\n        ({ width } = options);\n        layout();\n    };\n\n    // Completely change text (like creating new Text)\n    this.update = function (options) {\n        ({ text } = options);\n        createGeometry();\n    };\n}\n","import { Program } from '../core/Program.js';\n\nconst vertex = /* glsl */ `\n    precision highp float;\n    precision highp int;\n\n    attribute vec3 position;\n    attribute vec3 normal;\n\n    uniform mat3 normalMatrix;\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n\n    varying vec3 vNormal;\n\n    void main() {\n        vNormal = normalize(normalMatrix * normal);\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n`;\n\nconst fragment = /* glsl */ `\n    precision highp float;\n    precision highp int;\n\n    varying vec3 vNormal;\n\n    void main() {\n        gl_FragColor.rgb = normalize(vNormal);\n        gl_FragColor.a = 1.0;\n    }\n`;\n\nexport function NormalProgram(gl) {\n    return new Program(gl, {\n        vertex: vertex,\n        fragment: fragment,\n        cullFace: null,\n    });\n}\n","import { RenderTarget } from '../core/RenderTarget.js';\nimport { Program } from '../core/Program.js';\nimport { Mesh } from '../core/Mesh.js';\nimport { Vec2 } from '../math/Vec2.js';\nimport { Triangle } from './Triangle.js';\n\nexport class Flowmap {\n    constructor(\n        gl,\n        {\n            size = 128, // default size of the render targets\n            falloff = 0.3, // size of the stamp, percentage of the size\n            alpha = 1, // opacity of the stamp\n            dissipation = 0.98, // affects the speed that the stamp fades. Closer to 1 is slower\n            type, // Pass in gl.FLOAT to force it, defaults to gl.HALF_FLOAT\n        } = {}\n    ) {\n        const _this = this;\n        this.gl = gl;\n\n        // output uniform containing render target textures\n        this.uniform = { value: null };\n\n        this.mask = {\n            read: null,\n            write: null,\n\n            // Helper function to ping pong the render targets and update the uniform\n            swap: () => {\n                let temp = _this.mask.read;\n                _this.mask.read = _this.mask.write;\n                _this.mask.write = temp;\n                _this.uniform.value = _this.mask.read.texture;\n            },\n        };\n\n        {\n            createFBOs();\n\n            this.aspect = 1;\n            this.mouse = new Vec2();\n            this.velocity = new Vec2();\n\n            this.mesh = initProgram();\n        }\n\n        function createFBOs() {\n            // Requested type not supported, fall back to half float\n            if (!type) type = gl.HALF_FLOAT || gl.renderer.extensions['OES_texture_half_float'].HALF_FLOAT_OES;\n\n            let minFilter = (() => {\n                if (gl.renderer.isWebgl2) return gl.LINEAR;\n                if (gl.renderer.extensions[`OES_texture_${type === gl.FLOAT ? '' : 'half_'}float_linear`]) return gl.LINEAR;\n                return gl.NEAREST;\n            })();\n\n            const options = {\n                width: size,\n                height: size,\n                type,\n                format: gl.RGBA,\n                internalFormat: gl.renderer.isWebgl2 ? (type === gl.FLOAT ? gl.RGBA32F : gl.RGBA16F) : gl.RGBA,\n                minFilter,\n                depth: false,\n            };\n\n            _this.mask.read = new RenderTarget(gl, options);\n            _this.mask.write = new RenderTarget(gl, options);\n            _this.mask.swap();\n        }\n\n        function initProgram() {\n            return new Mesh(gl, {\n                // Triangle that includes -1 to 1 range for 'position', and 0 to 1 range for 'uv'.\n                geometry: new Triangle(gl),\n\n                program: new Program(gl, {\n                    vertex,\n                    fragment,\n                    uniforms: {\n                        tMap: _this.uniform,\n\n                        uFalloff: { value: falloff * 0.5 },\n                        uAlpha: { value: alpha },\n                        uDissipation: { value: dissipation },\n\n                        // User needs to update these\n                        uAspect: { value: 1 },\n                        uMouse: { value: _this.mouse },\n                        uVelocity: { value: _this.velocity },\n                    },\n                    depthTest: false,\n                }),\n            });\n        }\n    }\n\n    update() {\n        this.mesh.program.uniforms.uAspect.value = this.aspect;\n\n        this.gl.renderer.render({\n            scene: this.mesh,\n            target: this.mask.write,\n            clear: false,\n        });\n        this.mask.swap();\n    }\n}\n\nconst vertex = /* glsl */ `\n    attribute vec2 uv;\n    attribute vec2 position;\n\n    varying vec2 vUv;\n\n    void main() {\n        vUv = uv;\n        gl_Position = vec4(position, 0, 1);\n    }\n`;\n\nconst fragment = /* glsl */ `\n    precision highp float;\n\n    uniform sampler2D tMap;\n\n    uniform float uFalloff;\n    uniform float uAlpha;\n    uniform float uDissipation;\n    \n    uniform float uAspect;\n    uniform vec2 uMouse;\n    uniform vec2 uVelocity;\n\n    varying vec2 vUv;\n\n    void main() {\n        vec4 color = texture2D(tMap, vUv) * uDissipation;\n\n        vec2 cursor = vUv - uMouse;\n        cursor.x *= uAspect;\n\n        vec3 stamp = vec3(uVelocity * vec2(1, -1), 1.0 - pow(1.0 - min(1.0, length(uVelocity)), 3.0));\n        float falloff = smoothstep(uFalloff, 0.0, length(cursor)) * uAlpha;\n\n        color.rgb = mix(color.rgb, stamp, vec3(falloff));\n\n        gl_FragColor = color;\n    }\n`;\n","import { Program } from '../core/Program.js';\nimport { Mesh } from '../core/Mesh.js';\nimport { Texture } from '../core/Texture.js';\nimport { RenderTarget } from '../core/RenderTarget.js';\nimport { Triangle } from './Triangle.js';\n\nexport class GPGPU {\n    constructor(\n        gl,\n        {\n            // Always pass in array of vec4s (RGBA values within texture)\n            data = new Float32Array(16),\n            geometry = new Triangle(gl),\n            type, // Pass in gl.FLOAT to force it, defaults to gl.HALF_FLOAT\n        }\n    ) {\n        this.gl = gl;\n        const initialData = data;\n        this.passes = [];\n        this.geometry = geometry;\n        this.dataLength = initialData.length / 4;\n\n        // Windows and iOS only like power of 2 textures\n        // Find smallest PO2 that fits data\n        this.size = Math.pow(2, Math.ceil(Math.log(Math.ceil(Math.sqrt(this.dataLength))) / Math.LN2));\n\n        // Create coords for output texture\n        this.coords = new Float32Array(this.dataLength * 2);\n        for (let i = 0; i < this.dataLength; i++) {\n            const x = (i % this.size) / this.size; // to add 0.5 to be center pixel ?\n            const y = Math.floor(i / this.size) / this.size;\n            this.coords.set([x, y], i * 2);\n        }\n\n        // Use original data if already correct length of PO2 texture, else copy to new array of correct length\n        const floatArray = (() => {\n            if (initialData.length === this.size * this.size * 4) {\n                return initialData;\n            } else {\n                const a = new Float32Array(this.size * this.size * 4);\n                a.set(initialData);\n                return a;\n            }\n        })();\n\n        // Create output texture uniform using input float texture with initial data\n        this.uniform = {\n            value: new Texture(gl, {\n                image: floatArray,\n                target: gl.TEXTURE_2D,\n                type: gl.FLOAT,\n                format: gl.RGBA,\n                internalFormat: gl.renderer.isWebgl2 ? gl.RGBA32F : gl.RGBA,\n                wrapS: gl.CLAMP_TO_EDGE,\n                wrapT: gl.CLAMP_TO_EDGE,\n                generateMipmaps: false,\n                minFilter: gl.NEAREST,\n                magFilter: gl.NEAREST,\n                width: this.size,\n                flipY: false,\n            }),\n        };\n\n        // Create FBOs\n        const options = {\n            width: this.size,\n            height: this.size,\n            type: type || gl.HALF_FLOAT || gl.renderer.extensions['OES_texture_half_float'].HALF_FLOAT_OES,\n            format: gl.RGBA,\n            internalFormat: gl.renderer.isWebgl2 ? (type === gl.FLOAT ? gl.RGBA32F : gl.RGBA16F) : gl.RGBA,\n            minFilter: gl.NEAREST,\n            depth: false,\n            unpackAlignment: 1,\n        };\n\n        this.fbo = {\n            read: new RenderTarget(gl, options),\n            write: new RenderTarget(gl, options),\n            swap: () => {\n                let temp = this.fbo.read;\n                this.fbo.read = this.fbo.write;\n                this.fbo.write = temp;\n                this.uniform.value = this.fbo.read.texture;\n            },\n        };\n    }\n\n    addPass({ vertex = defaultVertex, fragment = defaultFragment, uniforms = {}, textureUniform = 'tMap', enabled = true } = {}) {\n        uniforms[textureUniform] = this.uniform;\n        const program = new Program(this.gl, { vertex, fragment, uniforms });\n        const mesh = new Mesh(this.gl, { geometry: this.geometry, program });\n\n        const pass = {\n            mesh,\n            program,\n            uniforms,\n            enabled,\n            textureUniform,\n        };\n\n        this.passes.push(pass);\n        return pass;\n    }\n\n    render() {\n        const enabledPasses = this.passes.filter((pass) => pass.enabled);\n\n        enabledPasses.forEach((pass, i) => {\n            this.gl.renderer.render({\n                scene: pass.mesh,\n                target: this.fbo.write,\n                clear: false,\n            });\n            this.fbo.swap();\n        });\n    }\n}\n\nconst defaultVertex = /* glsl */ `\n    attribute vec2 uv;\n    attribute vec2 position;\n\n    varying vec2 vUv;\n\n    void main() {\n        vUv = uv;\n        gl_Position = vec4(position, 0, 1);\n    }\n`;\n\nconst defaultFragment = /* glsl */ `\n    precision highp float;\n\n    uniform sampler2D tMap;\n    varying vec2 vUv;\n\n    void main() {\n        gl_FragColor = texture2D(tMap, vUv);\n    }\n`;\n","import { Geometry } from '../core/Geometry.js';\nimport { Program } from '../core/Program.js';\nimport { Mesh } from '../core/Mesh.js';\nimport { Vec2 } from '../math/Vec2.js';\nimport { Vec3 } from '../math/Vec3.js';\nimport { Color } from '../math/Color.js';\n\nconst tmp = new Vec3();\n\nexport class Polyline {\n    constructor(\n        gl,\n        {\n            points, // Array of Vec3s\n            vertex = defaultVertex,\n            fragment = defaultFragment,\n            uniforms = {},\n            attributes = {}, // For passing in custom attribs\n        }\n    ) {\n        this.gl = gl;\n        this.points = points;\n        this.count = points.length;\n\n        // Create buffers\n        this.position = new Float32Array(this.count * 3 * 2);\n        this.prev = new Float32Array(this.count * 3 * 2);\n        this.next = new Float32Array(this.count * 3 * 2);\n        const side = new Float32Array(this.count * 1 * 2);\n        const uv = new Float32Array(this.count * 2 * 2);\n        const index = new Uint16Array((this.count - 1) * 3 * 2);\n\n        // Set static buffers\n        for (let i = 0; i < this.count; i++) {\n            side.set([-1, 1], i * 2);\n            const v = i / (this.count - 1);\n            uv.set([0, v, 1, v], i * 4);\n\n            if (i === this.count - 1) continue;\n            const ind = i * 2;\n            index.set([ind + 0, ind + 1, ind + 2], (ind + 0) * 3);\n            index.set([ind + 2, ind + 1, ind + 3], (ind + 1) * 3);\n        }\n\n        const geometry = (this.geometry = new Geometry(\n            gl,\n            Object.assign(attributes, {\n                position: { size: 3, data: this.position },\n                prev: { size: 3, data: this.prev },\n                next: { size: 3, data: this.next },\n                side: { size: 1, data: side },\n                uv: { size: 2, data: uv },\n                index: { size: 1, data: index },\n            })\n        ));\n\n        // Populate dynamic buffers\n        this.updateGeometry();\n\n        if (!uniforms.uResolution) this.resolution = uniforms.uResolution = { value: new Vec2() };\n        if (!uniforms.uDPR) this.dpr = uniforms.uDPR = { value: 1 };\n        if (!uniforms.uThickness) this.thickness = uniforms.uThickness = { value: 1 };\n        if (!uniforms.uColor) this.color = uniforms.uColor = { value: new Color('#000') };\n        if (!uniforms.uMiter) this.miter = uniforms.uMiter = { value: 1 };\n\n        // Set size uniforms' values\n        this.resize();\n\n        const program = (this.program = new Program(gl, {\n            vertex,\n            fragment,\n            uniforms,\n        }));\n\n        this.mesh = new Mesh(gl, { geometry, program });\n    }\n\n    updateGeometry() {\n        this.points.forEach((p, i) => {\n            p.toArray(this.position, i * 3 * 2);\n            p.toArray(this.position, i * 3 * 2 + 3);\n\n            if (!i) {\n                // If first point, calculate prev using the distance to 2nd point\n                tmp.copy(p)\n                    .sub(this.points[i + 1])\n                    .add(p);\n                tmp.toArray(this.prev, i * 3 * 2);\n                tmp.toArray(this.prev, i * 3 * 2 + 3);\n            } else {\n                p.toArray(this.next, (i - 1) * 3 * 2);\n                p.toArray(this.next, (i - 1) * 3 * 2 + 3);\n            }\n\n            if (i === this.points.length - 1) {\n                // If last point, calculate next using distance to 2nd last point\n                tmp.copy(p)\n                    .sub(this.points[i - 1])\n                    .add(p);\n                tmp.toArray(this.next, i * 3 * 2);\n                tmp.toArray(this.next, i * 3 * 2 + 3);\n            } else {\n                p.toArray(this.prev, (i + 1) * 3 * 2);\n                p.toArray(this.prev, (i + 1) * 3 * 2 + 3);\n            }\n        });\n\n        this.geometry.attributes.position.needsUpdate = true;\n        this.geometry.attributes.prev.needsUpdate = true;\n        this.geometry.attributes.next.needsUpdate = true;\n    }\n\n    // Only need to call if not handling resolution uniforms manually\n    resize() {\n        // Update automatic uniforms if not overridden\n        if (this.resolution) this.resolution.value.set(this.gl.canvas.width, this.gl.canvas.height);\n        if (this.dpr) this.dpr.value = this.gl.renderer.dpr;\n    }\n}\n\nconst defaultVertex = /* glsl */ `\n    precision highp float;\n\n    attribute vec3 position;\n    attribute vec3 next;\n    attribute vec3 prev;\n    attribute vec2 uv;\n    attribute float side;\n\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n    uniform vec2 uResolution;\n    uniform float uDPR;\n    uniform float uThickness;\n    uniform float uMiter;\n\n    varying vec2 vUv;\n\n    vec4 getPosition() {\n        mat4 mvp = projectionMatrix * modelViewMatrix;\n        vec4 current = mvp * vec4(position, 1);\n        vec4 nextPos = mvp * vec4(next, 1);\n        vec4 prevPos = mvp * vec4(prev, 1);\n\n        vec2 aspect = vec2(uResolution.x / uResolution.y, 1);    \n        vec2 currentScreen = current.xy / current.w * aspect;\n        vec2 nextScreen = nextPos.xy / nextPos.w * aspect;\n        vec2 prevScreen = prevPos.xy / prevPos.w * aspect;\n    \n        vec2 dir1 = normalize(currentScreen - prevScreen);\n        vec2 dir2 = normalize(nextScreen - currentScreen);\n        vec2 dir = normalize(dir1 + dir2);\n    \n        vec2 normal = vec2(-dir.y, dir.x);\n        normal /= mix(1.0, max(0.3, dot(normal, vec2(-dir1.y, dir1.x))), uMiter);\n        normal /= aspect;\n\n        float pixelWidthRatio = 1.0 / (uResolution.y / uDPR);\n        float pixelWidth = current.w * pixelWidthRatio;\n        normal *= pixelWidth * uThickness;\n        current.xy -= normal * side;\n    \n        return current;\n    }\n\n    void main() {\n        vUv = uv;\n        gl_Position = getPosition();\n    }\n`;\n\nconst defaultFragment = /* glsl */ `\n    precision highp float;\n\n    uniform vec3 uColor;\n    \n    varying vec2 vUv;\n\n    void main() {\n        gl_FragColor.rgb = uColor;\n        gl_FragColor.a = 1.0;\n    }\n`;\n","import { Camera } from '../core/Camera.js';\nimport { Program } from '../core/Program.js';\nimport { RenderTarget } from '../core/RenderTarget.js';\n\nexport class Shadow {\n    constructor(gl, { light = new Camera(gl), width = 1024, height = width }) {\n        this.gl = gl;\n\n        this.light = light;\n\n        this.target = new RenderTarget(gl, { width, height });\n\n        this.depthProgram = new Program(gl, {\n            vertex: defaultVertex,\n            fragment: defaultFragment,\n            cullFace: null,\n        });\n\n        this.castMeshes = [];\n    }\n\n    add({\n        mesh,\n        receive = true,\n        cast = true,\n        vertex = defaultVertex,\n        fragment = defaultFragment,\n        uniformProjection = 'shadowProjectionMatrix',\n        uniformView = 'shadowViewMatrix',\n        uniformTexture = 'tShadow',\n    }) {\n        // Add uniforms to existing program\n        if (receive && !mesh.program.uniforms[uniformProjection]) {\n            mesh.program.uniforms[uniformProjection] = { value: this.light.projectionMatrix };\n            mesh.program.uniforms[uniformView] = { value: this.light.viewMatrix };\n            mesh.program.uniforms[uniformTexture] = { value: this.target.texture };\n        }\n\n        if (!cast) return;\n        this.castMeshes.push(mesh);\n\n        // Store program for when switching between depth override\n        mesh.colorProgram = mesh.program;\n\n        // Check if depth program already attached\n        if (mesh.depthProgram) return;\n\n        // Use global depth override if nothing custom passed in\n        if (vertex === defaultVertex && fragment === defaultFragment) {\n            mesh.depthProgram = this.depthProgram;\n            return;\n        }\n\n        // Create custom override program\n        mesh.depthProgram = new Program(this.gl, {\n            vertex,\n            fragment,\n            cullFace: null,\n        });\n    }\n\n    render({ scene }) {\n        // For depth render, replace program with depth override.\n        // Hide meshes not casting shadows.\n        scene.traverse((node) => {\n            if (!node.draw) return;\n            if (!!~this.castMeshes.indexOf(node)) {\n                node.program = node.depthProgram;\n            } else {\n                node.isForceVisibility = node.visible;\n                node.visible = false;\n            }\n        });\n\n        // Render the depth shadow map using the light as the camera\n        this.gl.renderer.render({\n            scene,\n            camera: this.light,\n            target: this.target,\n        });\n\n        // Then switch the program back to the normal one\n        scene.traverse((node) => {\n            if (!node.draw) return;\n            if (!!~this.castMeshes.indexOf(node)) {\n                node.program = node.colorProgram;\n            } else {\n                node.visible = node.isForceVisibility;\n            }\n        });\n    }\n}\n\nconst defaultVertex = /* glsl */ `\n    attribute vec3 position;\n    attribute vec2 uv;\n\n    uniform mat4 modelViewMatrix;\n    uniform mat4 projectionMatrix;\n\n    void main() {\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n    }\n`;\n\nconst defaultFragment = /* glsl */ `\n    precision highp float;\n\n    vec4 packRGBA (float v) {\n        vec4 pack = fract(vec4(1.0, 255.0, 65025.0, 16581375.0) * v);\n        pack -= pack.yzww * vec2(1.0 / 255.0, 0.0).xxxy;\n        return pack;\n    }\n\n    void main() {\n        gl_FragColor = packRGBA(gl_FragCoord.z);\n    }\n`;\n","import { Texture } from '../core/Texture.js';\n\n// TODO: Support cubemaps\n// Generate textures using https://github.com/TimvanScherpenzeel/texture-compressor\n\nexport class KTXTexture extends Texture {\n    constructor(gl, { buffer, wrapS = gl.CLAMP_TO_EDGE, wrapT = gl.CLAMP_TO_EDGE, anisotropy = 0, minFilter, magFilter } = {}) {\n        super(gl, {\n            generateMipmaps: false,\n            wrapS,\n            wrapT,\n            anisotropy,\n            minFilter,\n            magFilter,\n        });\n\n        if (buffer) return this.parseBuffer(buffer);\n    }\n\n    parseBuffer(buffer) {\n        const ktx = new KhronosTextureContainer(buffer);\n        ktx.mipmaps.isCompressedTexture = true;\n\n        // Update texture\n        this.image = ktx.mipmaps;\n        this.internalFormat = ktx.glInternalFormat;\n        if (ktx.numberOfMipmapLevels > 1) {\n            if (this.minFilter === this.gl.LINEAR) this.minFilter = this.gl.NEAREST_MIPMAP_LINEAR;\n        } else {\n            if (this.minFilter === this.gl.NEAREST_MIPMAP_LINEAR) this.minFilter = this.gl.LINEAR;\n        }\n\n        // TODO: support cube maps\n        // ktx.numberOfFaces\n    }\n}\n\nfunction KhronosTextureContainer(buffer) {\n    const idCheck = [0xab, 0x4b, 0x54, 0x58, 0x20, 0x31, 0x31, 0xbb, 0x0d, 0x0a, 0x1a, 0x0a];\n    const id = new Uint8Array(buffer, 0, 12);\n    for (let i = 0; i < id.length; i++) if (id[i] !== idCheck[i]) return console.error('File missing KTX identifier');\n\n    // TODO: Is this always 4? Tested: [android, macos]\n    const size = Uint32Array.BYTES_PER_ELEMENT;\n    const head = new DataView(buffer, 12, 13 * size);\n    const littleEndian = head.getUint32(0, true) === 0x04030201;\n    const glType = head.getUint32(1 * size, littleEndian);\n    if (glType !== 0) return console.warn('only compressed formats currently supported');\n    this.glInternalFormat = head.getUint32(4 * size, littleEndian);\n    let width = head.getUint32(6 * size, littleEndian);\n    let height = head.getUint32(7 * size, littleEndian);\n    this.numberOfFaces = head.getUint32(10 * size, littleEndian);\n    this.numberOfMipmapLevels = Math.max(1, head.getUint32(11 * size, littleEndian));\n    const bytesOfKeyValueData = head.getUint32(12 * size, littleEndian);\n\n    this.mipmaps = [];\n    let offset = 12 + 13 * 4 + bytesOfKeyValueData;\n    for (let level = 0; level < this.numberOfMipmapLevels; level++) {\n        const levelSize = new Int32Array(buffer, offset, 1)[0]; // size per face, since not supporting array cubemaps\n        offset += 4; // levelSize field\n        for (let face = 0; face < this.numberOfFaces; face++) {\n            const data = new Uint8Array(buffer, offset, levelSize);\n            this.mipmaps.push({ data, width, height });\n            offset += levelSize;\n            offset += 3 - ((levelSize + 3) % 4); // add padding for odd sized image\n        }\n        width = width >> 1;\n        height = height >> 1;\n    }\n}\n","import { Texture } from '../core/Texture.js';\nimport { KTXTexture } from './KTXTexture.js';\n\n// For compressed textures, generate using https://github.com/TimvanScherpenzeel/texture-compressor\n\nlet cache = {};\nconst supportedExtensions = [];\n\nexport class TextureLoader {\n    static load(\n        gl,\n        {\n            src, // string or object of extension:src key-values\n            // {\n            //     pvrtc: '...ktx',\n            //     s3tc: '...ktx',\n            //     etc: '...ktx',\n            //     etc1: '...ktx',\n            //     astc: '...ktx',\n            //     webp: '...webp',\n            //     jpg: '...jpg',\n            //     png: '...png',\n            // }\n\n            // Only props relevant to KTXTexture\n            wrapS = gl.CLAMP_TO_EDGE,\n            wrapT = gl.CLAMP_TO_EDGE,\n            anisotropy = 0,\n\n            // For regular images\n            format = gl.RGBA,\n            internalFormat = format,\n            generateMipmaps = true,\n            minFilter = generateMipmaps ? gl.NEAREST_MIPMAP_LINEAR : gl.LINEAR,\n            magFilter = gl.LINEAR,\n            premultiplyAlpha = false,\n            unpackAlignment = 4,\n            flipY = true,\n        } = {}\n    ) {\n        const support = this.getSupportedExtensions(gl);\n        let ext = 'none';\n\n        // If src is string, determine which format from the extension\n        if (typeof src === 'string') {\n            ext = src.split('.').pop().split('?')[0].toLowerCase();\n        }\n\n        // If src is object, use supported extensions and provided list to choose best option\n        // Get first supported match, so put in order of preference\n        if (typeof src === 'object') {\n            for (const prop in src) {\n                if (support.includes(prop.toLowerCase())) {\n                    ext = prop.toLowerCase();\n                    src = src[prop];\n                    break;\n                }\n            }\n        }\n\n        // Stringify props\n        const cacheID =\n            src +\n            wrapS +\n            wrapT +\n            anisotropy +\n            format +\n            internalFormat +\n            generateMipmaps +\n            minFilter +\n            magFilter +\n            premultiplyAlpha +\n            unpackAlignment +\n            flipY +\n            gl.renderer.id;\n\n        // Check cache for existing texture\n        if (cache[cacheID]) return cache[cacheID];\n\n        let texture;\n        switch (ext) {\n            case 'ktx':\n            case 'pvrtc':\n            case 's3tc':\n            case 'etc':\n            case 'etc1':\n            case 'astc':\n                // Load compressed texture using KTX format\n                texture = new KTXTexture(gl, {\n                    src,\n                    wrapS,\n                    wrapT,\n                    anisotropy,\n                    minFilter,\n                    magFilter,\n                });\n                texture.loaded = this.loadKTX(src, texture);\n                break;\n            case 'webp':\n            case 'jpg':\n            case 'jpeg':\n            case 'png':\n                texture = new Texture(gl, {\n                    wrapS,\n                    wrapT,\n                    anisotropy,\n                    format,\n                    internalFormat,\n                    generateMipmaps,\n                    minFilter,\n                    magFilter,\n                    premultiplyAlpha,\n                    unpackAlignment,\n                    flipY,\n                });\n                texture.loaded = this.loadImage(gl, src, texture);\n                break;\n            default:\n                console.warn('No supported format supplied');\n                texture = new Texture(gl);\n        }\n\n        texture.ext = ext;\n        cache[cacheID] = texture;\n        return texture;\n    }\n\n    static getSupportedExtensions(gl) {\n        if (supportedExtensions.length) return supportedExtensions;\n\n        const extensions = {\n            pvrtc: gl.renderer.getExtension('WEBGL_compressed_texture_pvrtc') || gl.renderer.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc'),\n            s3tc:\n                gl.renderer.getExtension('WEBGL_compressed_texture_s3tc') ||\n                gl.renderer.getExtension('MOZ_WEBGL_compressed_texture_s3tc') ||\n                gl.renderer.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc'),\n            etc: gl.renderer.getExtension('WEBGL_compressed_texture_etc'),\n            etc1: gl.renderer.getExtension('WEBGL_compressed_texture_etc1'),\n            astc: gl.renderer.getExtension('WEBGL_compressed_texture_astc'),\n        };\n\n        for (const ext in extensions) if (extensions[ext]) supportedExtensions.push(ext);\n\n        // Check for WebP support\n        if (detectWebP) supportedExtensions.push('webp');\n\n        // Formats supported by all\n        supportedExtensions.push('png', 'jpg');\n\n        return supportedExtensions;\n    }\n\n    static loadKTX(src, texture) {\n        return fetch(src)\n            .then((res) => res.arrayBuffer())\n            .then((buffer) => texture.parseBuffer(buffer));\n    }\n\n    static loadImage(gl, src, texture) {\n        return decodeImage(src).then((imgBmp) => {\n            // Catch non POT textures and update params to avoid errors\n            if (!powerOfTwo(imgBmp.width) || !powerOfTwo(imgBmp.height)) {\n                if (texture.generateMipmaps) texture.generateMipmaps = false;\n                if (texture.minFilter === gl.NEAREST_MIPMAP_LINEAR) texture.minFilter = gl.LINEAR;\n                if (texture.wrapS === gl.REPEAT) texture.wrapS = texture.wrapT = gl.CLAMP_TO_EDGE;\n            }\n\n            texture.image = imgBmp;\n\n            // For createImageBitmap, close once uploaded\n            texture.onUpdate = () => {\n                if (imgBmp.close) imgBmp.close();\n                texture.onUpdate = null;\n            };\n\n            return imgBmp;\n        });\n    }\n\n    static clearCache() {\n        cache = {};\n    }\n}\n\nfunction detectWebP() {\n    return document.createElement('canvas').toDataURL('image/webp').indexOf('data:image/webp') == 0;\n}\n\nfunction powerOfTwo(value) {\n    return Math.log2(value) % 1 === 0;\n}\n\nfunction decodeImage(src) {\n    return new Promise((resolve) => {\n        const img = new Image();\n        img.crossOrigin = '';\n        img.src = src;\n\n        // Only chrome's implementation of createImageBitmap is fully supported\n        const isChrome = navigator.userAgent.toLowerCase().includes('chrome');\n        if (!!window.createImageBitmap && isChrome) {\n            img.onload = () => {\n                createImageBitmap(img, {\n                    imageOrientation: 'flipY',\n                    premultiplyAlpha: 'none',\n                }).then((imgBmp) => {\n                    resolve(imgBmp);\n                });\n            };\n        } else {\n            img.onload = () => resolve(img);\n        }\n    });\n}\n","import { Vec3 } from '../math/Vec3.js';\nimport { Quat } from '../math/Quat.js';\n\nconst tmpVec3A = new Vec3();\nconst tmpVec3B = new Vec3();\nconst tmpVec3C = new Vec3();\nconst tmpVec3D = new Vec3();\n\nconst tmpQuatA = new Quat();\nconst tmpQuatB = new Quat();\nconst tmpQuatC = new Quat();\nconst tmpQuatD = new Quat();\n\nexport class GLTFAnimation {\n    constructor(data, weight = 1) {\n        this.data = data;\n        this.elapsed = 0;\n        this.weight = weight;\n\n        // Set to false to not apply modulo to elapsed against duration\n        this.loop = true;\n\n        // Find starting time as exports from blender (perhaps others too) don't always start from 0\n        this.startTime = data.reduce((a, { times }) => Math.min(a, times[0]), Infinity);\n        // Get largest final time in all channels to calculate duration\n        this.endTime = data.reduce((a, { times }) => Math.max(a, times[times.length - 1]), 0);\n        this.duration = this.endTime - this.startTime;\n    }\n\n    update(totalWeight = 1, isSet) {\n        const weight = isSet ? 1 : this.weight / totalWeight;\n        const elapsed = (this.loop ? this.elapsed % this.duration : Math.min(this.elapsed, this.duration - 0.001)) + this.startTime;\n\n        this.data.forEach(({ node, transform, interpolation, times, values }) => {\n            // Get index of two time values elapsed is between\n            const prevIndex =\n                Math.max(\n                    1,\n                    times.findIndex((t) => t > elapsed)\n                ) - 1;\n            const nextIndex = prevIndex + 1;\n\n            // Get linear blend/alpha between the two\n            let alpha = (elapsed - times[prevIndex]) / (times[nextIndex] - times[prevIndex]);\n            if (interpolation === 'STEP') alpha = 0;\n\n            let prevVal = tmpVec3A;\n            let prevTan = tmpVec3B;\n            let nextTan = tmpVec3C;\n            let nextVal = tmpVec3D;\n            let size = 3;\n\n            if (transform === 'quaternion') {\n                prevVal = tmpQuatA;\n                prevTan = tmpQuatB;\n                nextTan = tmpQuatC;\n                nextVal = tmpQuatD;\n                size = 4;\n            }\n\n            if (interpolation === 'CUBICSPLINE') {\n                // Get the prev and next values from the indices\n                prevVal.fromArray(values, prevIndex * size * 3 + size * 1);\n                prevTan.fromArray(values, prevIndex * size * 3 + size * 2);\n                nextTan.fromArray(values, nextIndex * size * 3 + size * 0);\n                nextVal.fromArray(values, nextIndex * size * 3 + size * 1);\n\n                // interpolate for final value\n                prevVal = this.cubicSplineInterpolate(alpha, prevVal, prevTan, nextTan, nextVal);\n                if (size === 4) prevVal.normalize();\n            } else {\n                // Get the prev and next values from the indices\n                prevVal.fromArray(values, prevIndex * size);\n                nextVal.fromArray(values, nextIndex * size);\n\n                // interpolate for final value\n                if (size === 4) prevVal.slerp(nextVal, alpha);\n                else prevVal.lerp(nextVal, alpha);\n            }\n\n            // interpolate between multiple possible animations\n            if (size === 4) node[transform].slerp(prevVal, weight);\n            else node[transform].lerp(prevVal, weight);\n        });\n    }\n\n    cubicSplineInterpolate(t, prevVal, prevTan, nextTan, nextVal) {\n        const t2 = t * t;\n        const t3 = t2 * t;\n\n        const s2 = 3 * t2 - 2 * t3;\n        const s3 = t3 - t2;\n        const s0 = 1 - s2;\n        const s1 = s3 - t2 + t;\n\n        for (let i = 0; i < prevVal.length; i++) {\n            prevVal[i] = s0 * prevVal[i] + s1 * (1 - t) * prevTan[i] + s2 * nextVal[i] + s3 * t * nextTan[i];\n        }\n\n        return prevVal;\n    }\n}\n","import { Mesh } from '../core/Mesh.js';\nimport { Mat4 } from '../math/Mat4.js';\nimport { Texture } from '../core/Texture.js';\n\nconst tempMat4 = new Mat4();\nconst identity = new Mat4();\n\nexport class GLTFSkin extends Mesh {\n    constructor(gl, { skeleton, geometry, program, mode = gl.TRIANGLES } = {}) {\n        super(gl, { geometry, program, mode });\n        this.skeleton = skeleton;\n        this.program = program;\n        this.createBoneTexture();\n        this.animations = [];\n    }\n\n    createBoneTexture() {\n        if (!this.skeleton.joints.length) return;\n        const size = Math.max(4, Math.pow(2, Math.ceil(Math.log(Math.sqrt(this.skeleton.joints.length * 4)) / Math.LN2)));\n        this.boneMatrices = new Float32Array(size * size * 4);\n        this.boneTextureSize = size;\n        this.boneTexture = new Texture(this.gl, {\n            image: this.boneMatrices,\n            generateMipmaps: false,\n            type: this.gl.FLOAT,\n            internalFormat: this.gl.renderer.isWebgl2 ? this.gl.RGBA32F : this.gl.RGBA,\n            minFilter: this.gl.NEAREST,\n            magFilter: this.gl.NEAREST,\n            flipY: false,\n            width: size,\n        });\n    }\n\n    // addAnimation(data) {\n    //     const animation = new Animation({ objects: this.bones, data });\n    //     this.animations.push(animation);\n    //     return animation;\n    // }\n\n    // updateAnimations() {\n    //     // Calculate combined animation weight\n    //     let total = 0;\n    //     this.animations.forEach((animation) => (total += animation.weight));\n\n    //     this.animations.forEach((animation, i) => {\n    //         // force first animation to set in order to reset frame\n    //         animation.update(total, i === 0);\n    //     });\n    // }\n\n    updateUniforms() {\n        // Update bone texture\n        this.skeleton.joints.forEach((bone, i) => {\n            // Find difference between current and bind pose\n            tempMat4.multiply(bone.worldMatrix, bone.bindInverse);\n            this.boneMatrices.set(tempMat4, i * 16);\n        });\n        if (this.boneTexture) this.boneTexture.needsUpdate = true;\n    }\n\n    draw({ camera } = {}) {\n        if (!this.program.uniforms.boneTexture) {\n            Object.assign(this.program.uniforms, {\n                boneTexture: { value: this.boneTexture },\n                boneTextureSize: { value: this.boneTextureSize },\n            });\n        }\n\n        this.updateUniforms();\n\n        // Switch the world matrix with identity to ignore any transforms\n        // on the mesh itself - only use skeleton's transforms\n        const _worldMatrix = this.worldMatrix;\n        this.worldMatrix = identity;\n\n        super.draw({ camera });\n\n        // Switch back to leave identity untouched\n        this.worldMatrix = _worldMatrix;\n    }\n}\n","import { Geometry } from '../core/Geometry.js';\nimport { Transform } from '../core/Transform.js';\nimport { Texture } from '../core/Texture.js';\nimport { Mesh } from '../core/Mesh.js';\nimport { GLTFAnimation } from './GLTFAnimation.js';\nimport { GLTFSkin } from './GLTFSkin.js';\nimport { Mat4 } from '../math/Mat4.js';\nimport { NormalProgram } from './NormalProgram.js';\n\n// Supports\n// [x] Geometry\n// [ ] Sparse support\n// [x] Nodes and Hierarchy\n// [x] Instancing\n// [ ] Morph Targets\n// [x] Skins\n// [ ] Materials\n// [x] Textures\n// [x] Animation\n// [ ] Cameras\n// [ ] Extensions\n// [x] GLB support\n\n// TODO: Sparse accessor packing? For morph targets basically\n// TODO: init accessor missing bufferView with 0s\n// TODO: morph target animations\n// TODO: what to do if multiple instances are in different groups? Only uses local matrices\n// TODO: what if instancing isn't wanted? Eg collision maps\n// TODO: ie11 fallback for TextDecoder?\n\nconst TYPE_ARRAY = {\n    5121: Uint8Array,\n    5122: Int16Array,\n    5123: Uint16Array,\n    5125: Uint32Array,\n    5126: Float32Array,\n    'image/jpeg': Uint8Array,\n    'image/png': Uint8Array,\n};\n\nconst TYPE_SIZE = {\n    SCALAR: 1,\n    VEC2: 2,\n    VEC3: 3,\n    VEC4: 4,\n    MAT2: 4,\n    MAT3: 9,\n    MAT4: 16,\n};\n\nconst ATTRIBUTES = {\n    POSITION: 'position',\n    NORMAL: 'normal',\n    TANGENT: 'tangent',\n    TEXCOORD_0: 'uv',\n    TEXCOORD_1: 'uv2',\n    COLOR_0: 'color',\n    WEIGHTS_0: 'skinWeight',\n    JOINTS_0: 'skinIndex',\n};\n\nconst TRANSFORMS = {\n    translation: 'position',\n    rotation: 'quaternion',\n    scale: 'scale',\n};\n\nexport class GLTFLoader {\n    static async load(gl, src) {\n        const dir = src.split('/').slice(0, -1).join('/') + '/';\n\n        // load main description json\n        const desc = await this.parseDesc(src);\n\n        return await this.parse(gl, desc, dir);\n    }\n\n    static async parse(gl, desc, dir) {\n        if (desc.asset === undefined || desc.asset.version[0] < 2) console.warn('Only GLTF >=2.0 supported. Attempting to parse.');\n\n        // Load buffers async\n        const buffers = await this.loadBuffers(desc, dir);\n\n        // Unbind current VAO so that new buffers don't get added to active mesh\n        gl.renderer.bindVertexArray(null);\n\n        // Create gl buffers from bufferViews\n        const bufferViews = this.parseBufferViews(gl, desc, buffers);\n\n        // Create images from either bufferViews or separate image files\n        const images = this.parseImages(gl, desc, dir, bufferViews);\n\n        const textures = this.parseTextures(gl, desc, images);\n\n        // Just pass through material data for now\n        const materials = this.parseMaterials(gl, desc, textures);\n\n        // Fetch the inverse bind matrices for skeleton joints\n        const skins = this.parseSkins(gl, desc, bufferViews);\n\n        // Create geometries for each mesh primitive\n        const meshes = this.parseMeshes(gl, desc, bufferViews, materials, skins);\n\n        // Create transforms, meshes and hierarchy\n        const nodes = this.parseNodes(gl, desc, meshes, skins);\n\n        // Place nodes in skeletons\n        this.populateSkins(skins, nodes);\n\n        // Create animation handlers\n        const animations = this.parseAnimations(gl, desc, nodes, bufferViews);\n\n        // Get top level nodes for each scene\n        const scenes = this.parseScenes(desc, nodes);\n        const scene = scenes[desc.scene];\n\n        // Remove null nodes (instanced transforms)\n        for (let i = nodes.length; i >= 0; i--) if (!nodes[i]) nodes.splice(i, 1);\n\n        return {\n            json: desc,\n            buffers,\n            bufferViews,\n            images,\n            textures,\n            materials,\n            meshes,\n            nodes,\n            animations,\n            scenes,\n            scene,\n        };\n    }\n\n    static async parseDesc(src) {\n        if (!src.match(/\\.glb/)) {\n            return await fetch(src).then((res) => res.json());\n        } else {\n            return await fetch(src)\n                .then((res) => res.arrayBuffer())\n                .then((glb) => this.unpackGLB(glb));\n        }\n    }\n\n    // From https://github.com/donmccurdy/glTF-Transform/blob/e4108cc/packages/core/src/io/io.ts#L32\n    static unpackGLB(glb) {\n        // Decode and verify GLB header.\n        const header = new Uint32Array(glb, 0, 3);\n        if (header[0] !== 0x46546c67) {\n            throw new Error('Invalid glTF asset.');\n        } else if (header[1] !== 2) {\n            throw new Error(`Unsupported glTF binary version, \"${header[1]}\".`);\n        }\n        // Decode and verify chunk headers.\n        const jsonChunkHeader = new Uint32Array(glb, 12, 2);\n        const jsonByteOffset = 20;\n        const jsonByteLength = jsonChunkHeader[0];\n        if (jsonChunkHeader[1] !== 0x4e4f534a) {\n            throw new Error('Unexpected GLB layout.');\n        }\n\n        // Decode JSON.\n        const jsonText = new TextDecoder().decode(glb.slice(jsonByteOffset, jsonByteOffset + jsonByteLength));\n        const json = JSON.parse(jsonText);\n        // JSON only\n        if (jsonByteOffset + jsonByteLength === glb.byteLength) return json;\n\n        const binaryChunkHeader = new Uint32Array(glb, jsonByteOffset + jsonByteLength, 2);\n        if (binaryChunkHeader[1] !== 0x004e4942) {\n            throw new Error('Unexpected GLB layout.');\n        }\n        // Decode content.\n        const binaryByteOffset = jsonByteOffset + jsonByteLength + 8;\n        const binaryByteLength = binaryChunkHeader[0];\n        const binary = glb.slice(binaryByteOffset, binaryByteOffset + binaryByteLength);\n        // Attach binary to buffer\n        json.buffers[0].binary = binary;\n        return json;\n    }\n\n    // Threejs GLTF Loader https://github.com/mrdoob/three.js/blob/master/examples/js/loaders/GLTFLoader.js#L1085\n    static resolveURI(uri, dir) {\n        // Invalid URI\n        if (typeof uri !== 'string' || uri === '') return '';\n\n        // Host Relative URI\n        if (/^https?:\\/\\//i.test(dir) && /^\\//.test(uri)) {\n            dir = dir.replace(/(^https?:\\/\\/[^\\/]+).*/i, '$1');\n        }\n\n        // Absolute URI http://, https://, //\n        if (/^(https?:)?\\/\\//i.test(uri)) return uri;\n\n        // Data URI\n        if (/^data:.*,.*$/i.test(uri)) return uri;\n\n        // Blob URI\n        if (/^blob:.*$/i.test(uri)) return uri;\n\n        // Relative URI\n        return dir + uri;\n    }\n\n    static async loadBuffers(desc, dir) {\n        if (!desc.buffers) return null;\n        return await Promise.all(\n            desc.buffers.map((buffer) => {\n                // For GLB, binary buffer ready to go\n                if (buffer.binary) return buffer.binary;\n                const uri = this.resolveURI(buffer.uri, dir);\n                return fetch(uri).then((res) => res.arrayBuffer());\n            })\n        );\n    }\n\n    static parseBufferViews(gl, desc, buffers) {\n        if (!desc.bufferViews) return null;\n        // Clone to leave description pure\n        const bufferViews = desc.bufferViews.map((o) => Object.assign({}, o));\n\n        desc.meshes &&\n            desc.meshes.forEach(({ primitives }) => {\n                primitives.forEach(({ attributes, indices }) => {\n                    // Flag bufferView as an attribute, so it knows to create a gl buffer\n                    for (let attr in attributes) bufferViews[desc.accessors[attributes[attr]].bufferView].isAttribute = true;\n\n                    if (indices === undefined) return;\n                    bufferViews[desc.accessors[indices].bufferView].isAttribute = true;\n\n                    // Make sure indices bufferView have a target property for gl buffer binding\n                    bufferViews[desc.accessors[indices].bufferView].target = gl.ELEMENT_ARRAY_BUFFER;\n                });\n            });\n\n        // Get componentType of each bufferView from the accessors\n        desc.accessors.forEach(({ bufferView: i, componentType }) => {\n            bufferViews[i].componentType = componentType;\n        });\n\n        // Get mimetype of bufferView from images\n        desc.images &&\n            desc.images.forEach(({ uri, bufferView: i, mimeType }) => {\n                if (i === undefined) return;\n                bufferViews[i].mimeType = mimeType;\n            });\n\n        // Push each bufferView to the GPU as a separate buffer\n        bufferViews.forEach(\n            (\n                {\n                    buffer: bufferIndex, // required\n                    byteOffset = 0, // optional\n                    byteLength, // required\n                    byteStride, // optional\n                    target = gl.ARRAY_BUFFER, // optional, added above for elements\n                    name, // optional\n                    extensions, // optional\n                    extras, // optional\n\n                    componentType, // optional, added from accessor above\n                    mimeType, // optional, added from images above\n                    isAttribute,\n                },\n                i\n            ) => {\n                const TypeArray = TYPE_ARRAY[componentType || mimeType];\n                const elementBytes = TypeArray.BYTES_PER_ELEMENT;\n\n                const data = new TypeArray(buffers[bufferIndex], byteOffset, byteLength / elementBytes);\n                bufferViews[i].data = data;\n                bufferViews[i].originalBuffer = buffers[bufferIndex];\n\n                if (!isAttribute) return;\n                // Create gl buffers for the bufferView, pushing it to the GPU\n                const buffer = gl.createBuffer();\n                gl.bindBuffer(target, buffer);\n                gl.renderer.state.boundBuffer = buffer;\n                gl.bufferData(target, data, gl.STATIC_DRAW);\n                bufferViews[i].buffer = buffer;\n            }\n        );\n\n        return bufferViews;\n    }\n\n    static parseImages(gl, desc, dir, bufferViews) {\n        if (!desc.images) return null;\n        return desc.images.map(({ uri, bufferView: bufferViewIndex, mimeType, name }) => {\n            const image = new Image();\n            image.name = name;\n            if (uri) {\n                image.src = this.resolveURI(uri, dir);\n            } else if (bufferViewIndex !== undefined) {\n                const { data } = bufferViews[bufferViewIndex];\n                const blob = new Blob([data], { type: mimeType });\n                image.src = URL.createObjectURL(blob);\n            }\n            image.ready = new Promise((res) => {\n                image.onload = () => res();\n            });\n            return image;\n        });\n    }\n\n    static parseTextures(gl, desc, images) {\n        if (!desc.textures) return null;\n        return desc.textures.map(({ sampler: samplerIndex, source: sourceIndex, name, extensions, extras }) => {\n            const options = {\n                flipY: false,\n                wrapS: gl.REPEAT, // Repeat by default, opposed to OGL's clamp by default\n                wrapT: gl.REPEAT,\n            };\n            const sampler = samplerIndex !== undefined ? desc.samplers[samplerIndex] : null;\n            if (sampler) {\n                ['magFilter', 'minFilter', 'wrapS', 'wrapT'].forEach((prop) => {\n                    if (sampler[prop]) options[prop] = sampler[prop];\n                });\n            }\n            const texture = new Texture(gl, options);\n            texture.name = name;\n            const image = images[sourceIndex];\n            image.ready.then(() => (texture.image = image));\n\n            return texture;\n        });\n    }\n\n    static parseMaterials(gl, desc, textures) {\n        if (!desc.materials) return null;\n        return desc.materials.map(\n            ({\n                name,\n                extensions,\n                extras,\n                pbrMetallicRoughness = {},\n                normalTexture,\n                occlusionTexture,\n                emissiveTexture,\n                emissiveFactor = [0, 0, 0],\n                alphaMode = 'OPAQUE',\n                alphaCutoff = 0.5,\n                doubleSided = false,\n            }) => {\n                const {\n                    baseColorFactor = [1, 1, 1, 1],\n                    baseColorTexture,\n                    metallicFactor = 1,\n                    roughnessFactor = 1,\n                    metallicRoughnessTexture,\n                    //   extensions,\n                    //   extras,\n                } = pbrMetallicRoughness;\n\n                if (baseColorTexture) {\n                    baseColorTexture.texture = textures[baseColorTexture.index];\n                    // texCoord\n                }\n                if (normalTexture) {\n                    normalTexture.texture = textures[normalTexture.index];\n                    // scale: 1\n                    // texCoord\n                }\n                if (metallicRoughnessTexture) {\n                    metallicRoughnessTexture.texture = textures[metallicRoughnessTexture.index];\n                    // texCoord\n                }\n                if (occlusionTexture) {\n                    occlusionTexture.texture = textures[occlusionTexture.index];\n                    // strength 1\n                    // texCoord\n                }\n                if (emissiveTexture) {\n                    emissiveTexture.texture = textures[emissiveTexture.index];\n                    // texCoord\n                }\n\n                return {\n                    name,\n                    baseColorFactor,\n                    baseColorTexture,\n                    metallicFactor,\n                    roughnessFactor,\n                    metallicRoughnessTexture,\n                    normalTexture,\n                    occlusionTexture,\n                    emissiveTexture,\n                    emissiveFactor,\n                    alphaMode,\n                    alphaCutoff,\n                    doubleSided,\n                };\n            }\n        );\n    }\n\n    static parseSkins(gl, desc, bufferViews) {\n        if (!desc.skins) return null;\n        return desc.skins.map(\n            ({\n                inverseBindMatrices, // optional\n                skeleton, // optional\n                joints, // required\n                // name,\n                // extensions,\n                // extras,\n            }) => {\n                return {\n                    inverseBindMatrices: this.parseAccessor(inverseBindMatrices, desc, bufferViews),\n                    skeleton,\n                    joints,\n                };\n            }\n        );\n    }\n\n    static parseMeshes(gl, desc, bufferViews, materials, skins) {\n        if (!desc.meshes) return null;\n        return desc.meshes.map(\n            (\n                {\n                    primitives, // required\n                    weights, // optional\n                    name, // optional\n                    extensions, // optional\n                    extras, // optional\n                },\n                meshIndex\n            ) => {\n                // TODO: weights stuff ?\n                // Parse through nodes to see how many instances there are\n                // and if there is a skin attached\n                let numInstances = 0;\n                let skinIndex = false;\n                desc.nodes &&\n                    desc.nodes.forEach(({ mesh, skin }) => {\n                        if (mesh === meshIndex) {\n                            numInstances++;\n                            if (skin !== undefined) skinIndex = skin;\n                        }\n                    });\n\n                primitives = this.parsePrimitives(gl, primitives, desc, bufferViews, materials, numInstances).map(({ geometry, program, mode }) => {\n                    // Create either skinned mesh or regular mesh\n                    const mesh =\n                        typeof skinIndex === 'number'\n                            ? new GLTFSkin(gl, { skeleton: skins[skinIndex], geometry, program, mode })\n                            : new Mesh(gl, { geometry, program, mode });\n                    mesh.name = name;\n                    if (mesh.geometry.isInstanced) {\n                        // Tag mesh so that nodes can add their transforms to the instance attribute\n                        mesh.numInstances = numInstances;\n                        // Avoid incorrect culling for instances\n                        mesh.frustumCulled = false;\n                    }\n                    return mesh;\n                });\n\n                return {\n                    primitives,\n                    weights,\n                    name,\n                };\n            }\n        );\n    }\n\n    static parsePrimitives(gl, primitives, desc, bufferViews, materials, numInstances) {\n        return primitives.map(\n            ({\n                attributes, // required\n                indices, // optional\n                material: materialIndex, // optional\n                mode = 4, // optional\n                targets, // optional\n                extensions, // optional\n                extras, // optional\n            }) => {\n                const geometry = new Geometry(gl);\n\n                // Add each attribute found in primitive\n                for (let attr in attributes) {\n                    geometry.addAttribute(ATTRIBUTES[attr], this.parseAccessor(attributes[attr], desc, bufferViews));\n                }\n\n                // Add index attribute if found\n                if (indices !== undefined) {\n                    geometry.addAttribute('index', this.parseAccessor(indices, desc, bufferViews));\n                }\n\n                // Add instanced transform attribute if multiple instances\n                if (numInstances > 1) {\n                    geometry.addAttribute('instanceMatrix', {\n                        instanced: 1,\n                        size: 16,\n                        data: new Float32Array(numInstances * 16),\n                    });\n                }\n\n                // TODO: materials\n                const program = new NormalProgram(gl);\n                if (materialIndex !== undefined) {\n                    program.gltfMaterial = materials[materialIndex];\n                }\n\n                return {\n                    geometry,\n                    program,\n                    mode,\n                };\n            }\n        );\n    }\n\n    static parseAccessor(index, desc, bufferViews) {\n        // TODO: init missing bufferView with 0s\n        // TODO: support sparse\n\n        const {\n            bufferView: bufferViewIndex, // optional\n            byteOffset = 0, // optional\n            componentType, // required\n            normalized = false, // optional\n            count, // required\n            type, // required\n            min, // optional\n            max, // optional\n            sparse, // optional\n            // name, // optional\n            // extensions, // optional\n            // extras, // optional\n        } = desc.accessors[index];\n\n        const {\n            data, // attached in parseBufferViews\n            originalBuffer, // attached in parseBufferViews\n            buffer, // replaced to be the actual GL buffer\n            byteOffset: bufferByteOffset = 0,\n            // byteLength, // applied in parseBufferViews\n            byteStride = 0,\n            target,\n            // name,\n            // extensions,\n            // extras,\n        } = bufferViews[bufferViewIndex];\n\n        const size = TYPE_SIZE[type];\n\n        // Parse data from joined buffers\n        const TypeArray = TYPE_ARRAY[componentType];\n        const elementBytes = data.BYTES_PER_ELEMENT;\n        const componentOffset = byteOffset / elementBytes;\n        const componentStride = byteStride / elementBytes;\n        const isInterleaved = !!byteStride && componentStride !== size;\n\n        // TODO: interleaved\n        const newData = isInterleaved ? data : new TypeArray(originalBuffer, byteOffset + bufferByteOffset, count * size);\n\n        // Return attribute data\n        return {\n            data: newData,\n            size,\n            type: componentType,\n            normalized,\n            buffer,\n            stride: byteStride,\n            offset: byteOffset,\n            count,\n            min,\n            max,\n        };\n    }\n\n    static parseNodes(gl, desc, meshes, skins) {\n        if (!desc.nodes) return null;\n        const nodes = desc.nodes.map(\n            ({\n                camera, // optional\n                children, // optional\n                skin: skinIndex, // optional\n                matrix, // optional\n                mesh: meshIndex, // optional\n                rotation, // optional\n                scale, // optional\n                translation, // optional\n                weights, // optional\n                name, // optional\n                extensions, // optional\n                extras, // optional\n            }) => {\n                const node = new Transform();\n                if (name) node.name = name;\n\n                // Apply transformations\n                if (matrix) {\n                    node.matrix.copy(matrix);\n                    node.decompose();\n                } else {\n                    if (rotation) node.quaternion.copy(rotation);\n                    if (scale) node.scale.copy(scale);\n                    if (translation) node.position.copy(translation);\n                    node.updateMatrix();\n                }\n\n                // Flags for avoiding duplicate transforms and removing unused instance nodes\n                let isInstanced = false;\n                let isFirstInstance = true;\n\n                // add mesh if included\n                if (meshIndex !== undefined) {\n                    meshes[meshIndex].primitives.forEach((mesh) => {\n                        if (mesh.geometry.isInstanced) {\n                            isInstanced = true;\n                            if (!mesh.instanceCount) {\n                                mesh.instanceCount = 0;\n                            } else {\n                                isFirstInstance = false;\n                            }\n                            node.matrix.toArray(mesh.geometry.attributes.instanceMatrix.data, mesh.instanceCount * 16);\n                            mesh.instanceCount++;\n\n                            if (mesh.instanceCount === mesh.numInstances) {\n                                // Remove properties once all instances added\n                                delete mesh.numInstances;\n                                delete mesh.instanceCount;\n                                // Flag attribute as dirty\n                                mesh.geometry.attributes.instanceMatrix.needsUpdate = true;\n                            }\n                        }\n\n                        // For instances, only the first node will actually have the mesh\n                        if (isInstanced) {\n                            if (isFirstInstance) mesh.setParent(node);\n                        } else {\n                            mesh.setParent(node);\n                        }\n                    });\n                }\n\n                // Reset node if instanced to not duplicate transforms\n                if (isInstanced) {\n                    // Remove unused nodes just providing an instance transform\n                    if (!isFirstInstance) return null;\n                    // Avoid duplicate transform for node containing the instanced mesh\n                    node.matrix.identity();\n                    node.decompose();\n                }\n\n                return node;\n            }\n        );\n\n        desc.nodes.forEach(({ children = [] }, i) => {\n            // Set hierarchy now all nodes created\n            children.forEach((childIndex) => {\n                if (!nodes[childIndex]) return;\n                nodes[childIndex].setParent(nodes[i]);\n            });\n        });\n\n        return nodes;\n    }\n\n    static populateSkins(skins, nodes) {\n        if (!skins) return;\n        skins.forEach((skin) => {\n            skin.joints = skin.joints.map((i, index) => {\n                const joint = nodes[i];\n                joint.bindInverse = new Mat4(...skin.inverseBindMatrices.data.slice(index * 16, (index + 1) * 16));\n                return joint;\n            });\n            if (skin.skeleton) skin.skeleton = nodes[skin.skeleton];\n        });\n    }\n\n    static parseAnimations(gl, desc, nodes, bufferViews) {\n        if (!desc.animations) return null;\n        return desc.animations.map(\n            ({\n                channels, // required\n                samplers, // required\n                name, // optional\n                // extensions, // optional\n                // extras,  // optional\n            }) => {\n                const data = channels.map(\n                    ({\n                        sampler: samplerIndex, // required\n                        target, // required\n                        // extensions, // optional\n                        // extras, // optional\n                    }) => {\n                        const {\n                            input: inputIndex, // required\n                            interpolation = 'LINEAR',\n                            output: outputIndex, // required\n                            // extensions, // optional\n                            // extras, // optional\n                        } = samplers[samplerIndex];\n\n                        const {\n                            node: nodeIndex, // optional - TODO: when is it not included?\n                            path, // required\n                            // extensions, // optional\n                            // extras, // optional\n                        } = target;\n\n                        const node = nodes[nodeIndex];\n                        const transform = TRANSFORMS[path];\n                        const times = this.parseAccessor(inputIndex, desc, bufferViews).data;\n                        const values = this.parseAccessor(outputIndex, desc, bufferViews).data;\n\n                        return {\n                            node,\n                            transform,\n                            interpolation,\n                            times,\n                            values,\n                        };\n                    }\n                );\n\n                return {\n                    name,\n                    animation: new GLTFAnimation(data),\n                };\n            }\n        );\n    }\n\n    static parseScenes(desc, nodes) {\n        if (!desc.scenes) return null;\n        return desc.scenes.map(\n            ({\n                nodes: nodesIndices = [],\n                name, // optional\n                extensions,\n                extras,\n            }) => {\n                return nodesIndices.reduce((map, i) => {\n                    // Don't add null nodes (instanced transforms)\n                    if (nodes[i]) map.push(nodes[i]);\n                    return map;\n                }, []);\n            }\n        );\n    }\n}\n","// Core\nexport { Geometry } from './core/Geometry.js';\nexport { Program } from './core/Program.js';\nexport { Renderer } from './core/Renderer.js';\nexport { Camera } from './core/Camera.js';\nexport { Transform } from './core/Transform.js';\nexport { Mesh } from './core/Mesh.js';\nexport { Texture } from './core/Texture.js';\nexport { RenderTarget } from './core/RenderTarget.js';\n\n// Maths\nexport { Color } from './math/Color.js';\nexport { Euler } from './math/Euler.js';\nexport { Mat3 } from './math/Mat3.js';\nexport { Mat4 } from './math/Mat4.js';\nexport { Quat } from './math/Quat.js';\nexport { Vec2 } from './math/Vec2.js';\nexport { Vec3 } from './math/Vec3.js';\nexport { Vec4 } from './math/Vec4.js';\n\n// Extras\nexport { Plane } from './extras/Plane.js';\nexport { Box } from './extras/Box.js';\nexport { Sphere } from './extras/Sphere.js';\nexport { Cylinder } from './extras/Cylinder.js';\nexport { Triangle } from './extras/Triangle.js';\nexport { Torus } from './extras/Torus.js';\nexport { Orbit } from './extras/Orbit.js';\nexport { Raycast } from './extras/Raycast.js';\nexport { Curve } from './extras/Curve.js';\nexport { Post } from './extras/Post.js';\nexport { Skin } from './extras/Skin.js';\nexport { Animation } from './extras/Animation.js';\nexport { Text } from './extras/Text.js';\nexport { NormalProgram } from './extras/NormalProgram.js';\nexport { Flowmap } from './extras/Flowmap.js';\nexport { GPGPU } from './extras/GPGPU.js';\nexport { Polyline } from './extras/Polyline.js';\nexport { Shadow } from './extras/Shadow.js';\nexport { KTXTexture } from './extras/KTXTexture.js';\nexport { TextureLoader } from './extras/TextureLoader.js';\nexport { GLTFLoader } from './extras/GLTFLoader.js';\nexport { GLTFSkin } from './extras/GLTFSkin.js';\n","function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * GSAP 3.7.1\n * https://greensock.com\n *\n * @license Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nvar _config = {\n  autoSleep: 120,\n  force3D: \"auto\",\n  nullTargetWarn: 1,\n  units: {\n    lineHeight: \"\"\n  }\n},\n    _defaults = {\n  duration: .5,\n  overwrite: false,\n  delay: 0\n},\n    _suppressOverwrites,\n    _bigNum = 1e8,\n    _tinyNum = 1 / _bigNum,\n    _2PI = Math.PI * 2,\n    _HALF_PI = _2PI / 4,\n    _gsID = 0,\n    _sqrt = Math.sqrt,\n    _cos = Math.cos,\n    _sin = Math.sin,\n    _isString = function _isString(value) {\n  return typeof value === \"string\";\n},\n    _isFunction = function _isFunction(value) {\n  return typeof value === \"function\";\n},\n    _isNumber = function _isNumber(value) {\n  return typeof value === \"number\";\n},\n    _isUndefined = function _isUndefined(value) {\n  return typeof value === \"undefined\";\n},\n    _isObject = function _isObject(value) {\n  return typeof value === \"object\";\n},\n    _isNotFalse = function _isNotFalse(value) {\n  return value !== false;\n},\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _isFuncOrString = function _isFuncOrString(value) {\n  return _isFunction(value) || _isString(value);\n},\n    _isTypedArray = typeof ArrayBuffer === \"function\" && ArrayBuffer.isView || function () {},\n    // note: IE10 has ArrayBuffer, but NOT ArrayBuffer.isView().\n_isArray = Array.isArray,\n    _strictNumExp = /(?:-?\\.?\\d|\\.)+/gi,\n    //only numbers (including negatives and decimals) but NOT relative values.\n_numExp = /[-+=.]*\\d+[.e\\-+]*\\d*[e\\-+]*\\d*/g,\n    //finds any numbers, including ones that start with += or -=, negative numbers, and ones in scientific notation like 1e-8.\n_numWithUnitExp = /[-+=.]*\\d+[.e-]*\\d*[a-z%]*/g,\n    _complexStringNumExp = /[-+=.]*\\d+\\.?\\d*(?:e-|e\\+)?\\d*/gi,\n    //duplicate so that while we're looping through matches from exec(), it doesn't contaminate the lastIndex of _numExp which we use to search for colors too.\n_relExp = /[+-]=-?[.\\d]+/,\n    _delimitedValueExp = /[^,'\"\\[\\]\\s]+/gi,\n    // previously /[#\\-+.]*\\b[a-z\\d\\-=+%.]+/gi but didn't catch special characters.\n_unitExp = /[\\d.+\\-=]+(?:e[-+]\\d*)*/i,\n    _globalTimeline,\n    _win,\n    _coreInitted,\n    _doc,\n    _globals = {},\n    _installScope = {},\n    _coreReady,\n    _install = function _install(scope) {\n  return (_installScope = _merge(scope, _globals)) && gsap;\n},\n    _missingPlugin = function _missingPlugin(property, value) {\n  return console.warn(\"Invalid property\", property, \"set to\", value, \"Missing plugin? gsap.registerPlugin()\");\n},\n    _warn = function _warn(message, suppress) {\n  return !suppress && console.warn(message);\n},\n    _addGlobal = function _addGlobal(name, obj) {\n  return name && (_globals[name] = obj) && _installScope && (_installScope[name] = obj) || _globals;\n},\n    _emptyFunc = function _emptyFunc() {\n  return 0;\n},\n    _reservedProps = {},\n    _lazyTweens = [],\n    _lazyLookup = {},\n    _lastRenderedFrame,\n    _plugins = {},\n    _effects = {},\n    _nextGCFrame = 30,\n    _harnessPlugins = [],\n    _callbackNames = \"\",\n    _harness = function _harness(targets) {\n  var target = targets[0],\n      harnessPlugin,\n      i;\n  _isObject(target) || _isFunction(target) || (targets = [targets]);\n\n  if (!(harnessPlugin = (target._gsap || {}).harness)) {\n    // find the first target with a harness. We assume targets passed into an animation will be of similar type, meaning the same kind of harness can be used for them all (performance optimization)\n    i = _harnessPlugins.length;\n\n    while (i-- && !_harnessPlugins[i].targetTest(target)) {}\n\n    harnessPlugin = _harnessPlugins[i];\n  }\n\n  i = targets.length;\n\n  while (i--) {\n    targets[i] && (targets[i]._gsap || (targets[i]._gsap = new GSCache(targets[i], harnessPlugin))) || targets.splice(i, 1);\n  }\n\n  return targets;\n},\n    _getCache = function _getCache(target) {\n  return target._gsap || _harness(toArray(target))[0]._gsap;\n},\n    _getProperty = function _getProperty(target, property, v) {\n  return (v = target[property]) && _isFunction(v) ? target[property]() : _isUndefined(v) && target.getAttribute && target.getAttribute(property) || v;\n},\n    _forEachName = function _forEachName(names, func) {\n  return (names = names.split(\",\")).forEach(func) || names;\n},\n    //split a comma-delimited list of names into an array, then run a forEach() function and return the split array (this is just a way to consolidate/shorten some code).\n_round = function _round(value) {\n  return Math.round(value * 100000) / 100000 || 0;\n},\n    _arrayContainsAny = function _arrayContainsAny(toSearch, toFind) {\n  //searches one array to find matches for any of the items in the toFind array. As soon as one is found, it returns true. It does NOT return all the matches; it's simply a boolean search.\n  var l = toFind.length,\n      i = 0;\n\n  for (; toSearch.indexOf(toFind[i]) < 0 && ++i < l;) {}\n\n  return i < l;\n},\n    _lazyRender = function _lazyRender() {\n  var l = _lazyTweens.length,\n      a = _lazyTweens.slice(0),\n      i,\n      tween;\n\n  _lazyLookup = {};\n  _lazyTweens.length = 0;\n\n  for (i = 0; i < l; i++) {\n    tween = a[i];\n    tween && tween._lazy && (tween.render(tween._lazy[0], tween._lazy[1], true)._lazy = 0);\n  }\n},\n    _lazySafeRender = function _lazySafeRender(animation, time, suppressEvents, force) {\n  _lazyTweens.length && _lazyRender();\n  animation.render(time, suppressEvents, force);\n  _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when someone calls seek() or time() or progress(), they expect an immediate render.\n},\n    _numericIfPossible = function _numericIfPossible(value) {\n  var n = parseFloat(value);\n  return (n || n === 0) && (value + \"\").match(_delimitedValueExp).length < 2 ? n : _isString(value) ? value.trim() : value;\n},\n    _passThrough = function _passThrough(p) {\n  return p;\n},\n    _setDefaults = function _setDefaults(obj, defaults) {\n  for (var p in defaults) {\n    p in obj || (obj[p] = defaults[p]);\n  }\n\n  return obj;\n},\n    _setKeyframeDefaults = function _setKeyframeDefaults(obj, defaults) {\n  for (var p in defaults) {\n    p in obj || p === \"duration\" || p === \"ease\" || (obj[p] = defaults[p]);\n  }\n},\n    _merge = function _merge(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = toMerge[p];\n  }\n\n  return base;\n},\n    _mergeDeep = function _mergeDeep(base, toMerge) {\n  for (var p in toMerge) {\n    p !== \"__proto__\" && p !== \"constructor\" && p !== \"prototype\" && (base[p] = _isObject(toMerge[p]) ? _mergeDeep(base[p] || (base[p] = {}), toMerge[p]) : toMerge[p]);\n  }\n\n  return base;\n},\n    _copyExcluding = function _copyExcluding(obj, excluding) {\n  var copy = {},\n      p;\n\n  for (p in obj) {\n    p in excluding || (copy[p] = obj[p]);\n  }\n\n  return copy;\n},\n    _inheritDefaults = function _inheritDefaults(vars) {\n  var parent = vars.parent || _globalTimeline,\n      func = vars.keyframes ? _setKeyframeDefaults : _setDefaults;\n\n  if (_isNotFalse(vars.inherit)) {\n    while (parent) {\n      func(vars, parent.vars.defaults);\n      parent = parent.parent || parent._dp;\n    }\n  }\n\n  return vars;\n},\n    _arraysMatch = function _arraysMatch(a1, a2) {\n  var i = a1.length,\n      match = i === a2.length;\n\n  while (match && i-- && a1[i] === a2[i]) {}\n\n  return i < 0;\n},\n    _addLinkedListItem = function _addLinkedListItem(parent, child, firstProp, lastProp, sortBy) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = parent[lastProp],\n      t;\n\n  if (sortBy) {\n    t = child[sortBy];\n\n    while (prev && prev[sortBy] > t) {\n      prev = prev._prev;\n    }\n  }\n\n  if (prev) {\n    child._next = prev._next;\n    prev._next = child;\n  } else {\n    child._next = parent[firstProp];\n    parent[firstProp] = child;\n  }\n\n  if (child._next) {\n    child._next._prev = child;\n  } else {\n    parent[lastProp] = child;\n  }\n\n  child._prev = prev;\n  child.parent = child._dp = parent;\n  return child;\n},\n    _removeLinkedListItem = function _removeLinkedListItem(parent, child, firstProp, lastProp) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = child._prev,\n      next = child._next;\n\n  if (prev) {\n    prev._next = next;\n  } else if (parent[firstProp] === child) {\n    parent[firstProp] = next;\n  }\n\n  if (next) {\n    next._prev = prev;\n  } else if (parent[lastProp] === child) {\n    parent[lastProp] = prev;\n  }\n\n  child._next = child._prev = child.parent = null; // don't delete the _dp just so we can revert if necessary. But parent should be null to indicate the item isn't in a linked list.\n},\n    _removeFromParent = function _removeFromParent(child, onlyIfParentHasAutoRemove) {\n  child.parent && (!onlyIfParentHasAutoRemove || child.parent.autoRemoveChildren) && child.parent.remove(child);\n  child._act = 0;\n},\n    _uncache = function _uncache(animation, child) {\n  if (animation && (!child || child._end > animation._dur || child._start < 0)) {\n    // performance optimization: if a child animation is passed in we should only uncache if that child EXTENDS the animation (its end time is beyond the end)\n    var a = animation;\n\n    while (a) {\n      a._dirty = 1;\n      a = a.parent;\n    }\n  }\n\n  return animation;\n},\n    _recacheAncestors = function _recacheAncestors(animation) {\n  var parent = animation.parent;\n\n  while (parent && parent.parent) {\n    //sometimes we must force a re-sort of all children and update the duration/totalDuration of all ancestor timelines immediately in case, for example, in the middle of a render loop, one tween alters another tween's timeScale which shoves its startTime before 0, forcing the parent timeline to shift around and shiftChildren() which could affect that next tween's render (startTime). Doesn't matter for the root timeline though.\n    parent._dirty = 1;\n    parent.totalDuration();\n    parent = parent.parent;\n  }\n\n  return animation;\n},\n    _hasNoPausedAncestors = function _hasNoPausedAncestors(animation) {\n  return !animation || animation._ts && _hasNoPausedAncestors(animation.parent);\n},\n    _elapsedCycleDuration = function _elapsedCycleDuration(animation) {\n  return animation._repeat ? _animationCycle(animation._tTime, animation = animation.duration() + animation._rDelay) * animation : 0;\n},\n    // feed in the totalTime and cycleDuration and it'll return the cycle (iteration minus 1) and if the playhead is exactly at the very END, it will NOT bump up to the next cycle.\n_animationCycle = function _animationCycle(tTime, cycleDuration) {\n  var whole = Math.floor(tTime /= cycleDuration);\n  return tTime && whole === tTime ? whole - 1 : whole;\n},\n    _parentToChildTotalTime = function _parentToChildTotalTime(parentTime, child) {\n  return (parentTime - child._start) * child._ts + (child._ts >= 0 ? 0 : child._dirty ? child.totalDuration() : child._tDur);\n},\n    _setEnd = function _setEnd(animation) {\n  return animation._end = _round(animation._start + (animation._tDur / Math.abs(animation._ts || animation._rts || _tinyNum) || 0));\n},\n    _alignPlayhead = function _alignPlayhead(animation, totalTime) {\n  // adjusts the animation's _start and _end according to the provided totalTime (only if the parent's smoothChildTiming is true and the animation isn't paused). It doesn't do any rendering or forcing things back into parent timelines, etc. - that's what totalTime() is for.\n  var parent = animation._dp;\n\n  if (parent && parent.smoothChildTiming && animation._ts) {\n    animation._start = _round(parent._time - (animation._ts > 0 ? totalTime / animation._ts : ((animation._dirty ? animation.totalDuration() : animation._tDur) - totalTime) / -animation._ts));\n\n    _setEnd(animation);\n\n    parent._dirty || _uncache(parent, animation); //for performance improvement. If the parent's cache is already dirty, it already took care of marking the ancestors as dirty too, so skip the function call here.\n  }\n\n  return animation;\n},\n\n/*\n_totalTimeToTime = (clampedTotalTime, duration, repeat, repeatDelay, yoyo) => {\n\tlet cycleDuration = duration + repeatDelay,\n\t\ttime = _round(clampedTotalTime % cycleDuration);\n\tif (time > duration) {\n\t\ttime = duration;\n\t}\n\treturn (yoyo && (~~(clampedTotalTime / cycleDuration) & 1)) ? duration - time : time;\n},\n*/\n_postAddChecks = function _postAddChecks(timeline, child) {\n  var t;\n\n  if (child._time || child._initted && !child._dur) {\n    //in case, for example, the _start is moved on a tween that has already rendered. Imagine it's at its end state, then the startTime is moved WAY later (after the end of this timeline), it should render at its beginning.\n    t = _parentToChildTotalTime(timeline.rawTime(), child);\n\n    if (!child._dur || _clamp(0, child.totalDuration(), t) - child._tTime > _tinyNum) {\n      child.render(t, true);\n    }\n  } //if the timeline has already ended but the inserted tween/timeline extends the duration, we should enable this timeline again so that it renders properly. We should also align the playhead with the parent timeline's when appropriate.\n\n\n  if (_uncache(timeline, child)._dp && timeline._initted && timeline._time >= timeline._dur && timeline._ts) {\n    //in case any of the ancestors had completed but should now be enabled...\n    if (timeline._dur < timeline.duration()) {\n      t = timeline;\n\n      while (t._dp) {\n        t.rawTime() >= 0 && t.totalTime(t._tTime); //moves the timeline (shifts its startTime) if necessary, and also enables it. If it's currently zero, though, it may not be scheduled to render until later so there's no need to force it to align with the current playhead position. Only move to catch up with the playhead.\n\n        t = t._dp;\n      }\n    }\n\n    timeline._zTime = -_tinyNum; // helps ensure that the next render() will be forced (crossingStart = true in render()), even if the duration hasn't changed (we're adding a child which would need to get rendered). Definitely an edge case. Note: we MUST do this AFTER the loop above where the totalTime() might trigger a render() because this _addToTimeline() method gets called from the Animation constructor, BEFORE tweens even record their targets, etc. so we wouldn't want things to get triggered in the wrong order.\n  }\n},\n    _addToTimeline = function _addToTimeline(timeline, child, position, skipChecks) {\n  child.parent && _removeFromParent(child);\n  child._start = _round((_isNumber(position) ? position : position || timeline !== _globalTimeline ? _parsePosition(timeline, position, child) : timeline._time) + child._delay);\n  child._end = _round(child._start + (child.totalDuration() / Math.abs(child.timeScale()) || 0));\n\n  _addLinkedListItem(timeline, child, \"_first\", \"_last\", timeline._sort ? \"_start\" : 0);\n\n  _isFromOrFromStart(child) || (timeline._recent = child);\n  skipChecks || _postAddChecks(timeline, child);\n  return timeline;\n},\n    _scrollTrigger = function _scrollTrigger(animation, trigger) {\n  return (_globals.ScrollTrigger || _missingPlugin(\"scrollTrigger\", trigger)) && _globals.ScrollTrigger.create(trigger, animation);\n},\n    _attemptInitTween = function _attemptInitTween(tween, totalTime, force, suppressEvents) {\n  _initTween(tween, totalTime);\n\n  if (!tween._initted) {\n    return 1;\n  }\n\n  if (!force && tween._pt && (tween._dur && tween.vars.lazy !== false || !tween._dur && tween.vars.lazy) && _lastRenderedFrame !== _ticker.frame) {\n    _lazyTweens.push(tween);\n\n    tween._lazy = [totalTime, suppressEvents];\n    return 1;\n  }\n},\n    _parentPlayheadIsBeforeStart = function _parentPlayheadIsBeforeStart(_ref) {\n  var parent = _ref.parent;\n  return parent && parent._ts && parent._initted && !parent._lock && (parent.rawTime() < 0 || _parentPlayheadIsBeforeStart(parent));\n},\n    // check parent's _lock because when a timeline repeats/yoyos and does its artificial wrapping, we shouldn't force the ratio back to 0\n_isFromOrFromStart = function _isFromOrFromStart(_ref2) {\n  var data = _ref2.data;\n  return data === \"isFromStart\" || data === \"isStart\";\n},\n    _renderZeroDurationTween = function _renderZeroDurationTween(tween, totalTime, suppressEvents, force) {\n  var prevRatio = tween.ratio,\n      ratio = totalTime < 0 || !totalTime && (!tween._start && _parentPlayheadIsBeforeStart(tween) && !(!tween._initted && _isFromOrFromStart(tween)) || (tween._ts < 0 || tween._dp._ts < 0) && !_isFromOrFromStart(tween)) ? 0 : 1,\n      // if the tween or its parent is reversed and the totalTime is 0, we should go to a ratio of 0. Edge case: if a from() or fromTo() stagger tween is placed later in a timeline, the \"startAt\" zero-duration tween could initially render at a time when the parent timeline's playhead is technically BEFORE where this tween is, so make sure that any \"from\" and \"fromTo\" startAt tweens are rendered the first time at a ratio of 1.\n  repeatDelay = tween._rDelay,\n      tTime = 0,\n      pt,\n      iteration,\n      prevIteration;\n\n  if (repeatDelay && tween._repeat) {\n    // in case there's a zero-duration tween that has a repeat with a repeatDelay\n    tTime = _clamp(0, tween._tDur, totalTime);\n    iteration = _animationCycle(tTime, repeatDelay);\n    prevIteration = _animationCycle(tween._tTime, repeatDelay);\n    tween._yoyo && iteration & 1 && (ratio = 1 - ratio);\n\n    if (iteration !== prevIteration) {\n      prevRatio = 1 - ratio;\n      tween.vars.repeatRefresh && tween._initted && tween.invalidate();\n    }\n  }\n\n  if (ratio !== prevRatio || force || tween._zTime === _tinyNum || !totalTime && tween._zTime) {\n    if (!tween._initted && _attemptInitTween(tween, totalTime, force, suppressEvents)) {\n      // if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.\n      return;\n    }\n\n    prevIteration = tween._zTime;\n    tween._zTime = totalTime || (suppressEvents ? _tinyNum : 0); // when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n    suppressEvents || (suppressEvents = totalTime && !prevIteration); // if it was rendered previously at exactly 0 (_zTime) and now the playhead is moving away, DON'T fire callbacks otherwise they'll seem like duplicates.\n\n    tween.ratio = ratio;\n    tween._from && (ratio = 1 - ratio);\n    tween._time = 0;\n    tween._tTime = tTime;\n    pt = tween._pt;\n\n    while (pt) {\n      pt.r(ratio, pt.d);\n      pt = pt._next;\n    }\n\n    tween._startAt && totalTime < 0 && tween._startAt.render(totalTime, true, true);\n    tween._onUpdate && !suppressEvents && _callback(tween, \"onUpdate\");\n    tTime && tween._repeat && !suppressEvents && tween.parent && _callback(tween, \"onRepeat\");\n\n    if ((totalTime >= tween._tDur || totalTime < 0) && tween.ratio === ratio) {\n      ratio && _removeFromParent(tween, 1);\n\n      if (!suppressEvents) {\n        _callback(tween, ratio ? \"onComplete\" : \"onReverseComplete\", true);\n\n        tween._prom && tween._prom();\n      }\n    }\n  } else if (!tween._zTime) {\n    tween._zTime = totalTime;\n  }\n},\n    _findNextPauseTween = function _findNextPauseTween(animation, prevTime, time) {\n  var child;\n\n  if (time > prevTime) {\n    child = animation._first;\n\n    while (child && child._start <= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start > prevTime) {\n        return child;\n      }\n\n      child = child._next;\n    }\n  } else {\n    child = animation._last;\n\n    while (child && child._start >= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start < prevTime) {\n        return child;\n      }\n\n      child = child._prev;\n    }\n  }\n},\n    _setDuration = function _setDuration(animation, duration, skipUncache, leavePlayhead) {\n  var repeat = animation._repeat,\n      dur = _round(duration) || 0,\n      totalProgress = animation._tTime / animation._tDur;\n  totalProgress && !leavePlayhead && (animation._time *= dur / animation._dur);\n  animation._dur = dur;\n  animation._tDur = !repeat ? dur : repeat < 0 ? 1e10 : _round(dur * (repeat + 1) + animation._rDelay * repeat);\n  totalProgress && !leavePlayhead ? _alignPlayhead(animation, animation._tTime = animation._tDur * totalProgress) : animation.parent && _setEnd(animation);\n  skipUncache || _uncache(animation.parent, animation);\n  return animation;\n},\n    _onUpdateTotalDuration = function _onUpdateTotalDuration(animation) {\n  return animation instanceof Timeline ? _uncache(animation) : _setDuration(animation, animation._dur);\n},\n    _zeroPosition = {\n  _start: 0,\n  endTime: _emptyFunc,\n  totalDuration: _emptyFunc\n},\n    _parsePosition = function _parsePosition(animation, position, percentAnimation) {\n  var labels = animation.labels,\n      recent = animation._recent || _zeroPosition,\n      clippedDuration = animation.duration() >= _bigNum ? recent.endTime(false) : animation._dur,\n      //in case there's a child that infinitely repeats, users almost never intend for the insertion point of a new child to be based on a SUPER long value like that so we clip it and assume the most recently-added child's endTime should be used instead.\n  i,\n      offset,\n      isPercent;\n\n  if (_isString(position) && (isNaN(position) || position in labels)) {\n    //if the string is a number like \"1\", check to see if there's a label with that name, otherwise interpret it as a number (absolute value).\n    offset = position.charAt(0);\n    isPercent = position.substr(-1) === \"%\";\n    i = position.indexOf(\"=\");\n\n    if (offset === \"<\" || offset === \">\") {\n      i >= 0 && (position = position.replace(/=/, \"\"));\n      return (offset === \"<\" ? recent._start : recent.endTime(recent._repeat >= 0)) + (parseFloat(position.substr(1)) || 0) * (isPercent ? (i < 0 ? recent : percentAnimation).totalDuration() / 100 : 1);\n    }\n\n    if (i < 0) {\n      position in labels || (labels[position] = clippedDuration);\n      return labels[position];\n    }\n\n    offset = parseFloat(position.charAt(i - 1) + position.substr(i + 1));\n\n    if (isPercent && percentAnimation) {\n      offset = offset / 100 * (_isArray(percentAnimation) ? percentAnimation[0] : percentAnimation).totalDuration();\n    }\n\n    return i > 1 ? _parsePosition(animation, position.substr(0, i - 1), percentAnimation) + offset : clippedDuration + offset;\n  }\n\n  return position == null ? clippedDuration : +position;\n},\n    _createTweenType = function _createTweenType(type, params, timeline) {\n  var isLegacy = _isNumber(params[1]),\n      varsIndex = (isLegacy ? 2 : 1) + (type < 2 ? 0 : 1),\n      vars = params[varsIndex],\n      irVars,\n      parent;\n\n  isLegacy && (vars.duration = params[1]);\n  vars.parent = timeline;\n\n  if (type) {\n    irVars = vars;\n    parent = timeline;\n\n    while (parent && !(\"immediateRender\" in irVars)) {\n      // inheritance hasn't happened yet, but someone may have set a default in an ancestor timeline. We could do vars.immediateRender = _isNotFalse(_inheritDefaults(vars).immediateRender) but that'd exact a slight performance penalty because _inheritDefaults() also runs in the Tween constructor. We're paying a small kb price here to gain speed.\n      irVars = parent.vars.defaults || {};\n      parent = _isNotFalse(parent.vars.inherit) && parent.parent;\n    }\n\n    vars.immediateRender = _isNotFalse(irVars.immediateRender);\n    type < 2 ? vars.runBackwards = 1 : vars.startAt = params[varsIndex - 1]; // \"from\" vars\n  }\n\n  return new Tween(params[0], vars, params[varsIndex + 1]);\n},\n    _conditionalReturn = function _conditionalReturn(value, func) {\n  return value || value === 0 ? func(value) : func;\n},\n    _clamp = function _clamp(min, max, value) {\n  return value < min ? min : value > max ? max : value;\n},\n    getUnit = function getUnit(value) {\n  if (typeof value !== \"string\") {\n    return \"\";\n  }\n\n  var v = _unitExp.exec(value);\n\n  return v ? value.substr(v.index + v[0].length) : \"\";\n},\n    // note: protect against padded numbers as strings, like \"100.100\". That shouldn't return \"00\" as the unit. If it's numeric, return no unit.\nclamp = function clamp(min, max, value) {\n  return _conditionalReturn(value, function (v) {\n    return _clamp(min, max, v);\n  });\n},\n    _slice = [].slice,\n    _isArrayLike = function _isArrayLike(value, nonEmpty) {\n  return value && _isObject(value) && \"length\" in value && (!nonEmpty && !value.length || value.length - 1 in value && _isObject(value[0])) && !value.nodeType && value !== _win;\n},\n    _flatten = function _flatten(ar, leaveStrings, accumulator) {\n  if (accumulator === void 0) {\n    accumulator = [];\n  }\n\n  return ar.forEach(function (value) {\n    var _accumulator;\n\n    return _isString(value) && !leaveStrings || _isArrayLike(value, 1) ? (_accumulator = accumulator).push.apply(_accumulator, toArray(value)) : accumulator.push(value);\n  }) || accumulator;\n},\n    //takes any value and returns an array. If it's a string (and leaveStrings isn't true), it'll use document.querySelectorAll() and convert that to an array. It'll also accept iterables like jQuery objects.\ntoArray = function toArray(value, scope, leaveStrings) {\n  return _isString(value) && !leaveStrings && (_coreInitted || !_wake()) ? _slice.call((scope || _doc).querySelectorAll(value), 0) : _isArray(value) ? _flatten(value, leaveStrings) : _isArrayLike(value) ? _slice.call(value, 0) : value ? [value] : [];\n},\n    selector = function selector(value) {\n  value = toArray(value)[0] || _warn(\"Invalid scope\") || {};\n  return function (v) {\n    var el = value.current || value.nativeElement || value;\n    return toArray(v, el.querySelectorAll ? el : el === value ? _warn(\"Invalid scope\") || _doc.createElement(\"div\") : value);\n  };\n},\n    shuffle = function shuffle(a) {\n  return a.sort(function () {\n    return .5 - Math.random();\n  });\n},\n    // alternative that's a bit faster and more reliably diverse but bigger:   for (let j, v, i = a.length; i; j = Math.floor(Math.random() * i), v = a[--i], a[i] = a[j], a[j] = v); return a;\n//for distributing values across an array. Can accept a number, a function or (most commonly) a function which can contain the following properties: {base, amount, from, ease, grid, axis, length, each}. Returns a function that expects the following parameters: index, target, array. Recognizes the following\ndistribute = function distribute(v) {\n  if (_isFunction(v)) {\n    return v;\n  }\n\n  var vars = _isObject(v) ? v : {\n    each: v\n  },\n      //n:1 is just to indicate v was a number; we leverage that later to set v according to the length we get. If a number is passed in, we treat it like the old stagger value where 0.1, for example, would mean that things would be distributed with 0.1 between each element in the array rather than a total \"amount\" that's chunked out among them all.\n  ease = _parseEase(vars.ease),\n      from = vars.from || 0,\n      base = parseFloat(vars.base) || 0,\n      cache = {},\n      isDecimal = from > 0 && from < 1,\n      ratios = isNaN(from) || isDecimal,\n      axis = vars.axis,\n      ratioX = from,\n      ratioY = from;\n\n  if (_isString(from)) {\n    ratioX = ratioY = {\n      center: .5,\n      edges: .5,\n      end: 1\n    }[from] || 0;\n  } else if (!isDecimal && ratios) {\n    ratioX = from[0];\n    ratioY = from[1];\n  }\n\n  return function (i, target, a) {\n    var l = (a || vars).length,\n        distances = cache[l],\n        originX,\n        originY,\n        x,\n        y,\n        d,\n        j,\n        max,\n        min,\n        wrapAt;\n\n    if (!distances) {\n      wrapAt = vars.grid === \"auto\" ? 0 : (vars.grid || [1, _bigNum])[1];\n\n      if (!wrapAt) {\n        max = -_bigNum;\n\n        while (max < (max = a[wrapAt++].getBoundingClientRect().left) && wrapAt < l) {}\n\n        wrapAt--;\n      }\n\n      distances = cache[l] = [];\n      originX = ratios ? Math.min(wrapAt, l) * ratioX - .5 : from % wrapAt;\n      originY = ratios ? l * ratioY / wrapAt - .5 : from / wrapAt | 0;\n      max = 0;\n      min = _bigNum;\n\n      for (j = 0; j < l; j++) {\n        x = j % wrapAt - originX;\n        y = originY - (j / wrapAt | 0);\n        distances[j] = d = !axis ? _sqrt(x * x + y * y) : Math.abs(axis === \"y\" ? y : x);\n        d > max && (max = d);\n        d < min && (min = d);\n      }\n\n      from === \"random\" && shuffle(distances);\n      distances.max = max - min;\n      distances.min = min;\n      distances.v = l = (parseFloat(vars.amount) || parseFloat(vars.each) * (wrapAt > l ? l - 1 : !axis ? Math.max(wrapAt, l / wrapAt) : axis === \"y\" ? l / wrapAt : wrapAt) || 0) * (from === \"edges\" ? -1 : 1);\n      distances.b = l < 0 ? base - l : base;\n      distances.u = getUnit(vars.amount || vars.each) || 0; //unit\n\n      ease = ease && l < 0 ? _invertEase(ease) : ease;\n    }\n\n    l = (distances[i] - distances.min) / distances.max || 0;\n    return _round(distances.b + (ease ? ease(l) : l) * distances.v) + distances.u; //round in order to work around floating point errors\n  };\n},\n    _roundModifier = function _roundModifier(v) {\n  //pass in 0.1 get a function that'll round to the nearest tenth, or 5 to round to the closest 5, or 0.001 to the closest 1000th, etc.\n  var p = v < 1 ? Math.pow(10, (v + \"\").length - 2) : 1; //to avoid floating point math errors (like 24 * 0.1 == 2.4000000000000004), we chop off at a specific number of decimal places (much faster than toFixed()\n\n  return function (raw) {\n    var n = Math.round(parseFloat(raw) / v) * v * p;\n    return (n - n % 1) / p + (_isNumber(raw) ? 0 : getUnit(raw)); // n - n % 1 replaces Math.floor() in order to handle negative values properly. For example, Math.floor(-150.00000000000003) is 151!\n  };\n},\n    snap = function snap(snapTo, value) {\n  var isArray = _isArray(snapTo),\n      radius,\n      is2D;\n\n  if (!isArray && _isObject(snapTo)) {\n    radius = isArray = snapTo.radius || _bigNum;\n\n    if (snapTo.values) {\n      snapTo = toArray(snapTo.values);\n\n      if (is2D = !_isNumber(snapTo[0])) {\n        radius *= radius; //performance optimization so we don't have to Math.sqrt() in the loop.\n      }\n    } else {\n      snapTo = _roundModifier(snapTo.increment);\n    }\n  }\n\n  return _conditionalReturn(value, !isArray ? _roundModifier(snapTo) : _isFunction(snapTo) ? function (raw) {\n    is2D = snapTo(raw);\n    return Math.abs(is2D - raw) <= radius ? is2D : raw;\n  } : function (raw) {\n    var x = parseFloat(is2D ? raw.x : raw),\n        y = parseFloat(is2D ? raw.y : 0),\n        min = _bigNum,\n        closest = 0,\n        i = snapTo.length,\n        dx,\n        dy;\n\n    while (i--) {\n      if (is2D) {\n        dx = snapTo[i].x - x;\n        dy = snapTo[i].y - y;\n        dx = dx * dx + dy * dy;\n      } else {\n        dx = Math.abs(snapTo[i] - x);\n      }\n\n      if (dx < min) {\n        min = dx;\n        closest = i;\n      }\n    }\n\n    closest = !radius || min <= radius ? snapTo[closest] : raw;\n    return is2D || closest === raw || _isNumber(raw) ? closest : closest + getUnit(raw);\n  });\n},\n    random = function random(min, max, roundingIncrement, returnFunction) {\n  return _conditionalReturn(_isArray(min) ? !max : roundingIncrement === true ? !!(roundingIncrement = 0) : !returnFunction, function () {\n    return _isArray(min) ? min[~~(Math.random() * min.length)] : (roundingIncrement = roundingIncrement || 1e-5) && (returnFunction = roundingIncrement < 1 ? Math.pow(10, (roundingIncrement + \"\").length - 2) : 1) && Math.floor(Math.round((min - roundingIncrement / 2 + Math.random() * (max - min + roundingIncrement * .99)) / roundingIncrement) * roundingIncrement * returnFunction) / returnFunction;\n  });\n},\n    pipe = function pipe() {\n  for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {\n    functions[_key] = arguments[_key];\n  }\n\n  return function (value) {\n    return functions.reduce(function (v, f) {\n      return f(v);\n    }, value);\n  };\n},\n    unitize = function unitize(func, unit) {\n  return function (value) {\n    return func(parseFloat(value)) + (unit || getUnit(value));\n  };\n},\n    normalize = function normalize(min, max, value) {\n  return mapRange(min, max, 0, 1, value);\n},\n    _wrapArray = function _wrapArray(a, wrapper, value) {\n  return _conditionalReturn(value, function (index) {\n    return a[~~wrapper(index)];\n  });\n},\n    wrap = function wrap(min, max, value) {\n  // NOTE: wrap() CANNOT be an arrow function! A very odd compiling bug causes problems (unrelated to GSAP).\n  var range = max - min;\n  return _isArray(min) ? _wrapArray(min, wrap(0, min.length), max) : _conditionalReturn(value, function (value) {\n    return (range + (value - min) % range) % range + min;\n  });\n},\n    wrapYoyo = function wrapYoyo(min, max, value) {\n  var range = max - min,\n      total = range * 2;\n  return _isArray(min) ? _wrapArray(min, wrapYoyo(0, min.length - 1), max) : _conditionalReturn(value, function (value) {\n    value = (total + (value - min) % total) % total || 0;\n    return min + (value > range ? total - value : value);\n  });\n},\n    _replaceRandom = function _replaceRandom(value) {\n  //replaces all occurrences of random(...) in a string with the calculated random value. can be a range like random(-100, 100, 5) or an array like random([0, 100, 500])\n  var prev = 0,\n      s = \"\",\n      i,\n      nums,\n      end,\n      isArray;\n\n  while (~(i = value.indexOf(\"random(\", prev))) {\n    end = value.indexOf(\")\", i);\n    isArray = value.charAt(i + 7) === \"[\";\n    nums = value.substr(i + 7, end - i - 7).match(isArray ? _delimitedValueExp : _strictNumExp);\n    s += value.substr(prev, i - prev) + random(isArray ? nums : +nums[0], isArray ? 0 : +nums[1], +nums[2] || 1e-5);\n    prev = end + 1;\n  }\n\n  return s + value.substr(prev, value.length - prev);\n},\n    mapRange = function mapRange(inMin, inMax, outMin, outMax, value) {\n  var inRange = inMax - inMin,\n      outRange = outMax - outMin;\n  return _conditionalReturn(value, function (value) {\n    return outMin + ((value - inMin) / inRange * outRange || 0);\n  });\n},\n    interpolate = function interpolate(start, end, progress, mutate) {\n  var func = isNaN(start + end) ? 0 : function (p) {\n    return (1 - p) * start + p * end;\n  };\n\n  if (!func) {\n    var isString = _isString(start),\n        master = {},\n        p,\n        i,\n        interpolators,\n        l,\n        il;\n\n    progress === true && (mutate = 1) && (progress = null);\n\n    if (isString) {\n      start = {\n        p: start\n      };\n      end = {\n        p: end\n      };\n    } else if (_isArray(start) && !_isArray(end)) {\n      interpolators = [];\n      l = start.length;\n      il = l - 2;\n\n      for (i = 1; i < l; i++) {\n        interpolators.push(interpolate(start[i - 1], start[i])); //build the interpolators up front as a performance optimization so that when the function is called many times, it can just reuse them.\n      }\n\n      l--;\n\n      func = function func(p) {\n        p *= l;\n        var i = Math.min(il, ~~p);\n        return interpolators[i](p - i);\n      };\n\n      progress = end;\n    } else if (!mutate) {\n      start = _merge(_isArray(start) ? [] : {}, start);\n    }\n\n    if (!interpolators) {\n      for (p in end) {\n        _addPropTween.call(master, start, p, \"get\", end[p]);\n      }\n\n      func = function func(p) {\n        return _renderPropTweens(p, master) || (isString ? start.p : start);\n      };\n    }\n  }\n\n  return _conditionalReturn(progress, func);\n},\n    _getLabelInDirection = function _getLabelInDirection(timeline, fromTime, backward) {\n  //used for nextLabel() and previousLabel()\n  var labels = timeline.labels,\n      min = _bigNum,\n      p,\n      distance,\n      label;\n\n  for (p in labels) {\n    distance = labels[p] - fromTime;\n\n    if (distance < 0 === !!backward && distance && min > (distance = Math.abs(distance))) {\n      label = p;\n      min = distance;\n    }\n  }\n\n  return label;\n},\n    _callback = function _callback(animation, type, executeLazyFirst) {\n  var v = animation.vars,\n      callback = v[type],\n      params,\n      scope;\n\n  if (!callback) {\n    return;\n  }\n\n  params = v[type + \"Params\"];\n  scope = v.callbackScope || animation;\n  executeLazyFirst && _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\n\n  return params ? callback.apply(scope, params) : callback.call(scope);\n},\n    _interrupt = function _interrupt(animation) {\n  _removeFromParent(animation);\n\n  animation.scrollTrigger && animation.scrollTrigger.kill(false);\n  animation.progress() < 1 && _callback(animation, \"onInterrupt\");\n  return animation;\n},\n    _quickTween,\n    _createPlugin = function _createPlugin(config) {\n  config = !config.name && config[\"default\"] || config; //UMD packaging wraps things oddly, so for example MotionPathHelper becomes {MotionPathHelper:MotionPathHelper, default:MotionPathHelper}.\n\n  var name = config.name,\n      isFunc = _isFunction(config),\n      Plugin = name && !isFunc && config.init ? function () {\n    this._props = [];\n  } : config,\n      //in case someone passes in an object that's not a plugin, like CustomEase\n  instanceDefaults = {\n    init: _emptyFunc,\n    render: _renderPropTweens,\n    add: _addPropTween,\n    kill: _killPropTweensOf,\n    modifier: _addPluginModifier,\n    rawVars: 0\n  },\n      statics = {\n    targetTest: 0,\n    get: 0,\n    getSetter: _getSetter,\n    aliases: {},\n    register: 0\n  };\n\n  _wake();\n\n  if (config !== Plugin) {\n    if (_plugins[name]) {\n      return;\n    }\n\n    _setDefaults(Plugin, _setDefaults(_copyExcluding(config, instanceDefaults), statics)); //static methods\n\n\n    _merge(Plugin.prototype, _merge(instanceDefaults, _copyExcluding(config, statics))); //instance methods\n\n\n    _plugins[Plugin.prop = name] = Plugin;\n\n    if (config.targetTest) {\n      _harnessPlugins.push(Plugin);\n\n      _reservedProps[name] = 1;\n    }\n\n    name = (name === \"css\" ? \"CSS\" : name.charAt(0).toUpperCase() + name.substr(1)) + \"Plugin\"; //for the global name. \"motionPath\" should become MotionPathPlugin\n  }\n\n  _addGlobal(name, Plugin);\n\n  config.register && config.register(gsap, Plugin, PropTween);\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * COLORS\n * --------------------------------------------------------------------------------------\n */\n_255 = 255,\n    _colorLookup = {\n  aqua: [0, _255, _255],\n  lime: [0, _255, 0],\n  silver: [192, 192, 192],\n  black: [0, 0, 0],\n  maroon: [128, 0, 0],\n  teal: [0, 128, 128],\n  blue: [0, 0, _255],\n  navy: [0, 0, 128],\n  white: [_255, _255, _255],\n  olive: [128, 128, 0],\n  yellow: [_255, _255, 0],\n  orange: [_255, 165, 0],\n  gray: [128, 128, 128],\n  purple: [128, 0, 128],\n  green: [0, 128, 0],\n  red: [_255, 0, 0],\n  pink: [_255, 192, 203],\n  cyan: [0, _255, _255],\n  transparent: [_255, _255, _255, 0]\n},\n    _hue = function _hue(h, m1, m2) {\n  h = h < 0 ? h + 1 : h > 1 ? h - 1 : h;\n  return (h * 6 < 1 ? m1 + (m2 - m1) * h * 6 : h < .5 ? m2 : h * 3 < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * _255 + .5 | 0;\n},\n    splitColor = function splitColor(v, toHSL, forceAlpha) {\n  var a = !v ? _colorLookup.black : _isNumber(v) ? [v >> 16, v >> 8 & _255, v & _255] : 0,\n      r,\n      g,\n      b,\n      h,\n      s,\n      l,\n      max,\n      min,\n      d,\n      wasHSL;\n\n  if (!a) {\n    if (v.substr(-1) === \",\") {\n      //sometimes a trailing comma is included and we should chop it off (typically from a comma-delimited list of values like a textShadow:\"2px 2px 2px blue, 5px 5px 5px rgb(255,0,0)\" - in this example \"blue,\" has a trailing comma. We could strip it out inside parseComplex() but we'd need to do it to the beginning and ending values plus it wouldn't provide protection from other potential scenarios like if the user passes in a similar value.\n      v = v.substr(0, v.length - 1);\n    }\n\n    if (_colorLookup[v]) {\n      a = _colorLookup[v];\n    } else if (v.charAt(0) === \"#\") {\n      if (v.length < 6) {\n        //for shorthand like #9F0 or #9F0F (could have alpha)\n        r = v.charAt(1);\n        g = v.charAt(2);\n        b = v.charAt(3);\n        v = \"#\" + r + r + g + g + b + b + (v.length === 5 ? v.charAt(4) + v.charAt(4) : \"\");\n      }\n\n      if (v.length === 9) {\n        // hex with alpha, like #fd5e53ff\n        a = parseInt(v.substr(1, 6), 16);\n        return [a >> 16, a >> 8 & _255, a & _255, parseInt(v.substr(7), 16) / 255];\n      }\n\n      v = parseInt(v.substr(1), 16);\n      a = [v >> 16, v >> 8 & _255, v & _255];\n    } else if (v.substr(0, 3) === \"hsl\") {\n      a = wasHSL = v.match(_strictNumExp);\n\n      if (!toHSL) {\n        h = +a[0] % 360 / 360;\n        s = +a[1] / 100;\n        l = +a[2] / 100;\n        g = l <= .5 ? l * (s + 1) : l + s - l * s;\n        r = l * 2 - g;\n        a.length > 3 && (a[3] *= 1); //cast as number\n\n        a[0] = _hue(h + 1 / 3, r, g);\n        a[1] = _hue(h, r, g);\n        a[2] = _hue(h - 1 / 3, r, g);\n      } else if (~v.indexOf(\"=\")) {\n        //if relative values are found, just return the raw strings with the relative prefixes in place.\n        a = v.match(_numExp);\n        forceAlpha && a.length < 4 && (a[3] = 1);\n        return a;\n      }\n    } else {\n      a = v.match(_strictNumExp) || _colorLookup.transparent;\n    }\n\n    a = a.map(Number);\n  }\n\n  if (toHSL && !wasHSL) {\n    r = a[0] / _255;\n    g = a[1] / _255;\n    b = a[2] / _255;\n    max = Math.max(r, g, b);\n    min = Math.min(r, g, b);\n    l = (max + min) / 2;\n\n    if (max === min) {\n      h = s = 0;\n    } else {\n      d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;\n      h *= 60;\n    }\n\n    a[0] = ~~(h + .5);\n    a[1] = ~~(s * 100 + .5);\n    a[2] = ~~(l * 100 + .5);\n  }\n\n  forceAlpha && a.length < 4 && (a[3] = 1);\n  return a;\n},\n    _colorOrderData = function _colorOrderData(v) {\n  // strips out the colors from the string, finds all the numeric slots (with units) and returns an array of those. The Array also has a \"c\" property which is an Array of the index values where the colors belong. This is to help work around issues where there's a mis-matched order of color/numeric data like drop-shadow(#f00 0px 1px 2px) and drop-shadow(0x 1px 2px #f00). This is basically a helper function used in _formatColors()\n  var values = [],\n      c = [],\n      i = -1;\n  v.split(_colorExp).forEach(function (v) {\n    var a = v.match(_numWithUnitExp) || [];\n    values.push.apply(values, a);\n    c.push(i += a.length + 1);\n  });\n  values.c = c;\n  return values;\n},\n    _formatColors = function _formatColors(s, toHSL, orderMatchData) {\n  var result = \"\",\n      colors = (s + result).match(_colorExp),\n      type = toHSL ? \"hsla(\" : \"rgba(\",\n      i = 0,\n      c,\n      shell,\n      d,\n      l;\n\n  if (!colors) {\n    return s;\n  }\n\n  colors = colors.map(function (color) {\n    return (color = splitColor(color, toHSL, 1)) && type + (toHSL ? color[0] + \",\" + color[1] + \"%,\" + color[2] + \"%,\" + color[3] : color.join(\",\")) + \")\";\n  });\n\n  if (orderMatchData) {\n    d = _colorOrderData(s);\n    c = orderMatchData.c;\n\n    if (c.join(result) !== d.c.join(result)) {\n      shell = s.replace(_colorExp, \"1\").split(_numWithUnitExp);\n      l = shell.length - 1;\n\n      for (; i < l; i++) {\n        result += shell[i] + (~c.indexOf(i) ? colors.shift() || type + \"0,0,0,0)\" : (d.length ? d : colors.length ? colors : orderMatchData).shift());\n      }\n    }\n  }\n\n  if (!shell) {\n    shell = s.split(_colorExp);\n    l = shell.length - 1;\n\n    for (; i < l; i++) {\n      result += shell[i] + colors[i];\n    }\n  }\n\n  return result + shell[l];\n},\n    _colorExp = function () {\n  var s = \"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3,4}){1,2}\\\\b\",\n      //we'll dynamically build this Regular Expression to conserve file size. After building it, it will be able to find rgb(), rgba(), # (hexadecimal), and named color values like red, blue, purple, etc.,\n  p;\n\n  for (p in _colorLookup) {\n    s += \"|\" + p + \"\\\\b\";\n  }\n\n  return new RegExp(s + \")\", \"gi\");\n}(),\n    _hslExp = /hsl[a]?\\(/,\n    _colorStringFilter = function _colorStringFilter(a) {\n  var combined = a.join(\" \"),\n      toHSL;\n  _colorExp.lastIndex = 0;\n\n  if (_colorExp.test(combined)) {\n    toHSL = _hslExp.test(combined);\n    a[1] = _formatColors(a[1], toHSL);\n    a[0] = _formatColors(a[0], toHSL, _colorOrderData(a[1])); // make sure the order of numbers/colors match with the END value.\n\n    return true;\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TICKER\n * --------------------------------------------------------------------------------------\n */\n_tickerActive,\n    _ticker = function () {\n  var _getTime = Date.now,\n      _lagThreshold = 500,\n      _adjustedLag = 33,\n      _startTime = _getTime(),\n      _lastUpdate = _startTime,\n      _gap = 1000 / 240,\n      _nextTime = _gap,\n      _listeners = [],\n      _id,\n      _req,\n      _raf,\n      _self,\n      _delta,\n      _i,\n      _tick = function _tick(v) {\n    var elapsed = _getTime() - _lastUpdate,\n        manual = v === true,\n        overlap,\n        dispatch,\n        time,\n        frame;\n\n    elapsed > _lagThreshold && (_startTime += elapsed - _adjustedLag);\n    _lastUpdate += elapsed;\n    time = _lastUpdate - _startTime;\n    overlap = time - _nextTime;\n\n    if (overlap > 0 || manual) {\n      frame = ++_self.frame;\n      _delta = time - _self.time * 1000;\n      _self.time = time = time / 1000;\n      _nextTime += overlap + (overlap >= _gap ? 4 : _gap - overlap);\n      dispatch = 1;\n    }\n\n    manual || (_id = _req(_tick)); //make sure the request is made before we dispatch the \"tick\" event so that timing is maintained. Otherwise, if processing the \"tick\" requires a bunch of time (like 15ms) and we're using a setTimeout() that's based on 16.7ms, it'd technically take 31.7ms between frames otherwise.\n\n    if (dispatch) {\n      for (_i = 0; _i < _listeners.length; _i++) {\n        // use _i and check _listeners.length instead of a variable because a listener could get removed during the loop, and if that happens to an element less than the current index, it'd throw things off in the loop.\n        _listeners[_i](time, _delta, frame, v);\n      }\n    }\n  };\n\n  _self = {\n    time: 0,\n    frame: 0,\n    tick: function tick() {\n      _tick(true);\n    },\n    deltaRatio: function deltaRatio(fps) {\n      return _delta / (1000 / (fps || 60));\n    },\n    wake: function wake() {\n      if (_coreReady) {\n        if (!_coreInitted && _windowExists()) {\n          _win = _coreInitted = window;\n          _doc = _win.document || {};\n          _globals.gsap = gsap;\n          (_win.gsapVersions || (_win.gsapVersions = [])).push(gsap.version);\n\n          _install(_installScope || _win.GreenSockGlobals || !_win.gsap && _win || {});\n\n          _raf = _win.requestAnimationFrame;\n        }\n\n        _id && _self.sleep();\n\n        _req = _raf || function (f) {\n          return setTimeout(f, _nextTime - _self.time * 1000 + 1 | 0);\n        };\n\n        _tickerActive = 1;\n\n        _tick(2);\n      }\n    },\n    sleep: function sleep() {\n      (_raf ? _win.cancelAnimationFrame : clearTimeout)(_id);\n      _tickerActive = 0;\n      _req = _emptyFunc;\n    },\n    lagSmoothing: function lagSmoothing(threshold, adjustedLag) {\n      _lagThreshold = threshold || 1 / _tinyNum; //zero should be interpreted as basically unlimited\n\n      _adjustedLag = Math.min(adjustedLag, _lagThreshold, 0);\n    },\n    fps: function fps(_fps) {\n      _gap = 1000 / (_fps || 240);\n      _nextTime = _self.time * 1000 + _gap;\n    },\n    add: function add(callback) {\n      _listeners.indexOf(callback) < 0 && _listeners.push(callback);\n\n      _wake();\n    },\n    remove: function remove(callback) {\n      var i;\n      ~(i = _listeners.indexOf(callback)) && _listeners.splice(i, 1) && _i >= i && _i--;\n    },\n    _listeners: _listeners\n  };\n  return _self;\n}(),\n    _wake = function _wake() {\n  return !_tickerActive && _ticker.wake();\n},\n    //also ensures the core classes are initialized.\n\n/*\n* -------------------------------------------------\n* EASING\n* -------------------------------------------------\n*/\n_easeMap = {},\n    _customEaseExp = /^[\\d.\\-M][\\d.\\-,\\s]/,\n    _quotesExp = /[\"']/g,\n    _parseObjectInString = function _parseObjectInString(value) {\n  //takes a string like \"{wiggles:10, type:anticipate})\" and turns it into a real object. Notice it ends in \")\" and includes the {} wrappers. This is because we only use this function for parsing ease configs and prioritized optimization rather than reusability.\n  var obj = {},\n      split = value.substr(1, value.length - 3).split(\":\"),\n      key = split[0],\n      i = 1,\n      l = split.length,\n      index,\n      val,\n      parsedVal;\n\n  for (; i < l; i++) {\n    val = split[i];\n    index = i !== l - 1 ? val.lastIndexOf(\",\") : val.length;\n    parsedVal = val.substr(0, index);\n    obj[key] = isNaN(parsedVal) ? parsedVal.replace(_quotesExp, \"\").trim() : +parsedVal;\n    key = val.substr(index + 1).trim();\n  }\n\n  return obj;\n},\n    _valueInParentheses = function _valueInParentheses(value) {\n  var open = value.indexOf(\"(\") + 1,\n      close = value.indexOf(\")\"),\n      nested = value.indexOf(\"(\", open);\n  return value.substring(open, ~nested && nested < close ? value.indexOf(\")\", close + 1) : close);\n},\n    _configEaseFromString = function _configEaseFromString(name) {\n  //name can be a string like \"elastic.out(1,0.5)\", and pass in _easeMap as obj and it'll parse it out and call the actual function like _easeMap.Elastic.easeOut.config(1,0.5). It will also parse custom ease strings as long as CustomEase is loaded and registered (internally as _easeMap._CE).\n  var split = (name + \"\").split(\"(\"),\n      ease = _easeMap[split[0]];\n  return ease && split.length > 1 && ease.config ? ease.config.apply(null, ~name.indexOf(\"{\") ? [_parseObjectInString(split[1])] : _valueInParentheses(name).split(\",\").map(_numericIfPossible)) : _easeMap._CE && _customEaseExp.test(name) ? _easeMap._CE(\"\", name) : ease;\n},\n    _invertEase = function _invertEase(ease) {\n  return function (p) {\n    return 1 - ease(1 - p);\n  };\n},\n    // allow yoyoEase to be set in children and have those affected when the parent/ancestor timeline yoyos.\n_propagateYoyoEase = function _propagateYoyoEase(timeline, isYoyo) {\n  var child = timeline._first,\n      ease;\n\n  while (child) {\n    if (child instanceof Timeline) {\n      _propagateYoyoEase(child, isYoyo);\n    } else if (child.vars.yoyoEase && (!child._yoyo || !child._repeat) && child._yoyo !== isYoyo) {\n      if (child.timeline) {\n        _propagateYoyoEase(child.timeline, isYoyo);\n      } else {\n        ease = child._ease;\n        child._ease = child._yEase;\n        child._yEase = ease;\n        child._yoyo = isYoyo;\n      }\n    }\n\n    child = child._next;\n  }\n},\n    _parseEase = function _parseEase(ease, defaultEase) {\n  return !ease ? defaultEase : (_isFunction(ease) ? ease : _easeMap[ease] || _configEaseFromString(ease)) || defaultEase;\n},\n    _insertEase = function _insertEase(names, easeIn, easeOut, easeInOut) {\n  if (easeOut === void 0) {\n    easeOut = function easeOut(p) {\n      return 1 - easeIn(1 - p);\n    };\n  }\n\n  if (easeInOut === void 0) {\n    easeInOut = function easeInOut(p) {\n      return p < .5 ? easeIn(p * 2) / 2 : 1 - easeIn((1 - p) * 2) / 2;\n    };\n  }\n\n  var ease = {\n    easeIn: easeIn,\n    easeOut: easeOut,\n    easeInOut: easeInOut\n  },\n      lowercaseName;\n\n  _forEachName(names, function (name) {\n    _easeMap[name] = _globals[name] = ease;\n    _easeMap[lowercaseName = name.toLowerCase()] = easeOut;\n\n    for (var p in ease) {\n      _easeMap[lowercaseName + (p === \"easeIn\" ? \".in\" : p === \"easeOut\" ? \".out\" : \".inOut\")] = _easeMap[name + \".\" + p] = ease[p];\n    }\n  });\n\n  return ease;\n},\n    _easeInOutFromOut = function _easeInOutFromOut(easeOut) {\n  return function (p) {\n    return p < .5 ? (1 - easeOut(1 - p * 2)) / 2 : .5 + easeOut((p - .5) * 2) / 2;\n  };\n},\n    _configElastic = function _configElastic(type, amplitude, period) {\n  var p1 = amplitude >= 1 ? amplitude : 1,\n      //note: if amplitude is < 1, we simply adjust the period for a more natural feel. Otherwise the math doesn't work right and the curve starts at 1.\n  p2 = (period || (type ? .3 : .45)) / (amplitude < 1 ? amplitude : 1),\n      p3 = p2 / _2PI * (Math.asin(1 / p1) || 0),\n      easeOut = function easeOut(p) {\n    return p === 1 ? 1 : p1 * Math.pow(2, -10 * p) * _sin((p - p3) * p2) + 1;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  p2 = _2PI / p2; //precalculate to optimize\n\n  ease.config = function (amplitude, period) {\n    return _configElastic(type, amplitude, period);\n  };\n\n  return ease;\n},\n    _configBack = function _configBack(type, overshoot) {\n  if (overshoot === void 0) {\n    overshoot = 1.70158;\n  }\n\n  var easeOut = function easeOut(p) {\n    return p ? --p * p * ((overshoot + 1) * p + overshoot) + 1 : 0;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  ease.config = function (overshoot) {\n    return _configBack(type, overshoot);\n  };\n\n  return ease;\n}; // a cheaper (kb and cpu) but more mild way to get a parameterized weighted ease by feeding in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEase = ratio => {\n// \tlet y = 0.5 + ratio / 2;\n// \treturn p => (2 * (1 - p) * p * y + p * p);\n// },\n// a stronger (but more expensive kb/cpu) parameterized weighted ease that lets you feed in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEaseStrong = ratio => {\n// \tratio = .5 + ratio / 2;\n// \tlet o = 1 / 3 * (ratio < .5 ? ratio : 1 - ratio),\n// \t\tb = ratio - o,\n// \t\tc = ratio + o;\n// \treturn p => p === 1 ? p : 3 * b * (1 - p) * (1 - p) * p + 3 * c * (1 - p) * p * p + p * p * p;\n// };\n\n\n_forEachName(\"Linear,Quad,Cubic,Quart,Quint,Strong\", function (name, i) {\n  var power = i < 5 ? i + 1 : i;\n\n  _insertEase(name + \",Power\" + (power - 1), i ? function (p) {\n    return Math.pow(p, power);\n  } : function (p) {\n    return p;\n  }, function (p) {\n    return 1 - Math.pow(1 - p, power);\n  }, function (p) {\n    return p < .5 ? Math.pow(p * 2, power) / 2 : 1 - Math.pow((1 - p) * 2, power) / 2;\n  });\n});\n\n_easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn;\n\n_insertEase(\"Elastic\", _configElastic(\"in\"), _configElastic(\"out\"), _configElastic());\n\n(function (n, c) {\n  var n1 = 1 / c,\n      n2 = 2 * n1,\n      n3 = 2.5 * n1,\n      easeOut = function easeOut(p) {\n    return p < n1 ? n * p * p : p < n2 ? n * Math.pow(p - 1.5 / c, 2) + .75 : p < n3 ? n * (p -= 2.25 / c) * p + .9375 : n * Math.pow(p - 2.625 / c, 2) + .984375;\n  };\n\n  _insertEase(\"Bounce\", function (p) {\n    return 1 - easeOut(1 - p);\n  }, easeOut);\n})(7.5625, 2.75);\n\n_insertEase(\"Expo\", function (p) {\n  return p ? Math.pow(2, 10 * (p - 1)) : 0;\n});\n\n_insertEase(\"Circ\", function (p) {\n  return -(_sqrt(1 - p * p) - 1);\n});\n\n_insertEase(\"Sine\", function (p) {\n  return p === 1 ? 1 : -_cos(p * _HALF_PI) + 1;\n});\n\n_insertEase(\"Back\", _configBack(\"in\"), _configBack(\"out\"), _configBack());\n\n_easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {\n  config: function config(steps, immediateStart) {\n    if (steps === void 0) {\n      steps = 1;\n    }\n\n    var p1 = 1 / steps,\n        p2 = steps + (immediateStart ? 0 : 1),\n        p3 = immediateStart ? 1 : 0,\n        max = 1 - _tinyNum;\n    return function (p) {\n      return ((p2 * _clamp(0, max, p) | 0) + p3) * p1;\n    };\n  }\n};\n_defaults.ease = _easeMap[\"quad.out\"];\n\n_forEachName(\"onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt\", function (name) {\n  return _callbackNames += name + \",\" + name + \"Params,\";\n});\n/*\n * --------------------------------------------------------------------------------------\n * CACHE\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var GSCache = function GSCache(target, harness) {\n  this.id = _gsID++;\n  target._gsap = this;\n  this.target = target;\n  this.harness = harness;\n  this.get = harness ? harness.get : _getProperty;\n  this.set = harness ? harness.getSetter : _getSetter;\n};\n/*\n * --------------------------------------------------------------------------------------\n * ANIMATION\n * --------------------------------------------------------------------------------------\n */\n\nexport var Animation = /*#__PURE__*/function () {\n  function Animation(vars) {\n    this.vars = vars;\n    this._delay = +vars.delay || 0;\n\n    if (this._repeat = vars.repeat === Infinity ? -2 : vars.repeat || 0) {\n      // TODO: repeat: Infinity on a timeline's children must flag that timeline internally and affect its totalDuration, otherwise it'll stop in the negative direction when reaching the start.\n      this._rDelay = vars.repeatDelay || 0;\n      this._yoyo = !!vars.yoyo || !!vars.yoyoEase;\n    }\n\n    this._ts = 1;\n\n    _setDuration(this, +vars.duration, 1, 1);\n\n    this.data = vars.data;\n    _tickerActive || _ticker.wake();\n  }\n\n  var _proto = Animation.prototype;\n\n  _proto.delay = function delay(value) {\n    if (value || value === 0) {\n      this.parent && this.parent.smoothChildTiming && this.startTime(this._start + value - this._delay);\n      this._delay = value;\n      return this;\n    }\n\n    return this._delay;\n  };\n\n  _proto.duration = function duration(value) {\n    return arguments.length ? this.totalDuration(this._repeat > 0 ? value + (value + this._rDelay) * this._repeat : value) : this.totalDuration() && this._dur;\n  };\n\n  _proto.totalDuration = function totalDuration(value) {\n    if (!arguments.length) {\n      return this._tDur;\n    }\n\n    this._dirty = 0;\n    return _setDuration(this, this._repeat < 0 ? value : (value - this._repeat * this._rDelay) / (this._repeat + 1));\n  };\n\n  _proto.totalTime = function totalTime(_totalTime, suppressEvents) {\n    _wake();\n\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    var parent = this._dp;\n\n    if (parent && parent.smoothChildTiming && this._ts) {\n      _alignPlayhead(this, _totalTime);\n\n      !parent._dp || parent.parent || _postAddChecks(parent, this); // edge case: if this is a child of a timeline that already completed, for example, we must re-activate the parent.\n      //in case any of the ancestor timelines had completed but should now be enabled, we should reset their totalTime() which will also ensure that they're lined up properly and enabled. Skip for animations that are on the root (wasteful). Example: a TimelineLite.exportRoot() is performed when there's a paused tween on the root, the export will not complete until that tween is unpaused, but imagine a child gets restarted later, after all [unpaused] tweens have completed. The start of that child would get pushed out, but one of the ancestors may have completed.\n\n      while (parent.parent) {\n        if (parent.parent._time !== parent._start + (parent._ts >= 0 ? parent._tTime / parent._ts : (parent.totalDuration() - parent._tTime) / -parent._ts)) {\n          parent.totalTime(parent._tTime, true);\n        }\n\n        parent = parent.parent;\n      }\n\n      if (!this.parent && this._dp.autoRemoveChildren && (this._ts > 0 && _totalTime < this._tDur || this._ts < 0 && _totalTime > 0 || !this._tDur && !_totalTime)) {\n        //if the animation doesn't have a parent, put it back into its last parent (recorded as _dp for exactly cases like this). Limit to parents with autoRemoveChildren (like globalTimeline) so that if the user manually removes an animation from a timeline and then alters its playhead, it doesn't get added back in.\n        _addToTimeline(this._dp, this, this._start - this._delay);\n      }\n    }\n\n    if (this._tTime !== _totalTime || !this._dur && !suppressEvents || this._initted && Math.abs(this._zTime) === _tinyNum || !_totalTime && !this._initted && (this.add || this._ptLookup)) {\n      // check for _ptLookup on a Tween instance to ensure it has actually finished being instantiated, otherwise if this.reverse() gets called in the Animation constructor, it could trigger a render() here even though the _targets weren't populated, thus when _init() is called there won't be any PropTweens (it'll act like the tween is non-functional)\n      this._ts || (this._pTime = _totalTime); // otherwise, if an animation is paused, then the playhead is moved back to zero, then resumed, it'd revert back to the original time at the pause\n      //if (!this._lock) { // avoid endless recursion (not sure we need this yet or if it's worth the performance hit)\n      //   this._lock = 1;\n\n      _lazySafeRender(this, _totalTime, suppressEvents); //   this._lock = 0;\n      //}\n\n    }\n\n    return this;\n  };\n\n  _proto.time = function time(value, suppressEvents) {\n    return arguments.length ? this.totalTime(Math.min(this.totalDuration(), value + _elapsedCycleDuration(this)) % (this._dur + this._rDelay) || (value ? this._dur : 0), suppressEvents) : this._time; // note: if the modulus results in 0, the playhead could be exactly at the end or the beginning, and we always defer to the END with a non-zero value, otherwise if you set the time() to the very end (duration()), it would render at the START!\n  };\n\n  _proto.totalProgress = function totalProgress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio;\n  };\n\n  _proto.progress = function progress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - value : value) + _elapsedCycleDuration(this), suppressEvents) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio;\n  };\n\n  _proto.iteration = function iteration(value, suppressEvents) {\n    var cycleDuration = this.duration() + this._rDelay;\n\n    return arguments.length ? this.totalTime(this._time + (value - 1) * cycleDuration, suppressEvents) : this._repeat ? _animationCycle(this._tTime, cycleDuration) + 1 : 1;\n  } // potential future addition:\n  // isPlayingBackwards() {\n  // \tlet animation = this,\n  // \t\torientation = 1; // 1 = forward, -1 = backward\n  // \twhile (animation) {\n  // \t\torientation *= animation.reversed() || (animation.repeat() && !(animation.iteration() & 1)) ? -1 : 1;\n  // \t\tanimation = animation.parent;\n  // \t}\n  // \treturn orientation < 0;\n  // }\n  ;\n\n  _proto.timeScale = function timeScale(value) {\n    if (!arguments.length) {\n      return this._rts === -_tinyNum ? 0 : this._rts; // recorded timeScale. Special case: if someone calls reverse() on an animation with timeScale of 0, we assign it -_tinyNum to remember it's reversed.\n    }\n\n    if (this._rts === value) {\n      return this;\n    }\n\n    var tTime = this.parent && this._ts ? _parentToChildTotalTime(this.parent._time, this) : this._tTime; // make sure to do the parentToChildTotalTime() BEFORE setting the new _ts because the old one must be used in that calculation.\n    // future addition? Up side: fast and minimal file size. Down side: only works on this animation; if a timeline is reversed, for example, its childrens' onReverse wouldn't get called.\n    //(+value < 0 && this._rts >= 0) && _callback(this, \"onReverse\", true);\n    // prioritize rendering where the parent's playhead lines up instead of this._tTime because there could be a tween that's animating another tween's timeScale in the same rendering loop (same parent), thus if the timeScale tween renders first, it would alter _start BEFORE _tTime was set on that tick (in the rendering loop), effectively freezing it until the timeScale tween finishes.\n\n    this._rts = +value || 0;\n    this._ts = this._ps || value === -_tinyNum ? 0 : this._rts; // _ts is the functional timeScale which would be 0 if the animation is paused.\n\n    return _recacheAncestors(this.totalTime(_clamp(-this._delay, this._tDur, tTime), true));\n  };\n\n  _proto.paused = function paused(value) {\n    if (!arguments.length) {\n      return this._ps;\n    }\n\n    if (this._ps !== value) {\n      this._ps = value;\n\n      if (value) {\n        this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()); // if the pause occurs during the delay phase, make sure that's factored in when resuming.\n\n        this._ts = this._act = 0; // _ts is the functional timeScale, so a paused tween would effectively have a timeScale of 0. We record the \"real\" timeScale as _rts (recorded time scale)\n      } else {\n        _wake();\n\n        this._ts = this._rts; //only defer to _pTime (pauseTime) if tTime is zero. Remember, someone could pause() an animation, then scrub the playhead and resume(). If the parent doesn't have smoothChildTiming, we render at the rawTime() because the startTime won't get updated.\n\n        this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && Math.abs(this._zTime) !== _tinyNum && (this._tTime -= _tinyNum)); // edge case: animation.progress(1).pause().play() wouldn't render again because the playhead is already at the end, but the call to totalTime() below will add it back to its parent...and not remove it again (since removing only happens upon rendering at a new time). Offsetting the _tTime slightly is done simply to cause the final render in totalTime() that'll pop it off its timeline (if autoRemoveChildren is true, of course). Check to make sure _zTime isn't -_tinyNum to avoid an edge case where the playhead is pushed to the end but INSIDE a tween/callback, the timeline itself is paused thus halting rendering and leaving a few unrendered. When resuming, it wouldn't render those otherwise.\n      }\n    }\n\n    return this;\n  };\n\n  _proto.startTime = function startTime(value) {\n    if (arguments.length) {\n      this._start = value;\n      var parent = this.parent || this._dp;\n      parent && (parent._sort || !this.parent) && _addToTimeline(parent, this, value - this._delay);\n      return this;\n    }\n\n    return this._start;\n  };\n\n  _proto.endTime = function endTime(includeRepeats) {\n    return this._start + (_isNotFalse(includeRepeats) ? this.totalDuration() : this.duration()) / Math.abs(this._ts);\n  };\n\n  _proto.rawTime = function rawTime(wrapRepeats) {\n    var parent = this.parent || this._dp; // _dp = detached parent\n\n    return !parent ? this._tTime : wrapRepeats && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : !this._ts ? this._tTime : _parentToChildTotalTime(parent.rawTime(wrapRepeats), this);\n  };\n\n  _proto.globalTime = function globalTime(rawTime) {\n    var animation = this,\n        time = arguments.length ? rawTime : animation.rawTime();\n\n    while (animation) {\n      time = animation._start + time / (animation._ts || 1);\n      animation = animation._dp;\n    }\n\n    return time;\n  };\n\n  _proto.repeat = function repeat(value) {\n    if (arguments.length) {\n      this._repeat = value === Infinity ? -2 : value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._repeat === -2 ? Infinity : this._repeat;\n  };\n\n  _proto.repeatDelay = function repeatDelay(value) {\n    if (arguments.length) {\n      var time = this._time;\n      this._rDelay = value;\n\n      _onUpdateTotalDuration(this);\n\n      return time ? this.time(time) : this;\n    }\n\n    return this._rDelay;\n  };\n\n  _proto.yoyo = function yoyo(value) {\n    if (arguments.length) {\n      this._yoyo = value;\n      return this;\n    }\n\n    return this._yoyo;\n  };\n\n  _proto.seek = function seek(position, suppressEvents) {\n    return this.totalTime(_parsePosition(this, position), _isNotFalse(suppressEvents));\n  };\n\n  _proto.restart = function restart(includeDelay, suppressEvents) {\n    return this.play().totalTime(includeDelay ? -this._delay : 0, _isNotFalse(suppressEvents));\n  };\n\n  _proto.play = function play(from, suppressEvents) {\n    from != null && this.seek(from, suppressEvents);\n    return this.reversed(false).paused(false);\n  };\n\n  _proto.reverse = function reverse(from, suppressEvents) {\n    from != null && this.seek(from || this.totalDuration(), suppressEvents);\n    return this.reversed(true).paused(false);\n  };\n\n  _proto.pause = function pause(atTime, suppressEvents) {\n    atTime != null && this.seek(atTime, suppressEvents);\n    return this.paused(true);\n  };\n\n  _proto.resume = function resume() {\n    return this.paused(false);\n  };\n\n  _proto.reversed = function reversed(value) {\n    if (arguments.length) {\n      !!value !== this.reversed() && this.timeScale(-this._rts || (value ? -_tinyNum : 0)); // in case timeScale is zero, reversing would have no effect so we use _tinyNum.\n\n      return this;\n    }\n\n    return this._rts < 0;\n  };\n\n  _proto.invalidate = function invalidate() {\n    this._initted = this._act = 0;\n    this._zTime = -_tinyNum;\n    return this;\n  };\n\n  _proto.isActive = function isActive() {\n    var parent = this.parent || this._dp,\n        start = this._start,\n        rawTime;\n    return !!(!parent || this._ts && this._initted && parent.isActive() && (rawTime = parent.rawTime(true)) >= start && rawTime < this.endTime(true) - _tinyNum);\n  };\n\n  _proto.eventCallback = function eventCallback(type, callback, params) {\n    var vars = this.vars;\n\n    if (arguments.length > 1) {\n      if (!callback) {\n        delete vars[type];\n      } else {\n        vars[type] = callback;\n        params && (vars[type + \"Params\"] = params);\n        type === \"onUpdate\" && (this._onUpdate = callback);\n      }\n\n      return this;\n    }\n\n    return vars[type];\n  };\n\n  _proto.then = function then(onFulfilled) {\n    var self = this;\n    return new Promise(function (resolve) {\n      var f = _isFunction(onFulfilled) ? onFulfilled : _passThrough,\n          _resolve = function _resolve() {\n        var _then = self.then;\n        self.then = null; // temporarily null the then() method to avoid an infinite loop (see https://github.com/greensock/GSAP/issues/322)\n\n        _isFunction(f) && (f = f(self)) && (f.then || f === self) && (self.then = _then);\n        resolve(f);\n        self.then = _then;\n      };\n\n      if (self._initted && self.totalProgress() === 1 && self._ts >= 0 || !self._tTime && self._ts < 0) {\n        _resolve();\n      } else {\n        self._prom = _resolve;\n      }\n    });\n  };\n\n  _proto.kill = function kill() {\n    _interrupt(this);\n  };\n\n  return Animation;\n}();\n\n_setDefaults(Animation.prototype, {\n  _time: 0,\n  _start: 0,\n  _end: 0,\n  _tTime: 0,\n  _tDur: 0,\n  _dirty: 0,\n  _repeat: 0,\n  _yoyo: false,\n  parent: null,\n  _initted: false,\n  _rDelay: 0,\n  _ts: 1,\n  _dp: 0,\n  ratio: 0,\n  _zTime: -_tinyNum,\n  _prom: 0,\n  _ps: false,\n  _rts: 1\n});\n/*\n * -------------------------------------------------\n * TIMELINE\n * -------------------------------------------------\n */\n\n\nexport var Timeline = /*#__PURE__*/function (_Animation) {\n  _inheritsLoose(Timeline, _Animation);\n\n  function Timeline(vars, position) {\n    var _this;\n\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    _this = _Animation.call(this, vars) || this;\n    _this.labels = {};\n    _this.smoothChildTiming = !!vars.smoothChildTiming;\n    _this.autoRemoveChildren = !!vars.autoRemoveChildren;\n    _this._sort = _isNotFalse(vars.sortChildren);\n    _globalTimeline && _addToTimeline(vars.parent || _globalTimeline, _assertThisInitialized(_this), position);\n    vars.reversed && _this.reverse();\n    vars.paused && _this.paused(true);\n    vars.scrollTrigger && _scrollTrigger(_assertThisInitialized(_this), vars.scrollTrigger);\n    return _this;\n  }\n\n  var _proto2 = Timeline.prototype;\n\n  _proto2.to = function to(targets, vars, position) {\n    _createTweenType(0, arguments, this);\n\n    return this;\n  };\n\n  _proto2.from = function from(targets, vars, position) {\n    _createTweenType(1, arguments, this);\n\n    return this;\n  };\n\n  _proto2.fromTo = function fromTo(targets, fromVars, toVars, position) {\n    _createTweenType(2, arguments, this);\n\n    return this;\n  };\n\n  _proto2.set = function set(targets, vars, position) {\n    vars.duration = 0;\n    vars.parent = this;\n    _inheritDefaults(vars).repeatDelay || (vars.repeat = 0);\n    vars.immediateRender = !!vars.immediateRender;\n    new Tween(targets, vars, _parsePosition(this, position), 1);\n    return this;\n  };\n\n  _proto2.call = function call(callback, params, position) {\n    return _addToTimeline(this, Tween.delayedCall(0, callback, params), position);\n  } //ONLY for backward compatibility! Maybe delete?\n  ;\n\n  _proto2.staggerTo = function staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.duration = duration;\n    vars.stagger = vars.stagger || stagger;\n    vars.onComplete = onCompleteAll;\n    vars.onCompleteParams = onCompleteAllParams;\n    vars.parent = this;\n    new Tween(targets, vars, _parsePosition(this, position));\n    return this;\n  };\n\n  _proto2.staggerFrom = function staggerFrom(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.runBackwards = 1;\n    _inheritDefaults(vars).immediateRender = _isNotFalse(vars.immediateRender);\n    return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.staggerFromTo = function staggerFromTo(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    toVars.startAt = fromVars;\n    _inheritDefaults(toVars).immediateRender = _isNotFalse(toVars.immediateRender);\n    return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._dirty ? this.totalDuration() : this._tDur,\n        dur = this._dur,\n        tTime = this !== _globalTimeline && totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        crossingStart = this._zTime < 0 !== totalTime < 0 && (this._initted || !dur),\n        time,\n        child,\n        next,\n        iteration,\n        cycleDuration,\n        prevPaused,\n        pauseTween,\n        timeScale,\n        prevStart,\n        prevIteration,\n        yoyo,\n        isYoyo;\n\n    if (tTime !== this._tTime || force || crossingStart) {\n      if (prevTime !== this._time && dur) {\n        //if totalDuration() finds a child with a negative startTime and smoothChildTiming is true, things get shifted around internally so we need to adjust the time accordingly. For example, if a tween starts at -30 we must shift EVERYTHING forward 30 seconds and move this timeline's startTime backward by 30 seconds so that things align with the playhead (no jump).\n        tTime += this._time - prevTime;\n        totalTime += this._time - prevTime;\n      }\n\n      time = tTime;\n      prevStart = this._start;\n      timeScale = this._ts;\n      prevPaused = !timeScale;\n\n      if (crossingStart) {\n        dur || (prevTime = this._zTime); //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n        (totalTime || !suppressEvents) && (this._zTime = totalTime);\n      }\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        yoyo = this._yoyo;\n        cycleDuration = dur + this._rDelay;\n\n        if (this._repeat < -1 && totalTime < 0) {\n          return this.totalTime(cycleDuration * 100 + totalTime, suppressEvents, force);\n        }\n\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (tTime === tDur) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          iteration = this._repeat;\n          time = dur;\n        } else {\n          iteration = ~~(tTime / cycleDuration);\n\n          if (iteration && iteration === tTime / cycleDuration) {\n            time = dur;\n            iteration--;\n          }\n\n          time > dur && (time = dur);\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n        !prevTime && this._tTime && prevIteration !== iteration && (prevIteration = iteration); // edge case - if someone does addPause() at the very beginning of a repeating timeline, that pause is technically at the same spot as the end which causes this._time to get set to 0 when the totalTime would normally place the playhead at the end. See https://greensock.com/forums/topic/23823-closing-nav-animation-not-working-on-ie-and-iphone-6-maybe-other-older-browser/?tab=comments#comment-113005\n\n        if (yoyo && iteration & 1) {\n          time = dur - time;\n          isYoyo = 1;\n        }\n        /*\n        make sure children at the end/beginning of the timeline are rendered properly. If, for example,\n        a 3-second long timeline rendered at 2.9 seconds previously, and now renders at 3.2 seconds (which\n        would get translated to 2.8 seconds if the timeline yoyos or 0.2 seconds if it just repeats), there\n        could be a callback or a short tween that's at 2.95 or 3 seconds in which wouldn't render. So\n        we need to push the timeline to the end (and/or beginning depending on its yoyo value). Also we must\n        ensure that zero-duration tweens at the very beginning or end of the Timeline work.\n        */\n\n\n        if (iteration !== prevIteration && !this._lock) {\n          var rewinding = yoyo && prevIteration & 1,\n              doesWrap = rewinding === (yoyo && iteration & 1);\n          iteration < prevIteration && (rewinding = !rewinding);\n          prevTime = rewinding ? 0 : dur;\n          this._lock = 1;\n          this.render(prevTime || (isYoyo ? 0 : _round(iteration * cycleDuration)), suppressEvents, !dur)._lock = 0;\n          this._tTime = tTime; // if a user gets the iteration() inside the onRepeat, for example, it should be accurate.\n\n          !suppressEvents && this.parent && _callback(this, \"onRepeat\");\n          this.vars.repeatRefresh && !isYoyo && (this.invalidate()._lock = 1);\n\n          if (prevTime && prevTime !== this._time || prevPaused !== !this._ts || this.vars.onRepeat && !this.parent && !this._act) {\n            // if prevTime is 0 and we render at the very end, _time will be the end, thus won't match. So in this edge case, prevTime won't match _time but that's okay. If it gets killed in the onRepeat, eject as well.\n            return this;\n          }\n\n          dur = this._dur; // in case the duration changed in the onRepeat\n\n          tDur = this._tDur;\n\n          if (doesWrap) {\n            this._lock = 2;\n            prevTime = rewinding ? dur : -0.0001;\n            this.render(prevTime, true);\n            this.vars.repeatRefresh && !isYoyo && this.invalidate();\n          }\n\n          this._lock = 0;\n\n          if (!this._ts && !prevPaused) {\n            return this;\n          } //in order for yoyoEase to work properly when there's a stagger, we must swap out the ease in each sub-tween.\n\n\n          _propagateYoyoEase(this, isYoyo);\n        }\n      }\n\n      if (this._hasPause && !this._forcing && this._lock < 2) {\n        pauseTween = _findNextPauseTween(this, _round(prevTime), _round(time));\n\n        if (pauseTween) {\n          tTime -= time - (time = pauseTween._start);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n      this._act = !timeScale; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n      if (!this._initted) {\n        this._onUpdate = this.vars.onUpdate;\n        this._initted = 1;\n        this._zTime = totalTime;\n        prevTime = 0; // upon init, the playhead should always go forward; someone could invalidate() a completed timeline and then if they restart(), that would make child tweens render in reverse order which could lock in the wrong starting values if they build on each other, like tl.to(obj, {x: 100}).to(obj, {x: 0}).\n      }\n\n      if (!prevTime && time && !suppressEvents) {\n        _callback(this, \"onStart\");\n\n        if (this._tTime !== tTime) {\n          // in case the onStart triggered a render at a different spot, eject. Like if someone did animation.pause(0.5) or something inside the onStart.\n          return this;\n        }\n      }\n\n      if (time >= prevTime && totalTime >= 0) {\n        child = this._first;\n\n        while (child) {\n          next = child._next;\n\n          if ((child._act || time >= child._start) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (time - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (time - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = -_tinyNum); // it didn't finish rendering, so flag zTime as negative so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      } else {\n        child = this._last;\n        var adjustedTime = totalTime < 0 ? totalTime : time; //when the playhead goes backward beyond the start of this timeline, we must pass that information down to the child animations so that zero-duration tweens know whether to render their starting or ending values.\n\n        while (child) {\n          next = child._prev;\n\n          if ((child._act || adjustedTime <= child._end) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (adjustedTime - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (adjustedTime - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = adjustedTime ? -_tinyNum : _tinyNum); // it didn't finish rendering, so adjust zTime so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      }\n\n      if (pauseTween && !suppressEvents) {\n        this.pause();\n        pauseTween.render(time >= prevTime ? 0 : -_tinyNum)._zTime = time >= prevTime ? 1 : -1;\n\n        if (this._ts) {\n          //the callback resumed playback! So since we may have held back the playhead due to where the pause is positioned, go ahead and jump to where it's SUPPOSED to be (if no pause happened).\n          this._start = prevStart; //if the pause was at an earlier time and the user resumed in the callback, it could reposition the timeline (changing its startTime), throwing things off slightly, so we make sure the _start doesn't shift.\n\n          _setEnd(this);\n\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._onUpdate && !suppressEvents && _callback(this, \"onUpdate\", true);\n      if (tTime === tDur && tDur >= this.totalDuration() || !tTime && prevTime) if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) if (!this._lock) {\n        (totalTime || !dur) && (tTime === tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime || !tDur)) {\n          _callback(this, tTime === tDur && totalTime >= 0 ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto2.add = function add(child, position) {\n    var _this2 = this;\n\n    _isNumber(position) || (position = _parsePosition(this, position, child));\n\n    if (!(child instanceof Animation)) {\n      if (_isArray(child)) {\n        child.forEach(function (obj) {\n          return _this2.add(obj, position);\n        });\n        return this;\n      }\n\n      if (_isString(child)) {\n        return this.addLabel(child, position);\n      }\n\n      if (_isFunction(child)) {\n        child = Tween.delayedCall(0, child);\n      } else {\n        return this;\n      }\n    }\n\n    return this !== child ? _addToTimeline(this, child, position) : this; //don't allow a timeline to be added to itself as a child!\n  };\n\n  _proto2.getChildren = function getChildren(nested, tweens, timelines, ignoreBeforeTime) {\n    if (nested === void 0) {\n      nested = true;\n    }\n\n    if (tweens === void 0) {\n      tweens = true;\n    }\n\n    if (timelines === void 0) {\n      timelines = true;\n    }\n\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = -_bigNum;\n    }\n\n    var a = [],\n        child = this._first;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        if (child instanceof Tween) {\n          tweens && a.push(child);\n        } else {\n          timelines && a.push(child);\n          nested && a.push.apply(a, child.getChildren(true, tweens, timelines));\n        }\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.getById = function getById(id) {\n    var animations = this.getChildren(1, 1, 1),\n        i = animations.length;\n\n    while (i--) {\n      if (animations[i].vars.id === id) {\n        return animations[i];\n      }\n    }\n  };\n\n  _proto2.remove = function remove(child) {\n    if (_isString(child)) {\n      return this.removeLabel(child);\n    }\n\n    if (_isFunction(child)) {\n      return this.killTweensOf(child);\n    }\n\n    _removeLinkedListItem(this, child);\n\n    if (child === this._recent) {\n      this._recent = this._last;\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalTime = function totalTime(_totalTime2, suppressEvents) {\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    this._forcing = 1;\n\n    if (!this._dp && this._ts) {\n      //special case for the global timeline (or any other that has no parent or detached parent).\n      this._start = _round(_ticker.time - (this._ts > 0 ? _totalTime2 / this._ts : (this.totalDuration() - _totalTime2) / -this._ts));\n    }\n\n    _Animation.prototype.totalTime.call(this, _totalTime2, suppressEvents);\n\n    this._forcing = 0;\n    return this;\n  };\n\n  _proto2.addLabel = function addLabel(label, position) {\n    this.labels[label] = _parsePosition(this, position);\n    return this;\n  };\n\n  _proto2.removeLabel = function removeLabel(label) {\n    delete this.labels[label];\n    return this;\n  };\n\n  _proto2.addPause = function addPause(position, callback, params) {\n    var t = Tween.delayedCall(0, callback || _emptyFunc, params);\n    t.data = \"isPause\";\n    this._hasPause = 1;\n    return _addToTimeline(this, t, _parsePosition(this, position));\n  };\n\n  _proto2.removePause = function removePause(position) {\n    var child = this._first;\n    position = _parsePosition(this, position);\n\n    while (child) {\n      if (child._start === position && child.data === \"isPause\") {\n        _removeFromParent(child);\n      }\n\n      child = child._next;\n    }\n  };\n\n  _proto2.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    var tweens = this.getTweensOf(targets, onlyActive),\n        i = tweens.length;\n\n    while (i--) {\n      _overwritingTween !== tweens[i] && tweens[i].kill(targets, props);\n    }\n\n    return this;\n  };\n\n  _proto2.getTweensOf = function getTweensOf(targets, onlyActive) {\n    var a = [],\n        parsedTargets = toArray(targets),\n        child = this._first,\n        isGlobalTime = _isNumber(onlyActive),\n        // a number is interpreted as a global time. If the animation spans\n    children;\n\n    while (child) {\n      if (child instanceof Tween) {\n        if (_arrayContainsAny(child._targets, parsedTargets) && (isGlobalTime ? (!_overwritingTween || child._initted && child._ts) && child.globalTime(0) <= onlyActive && child.globalTime(child.totalDuration()) > onlyActive : !onlyActive || child.isActive())) {\n          // note: if this is for overwriting, it should only be for tweens that aren't paused and are initted.\n          a.push(child);\n        }\n      } else if ((children = child.getTweensOf(parsedTargets, onlyActive)).length) {\n        a.push.apply(a, children);\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  } // potential future feature - targets() on timelines\n  // targets() {\n  // \tlet result = [];\n  // \tthis.getChildren(true, true, false).forEach(t => result.push(...t.targets()));\n  // \treturn result.filter((v, i) => result.indexOf(v) === i);\n  // }\n  ;\n\n  _proto2.tweenTo = function tweenTo(position, vars) {\n    vars = vars || {};\n\n    var tl = this,\n        endTime = _parsePosition(tl, position),\n        _vars = vars,\n        startAt = _vars.startAt,\n        _onStart = _vars.onStart,\n        onStartParams = _vars.onStartParams,\n        immediateRender = _vars.immediateRender,\n        initted,\n        tween = Tween.to(tl, _setDefaults({\n      ease: vars.ease || \"none\",\n      lazy: false,\n      immediateRender: false,\n      time: endTime,\n      overwrite: \"auto\",\n      duration: vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale()) || _tinyNum,\n      onStart: function onStart() {\n        tl.pause();\n\n        if (!initted) {\n          var duration = vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale());\n          tween._dur !== duration && _setDuration(tween, duration, 0, 1).render(tween._time, true, true);\n          initted = 1;\n        }\n\n        _onStart && _onStart.apply(tween, onStartParams || []); //in case the user had an onStart in the vars - we don't want to overwrite it.\n      }\n    }, vars));\n\n    return immediateRender ? tween.render(0) : tween;\n  };\n\n  _proto2.tweenFromTo = function tweenFromTo(fromPosition, toPosition, vars) {\n    return this.tweenTo(toPosition, _setDefaults({\n      startAt: {\n        time: _parsePosition(this, fromPosition)\n      }\n    }, vars));\n  };\n\n  _proto2.recent = function recent() {\n    return this._recent;\n  };\n\n  _proto2.nextLabel = function nextLabel(afterTime) {\n    if (afterTime === void 0) {\n      afterTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, afterTime));\n  };\n\n  _proto2.previousLabel = function previousLabel(beforeTime) {\n    if (beforeTime === void 0) {\n      beforeTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, beforeTime), 1);\n  };\n\n  _proto2.currentLabel = function currentLabel(value) {\n    return arguments.length ? this.seek(value, true) : this.previousLabel(this._time + _tinyNum);\n  };\n\n  _proto2.shiftChildren = function shiftChildren(amount, adjustLabels, ignoreBeforeTime) {\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = 0;\n    }\n\n    var child = this._first,\n        labels = this.labels,\n        p;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        child._start += amount;\n        child._end += amount;\n      }\n\n      child = child._next;\n    }\n\n    if (adjustLabels) {\n      for (p in labels) {\n        if (labels[p] >= ignoreBeforeTime) {\n          labels[p] += amount;\n        }\n      }\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.invalidate = function invalidate() {\n    var child = this._first;\n    this._lock = 0;\n\n    while (child) {\n      child.invalidate();\n      child = child._next;\n    }\n\n    return _Animation.prototype.invalidate.call(this);\n  };\n\n  _proto2.clear = function clear(includeLabels) {\n    if (includeLabels === void 0) {\n      includeLabels = true;\n    }\n\n    var child = this._first,\n        next;\n\n    while (child) {\n      next = child._next;\n      this.remove(child);\n      child = next;\n    }\n\n    this._dp && (this._time = this._tTime = this._pTime = 0);\n    includeLabels && (this.labels = {});\n    return _uncache(this);\n  };\n\n  _proto2.totalDuration = function totalDuration(value) {\n    var max = 0,\n        self = this,\n        child = self._last,\n        prevStart = _bigNum,\n        prev,\n        start,\n        parent;\n\n    if (arguments.length) {\n      return self.timeScale((self._repeat < 0 ? self.duration() : self.totalDuration()) / (self.reversed() ? -value : value));\n    }\n\n    if (self._dirty) {\n      parent = self.parent;\n\n      while (child) {\n        prev = child._prev; //record it here in case the tween changes position in the sequence...\n\n        child._dirty && child.totalDuration(); //could change the tween._startTime, so make sure the animation's cache is clean before analyzing it.\n\n        start = child._start;\n\n        if (start > prevStart && self._sort && child._ts && !self._lock) {\n          //in case one of the tweens shifted out of order, it needs to be re-inserted into the correct position in the sequence\n          self._lock = 1; //prevent endless recursive calls - there are methods that get triggered that check duration/totalDuration when we add().\n\n          _addToTimeline(self, child, start - child._delay, 1)._lock = 0;\n        } else {\n          prevStart = start;\n        }\n\n        if (start < 0 && child._ts) {\n          //children aren't allowed to have negative startTimes unless smoothChildTiming is true, so adjust here if one is found.\n          max -= start;\n\n          if (!parent && !self._dp || parent && parent.smoothChildTiming) {\n            self._start += start / self._ts;\n            self._time -= start;\n            self._tTime -= start;\n          }\n\n          self.shiftChildren(-start, false, -1e999);\n          prevStart = 0;\n        }\n\n        child._end > max && child._ts && (max = child._end);\n        child = prev;\n      }\n\n      _setDuration(self, self === _globalTimeline && self._time > max ? self._time : max, 1, 1);\n\n      self._dirty = 0;\n    }\n\n    return self._tDur;\n  };\n\n  Timeline.updateRoot = function updateRoot(time) {\n    if (_globalTimeline._ts) {\n      _lazySafeRender(_globalTimeline, _parentToChildTotalTime(time, _globalTimeline));\n\n      _lastRenderedFrame = _ticker.frame;\n    }\n\n    if (_ticker.frame >= _nextGCFrame) {\n      _nextGCFrame += _config.autoSleep || 120;\n      var child = _globalTimeline._first;\n      if (!child || !child._ts) if (_config.autoSleep && _ticker._listeners.length < 2) {\n        while (child && !child._ts) {\n          child = child._next;\n        }\n\n        child || _ticker.sleep();\n      }\n    }\n  };\n\n  return Timeline;\n}(Animation);\n\n_setDefaults(Timeline.prototype, {\n  _lock: 0,\n  _hasPause: 0,\n  _forcing: 0\n});\n\nvar _addComplexStringPropTween = function _addComplexStringPropTween(target, prop, start, end, setter, stringFilter, funcParam) {\n  //note: we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  var pt = new PropTween(this._pt, target, prop, 0, 1, _renderComplexString, null, setter),\n      index = 0,\n      matchIndex = 0,\n      result,\n      startNums,\n      color,\n      endNum,\n      chunk,\n      startNum,\n      hasRandom,\n      a;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (hasRandom = ~end.indexOf(\"random(\")) {\n    end = _replaceRandom(end);\n  }\n\n  if (stringFilter) {\n    a = [start, end];\n    stringFilter(a, target, prop); //pass an array with the starting and ending values and let the filter do whatever it needs to the values.\n\n    start = a[0];\n    end = a[1];\n  }\n\n  startNums = start.match(_complexStringNumExp) || [];\n\n  while (result = _complexStringNumExp.exec(end)) {\n    endNum = result[0];\n    chunk = end.substring(index, result.index);\n\n    if (color) {\n      color = (color + 1) % 5;\n    } else if (chunk.substr(-5) === \"rgba(\") {\n      color = 1;\n    }\n\n    if (endNum !== startNums[matchIndex++]) {\n      startNum = parseFloat(startNums[matchIndex - 1]) || 0; //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n      pt._pt = {\n        _next: pt._pt,\n        p: chunk || matchIndex === 1 ? chunk : \",\",\n        //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n        s: startNum,\n        c: endNum.charAt(1) === \"=\" ? parseFloat(endNum.substr(2)) * (endNum.charAt(0) === \"-\" ? -1 : 1) : parseFloat(endNum) - startNum,\n        m: color && color < 4 ? Math.round : 0\n      };\n      index = _complexStringNumExp.lastIndex;\n    }\n  }\n\n  pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n\n  pt.fp = funcParam;\n\n  if (_relExp.test(end) || hasRandom) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _addPropTween = function _addPropTween(target, prop, start, end, index, targets, modifier, stringFilter, funcParam) {\n  _isFunction(end) && (end = end(index || 0, target, targets));\n  var currentValue = target[prop],\n      parsedStart = start !== \"get\" ? start : !_isFunction(currentValue) ? currentValue : funcParam ? target[prop.indexOf(\"set\") || !_isFunction(target[\"get\" + prop.substr(3)]) ? prop : \"get\" + prop.substr(3)](funcParam) : target[prop](),\n      setter = !_isFunction(currentValue) ? _setterPlain : funcParam ? _setterFuncWithParam : _setterFunc,\n      pt;\n\n  if (_isString(end)) {\n    if (~end.indexOf(\"random(\")) {\n      end = _replaceRandom(end);\n    }\n\n    if (end.charAt(1) === \"=\") {\n      pt = parseFloat(parsedStart) + parseFloat(end.substr(2)) * (end.charAt(0) === \"-\" ? -1 : 1) + (getUnit(parsedStart) || 0);\n\n      if (pt || pt === 0) {\n        // to avoid isNaN, like if someone passes in a value like \"!= whatever\"\n        end = pt;\n      }\n    }\n  }\n\n  if (parsedStart !== end) {\n    if (!isNaN(parsedStart * end) && end !== \"\") {\n      // fun fact: any number multiplied by \"\" is evaluated as the number 0!\n      pt = new PropTween(this._pt, target, prop, +parsedStart || 0, end - (parsedStart || 0), typeof currentValue === \"boolean\" ? _renderBoolean : _renderPlain, 0, setter);\n      funcParam && (pt.fp = funcParam);\n      modifier && pt.modifier(modifier, this, target);\n      return this._pt = pt;\n    }\n\n    !currentValue && !(prop in target) && _missingPlugin(prop, end);\n    return _addComplexStringPropTween.call(this, target, prop, parsedStart, end, setter, stringFilter || _config.stringFilter, funcParam);\n  }\n},\n    //creates a copy of the vars object and processes any function-based values (putting the resulting values directly into the copy) as well as strings with \"random()\" in them. It does NOT process relative values.\n_processVars = function _processVars(vars, index, target, targets, tween) {\n  _isFunction(vars) && (vars = _parseFuncOrString(vars, tween, index, target, targets));\n\n  if (!_isObject(vars) || vars.style && vars.nodeType || _isArray(vars) || _isTypedArray(vars)) {\n    return _isString(vars) ? _parseFuncOrString(vars, tween, index, target, targets) : vars;\n  }\n\n  var copy = {},\n      p;\n\n  for (p in vars) {\n    copy[p] = _parseFuncOrString(vars[p], tween, index, target, targets);\n  }\n\n  return copy;\n},\n    _checkPlugin = function _checkPlugin(property, vars, tween, index, target, targets) {\n  var plugin, pt, ptLookup, i;\n\n  if (_plugins[property] && (plugin = new _plugins[property]()).init(target, plugin.rawVars ? vars[property] : _processVars(vars[property], index, target, targets, tween), tween, index, targets) !== false) {\n    tween._pt = pt = new PropTween(tween._pt, target, property, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n    if (tween !== _quickTween) {\n      ptLookup = tween._ptLookup[tween._targets.indexOf(target)]; //note: we can't use tween._ptLookup[index] because for staggered tweens, the index from the fullTargets array won't match what it is in each individual tween that spawns from the stagger.\n\n      i = plugin._props.length;\n\n      while (i--) {\n        ptLookup[plugin._props[i]] = pt;\n      }\n    }\n  }\n\n  return plugin;\n},\n    _overwritingTween,\n    //store a reference temporarily so we can avoid overwriting itself.\n_initTween = function _initTween(tween, time) {\n  var vars = tween.vars,\n      ease = vars.ease,\n      startAt = vars.startAt,\n      immediateRender = vars.immediateRender,\n      lazy = vars.lazy,\n      onUpdate = vars.onUpdate,\n      onUpdateParams = vars.onUpdateParams,\n      callbackScope = vars.callbackScope,\n      runBackwards = vars.runBackwards,\n      yoyoEase = vars.yoyoEase,\n      keyframes = vars.keyframes,\n      autoRevert = vars.autoRevert,\n      dur = tween._dur,\n      prevStartAt = tween._startAt,\n      targets = tween._targets,\n      parent = tween.parent,\n      fullTargets = parent && parent.data === \"nested\" ? parent.parent._targets : targets,\n      autoOverwrite = tween._overwrite === \"auto\" && !_suppressOverwrites,\n      tl = tween.timeline,\n      cleanVars,\n      i,\n      p,\n      pt,\n      target,\n      hasPriority,\n      gsData,\n      harness,\n      plugin,\n      ptLookup,\n      index,\n      harnessVars,\n      overwritten;\n  tl && (!keyframes || !ease) && (ease = \"none\");\n  tween._ease = _parseEase(ease, _defaults.ease);\n  tween._yEase = yoyoEase ? _invertEase(_parseEase(yoyoEase === true ? ease : yoyoEase, _defaults.ease)) : 0;\n\n  if (yoyoEase && tween._yoyo && !tween._repeat) {\n    //there must have been a parent timeline with yoyo:true that is currently in its yoyo phase, so flip the eases.\n    yoyoEase = tween._yEase;\n    tween._yEase = tween._ease;\n    tween._ease = yoyoEase;\n  }\n\n  tween._from = !tl && !!vars.runBackwards; //nested timelines should never run backwards - the backwards-ness is in the child tweens.\n\n  if (!tl) {\n    //if there's an internal timeline, skip all the parsing because we passed that task down the chain.\n    harness = targets[0] ? _getCache(targets[0]).harness : 0;\n    harnessVars = harness && vars[harness.prop]; //someone may need to specify CSS-specific values AND non-CSS values, like if the element has an \"x\" property plus it's a standard DOM element. We allow people to distinguish by wrapping plugin-specific stuff in a css:{} object for example.\n\n    cleanVars = _copyExcluding(vars, _reservedProps);\n    prevStartAt && prevStartAt.render(-1, true).kill();\n\n    if (startAt) {\n      _removeFromParent(tween._startAt = Tween.set(targets, _setDefaults({\n        data: \"isStart\",\n        overwrite: false,\n        parent: parent,\n        immediateRender: true,\n        lazy: _isNotFalse(lazy),\n        startAt: null,\n        delay: 0,\n        onUpdate: onUpdate,\n        onUpdateParams: onUpdateParams,\n        callbackScope: callbackScope,\n        stagger: 0\n      }, startAt))); //copy the properties/values into a new object to avoid collisions, like var to = {x:0}, from = {x:500}; timeline.fromTo(e, from, to).fromTo(e, to, from);\n\n\n      time < 0 && !immediateRender && !autoRevert && tween._startAt.render(-1, true); // rare edge case, like if a render is forced in the negative direction of a non-initted tween.\n\n      if (immediateRender) {\n        time > 0 && !autoRevert && (tween._startAt = 0); //tweens that render immediately (like most from() and fromTo() tweens) shouldn't revert when their parent timeline's playhead goes backward past the startTime because the initial render could have happened anytime and it shouldn't be directly correlated to this tween's startTime. Imagine setting up a complex animation where the beginning states of various objects are rendered immediately but the tween doesn't happen for quite some time - if we revert to the starting values as soon as the playhead goes backward past the tween's startTime, it will throw things off visually. Reversion should only happen in Timeline instances where immediateRender was false or when autoRevert is explicitly set to true.\n\n        if (dur && time <= 0) {\n          time && (tween._zTime = time);\n          return; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a Timeline, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\n        } // if (time > 0) {\n        // \tautoRevert || (tween._startAt = 0); //tweens that render immediately (like most from() and fromTo() tweens) shouldn't revert when their parent timeline's playhead goes backward past the startTime because the initial render could have happened anytime and it shouldn't be directly correlated to this tween's startTime. Imagine setting up a complex animation where the beginning states of various objects are rendered immediately but the tween doesn't happen for quite some time - if we revert to the starting values as soon as the playhead goes backward past the tween's startTime, it will throw things off visually. Reversion should only happen in Timeline instances where immediateRender was false or when autoRevert is explicitly set to true.\n        // } else if (dur && !(time < 0 && prevStartAt)) {\n        // \ttime && (tween._zTime = time);\n        // \treturn; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a Timeline, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\n        // }\n\n      } else if (autoRevert === false) {\n        tween._startAt = 0;\n      }\n    } else if (runBackwards && dur) {\n      //from() tweens must be handled uniquely: their beginning values must be rendered but we don't want overwriting to occur yet (when time is still 0). Wait until the tween actually begins before doing all the routines like overwriting. At that time, we should render at the END of the tween to ensure that things initialize correctly (remember, from() tweens go backwards)\n      if (prevStartAt) {\n        !autoRevert && (tween._startAt = 0);\n      } else {\n        time && (immediateRender = false); //in rare cases (like if a from() tween runs and then is invalidate()-ed), immediateRender could be true but the initial forced-render gets skipped, so there's no need to force the render in this context when the _time is greater than 0\n\n        p = _setDefaults({\n          overwrite: false,\n          data: \"isFromStart\",\n          //we tag the tween with as \"isFromStart\" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a \"from()\" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.\n          lazy: immediateRender && _isNotFalse(lazy),\n          immediateRender: immediateRender,\n          //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)\n          stagger: 0,\n          parent: parent //ensures that nested tweens that had a stagger are handled properly, like gsap.from(\".class\", {y:gsap.utils.wrap([-100,100])})\n\n        }, cleanVars);\n        harnessVars && (p[harness.prop] = harnessVars); // in case someone does something like .from(..., {css:{}})\n\n        _removeFromParent(tween._startAt = Tween.set(targets, p));\n\n        time < 0 && tween._startAt.render(-1, true); // rare edge case, like if a render is forced in the negative direction of a non-initted from() tween.\n\n        if (!immediateRender) {\n          _initTween(tween._startAt, _tinyNum); //ensures that the initial values are recorded\n\n        } else if (!time) {\n          return;\n        }\n      }\n    }\n\n    tween._pt = 0;\n    lazy = dur && _isNotFalse(lazy) || lazy && !dur;\n\n    for (i = 0; i < targets.length; i++) {\n      target = targets[i];\n      gsData = target._gsap || _harness(targets)[i]._gsap;\n      tween._ptLookup[i] = ptLookup = {};\n      _lazyLookup[gsData.id] && _lazyTweens.length && _lazyRender(); //if other tweens of the same target have recently initted but haven't rendered yet, we've got to force the render so that the starting values are correct (imagine populating a timeline with a bunch of sequential tweens and then jumping to the end)\n\n      index = fullTargets === targets ? i : fullTargets.indexOf(target);\n\n      if (harness && (plugin = new harness()).init(target, harnessVars || cleanVars, tween, index, fullTargets) !== false) {\n        tween._pt = pt = new PropTween(tween._pt, target, plugin.name, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n        plugin._props.forEach(function (name) {\n          ptLookup[name] = pt;\n        });\n\n        plugin.priority && (hasPriority = 1);\n      }\n\n      if (!harness || harnessVars) {\n        for (p in cleanVars) {\n          if (_plugins[p] && (plugin = _checkPlugin(p, cleanVars, tween, index, target, fullTargets))) {\n            plugin.priority && (hasPriority = 1);\n          } else {\n            ptLookup[p] = pt = _addPropTween.call(tween, target, p, \"get\", cleanVars[p], index, fullTargets, 0, vars.stringFilter);\n          }\n        }\n      }\n\n      tween._op && tween._op[i] && tween.kill(target, tween._op[i]);\n\n      if (autoOverwrite && tween._pt) {\n        _overwritingTween = tween;\n\n        _globalTimeline.killTweensOf(target, ptLookup, tween.globalTime(0)); //Also make sure the overwriting doesn't overwrite THIS tween!!!\n\n\n        overwritten = !tween.parent;\n        _overwritingTween = 0;\n      }\n\n      tween._pt && lazy && (_lazyLookup[gsData.id] = 1);\n    }\n\n    hasPriority && _sortPropTweensByPriority(tween);\n    tween._onInit && tween._onInit(tween); //plugins like RoundProps must wait until ALL of the PropTweens are instantiated. In the plugin's init() function, it sets the _onInit on the tween instance. May not be pretty/intuitive, but it's fast and keeps file size down.\n  }\n\n  tween._onUpdate = onUpdate;\n  tween._initted = (!tween._op || tween._pt) && !overwritten; // if overwrittenProps resulted in the entire tween being killed, do NOT flag it as initted or else it may render for one tick.\n},\n    _addAliasesToVars = function _addAliasesToVars(targets, vars) {\n  var harness = targets[0] ? _getCache(targets[0]).harness : 0,\n      propertyAliases = harness && harness.aliases,\n      copy,\n      p,\n      i,\n      aliases;\n\n  if (!propertyAliases) {\n    return vars;\n  }\n\n  copy = _merge({}, vars);\n\n  for (p in propertyAliases) {\n    if (p in copy) {\n      aliases = propertyAliases[p].split(\",\");\n      i = aliases.length;\n\n      while (i--) {\n        copy[aliases[i]] = copy[p];\n      }\n    }\n  }\n\n  return copy;\n},\n    _parseFuncOrString = function _parseFuncOrString(value, tween, i, target, targets) {\n  return _isFunction(value) ? value.call(tween, i, target, targets) : _isString(value) && ~value.indexOf(\"random(\") ? _replaceRandom(value) : value;\n},\n    _staggerTweenProps = _callbackNames + \"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase\",\n    _staggerPropsToSkip = (_staggerTweenProps + \",id,stagger,delay,duration,paused,scrollTrigger\").split(\",\");\n/*\n * --------------------------------------------------------------------------------------\n * TWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var Tween = /*#__PURE__*/function (_Animation2) {\n  _inheritsLoose(Tween, _Animation2);\n\n  function Tween(targets, vars, position, skipInherit) {\n    var _this3;\n\n    if (typeof vars === \"number\") {\n      position.duration = vars;\n      vars = position;\n      position = null;\n    }\n\n    _this3 = _Animation2.call(this, skipInherit ? vars : _inheritDefaults(vars)) || this;\n    var _this3$vars = _this3.vars,\n        duration = _this3$vars.duration,\n        delay = _this3$vars.delay,\n        immediateRender = _this3$vars.immediateRender,\n        stagger = _this3$vars.stagger,\n        overwrite = _this3$vars.overwrite,\n        keyframes = _this3$vars.keyframes,\n        defaults = _this3$vars.defaults,\n        scrollTrigger = _this3$vars.scrollTrigger,\n        yoyoEase = _this3$vars.yoyoEase,\n        parent = vars.parent || _globalTimeline,\n        parsedTargets = (_isArray(targets) || _isTypedArray(targets) ? _isNumber(targets[0]) : \"length\" in vars) ? [targets] : toArray(targets),\n        tl,\n        i,\n        copy,\n        l,\n        p,\n        curTarget,\n        staggerFunc,\n        staggerVarsToMerge;\n    _this3._targets = parsedTargets.length ? _harness(parsedTargets) : _warn(\"GSAP target \" + targets + \" not found. https://greensock.com\", !_config.nullTargetWarn) || [];\n    _this3._ptLookup = []; //PropTween lookup. An array containing an object for each target, having keys for each tweening property\n\n    _this3._overwrite = overwrite;\n\n    if (keyframes || stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\n      vars = _this3.vars;\n      tl = _this3.timeline = new Timeline({\n        data: \"nested\",\n        defaults: defaults || {}\n      });\n      tl.kill();\n      tl.parent = tl._dp = _assertThisInitialized(_this3);\n      tl._start = 0;\n\n      if (keyframes) {\n        _setDefaults(tl.vars.defaults, {\n          ease: \"none\"\n        });\n\n        stagger ? parsedTargets.forEach(function (t, i) {\n          return keyframes.forEach(function (frame, j) {\n            return tl.to(t, frame, j ? \">\" : i * stagger);\n          });\n        }) : keyframes.forEach(function (frame) {\n          return tl.to(parsedTargets, frame, \">\");\n        });\n      } else {\n        l = parsedTargets.length;\n        staggerFunc = stagger ? distribute(stagger) : _emptyFunc;\n\n        if (_isObject(stagger)) {\n          //users can pass in callbacks like onStart/onComplete in the stagger object. These should fire with each individual tween.\n          for (p in stagger) {\n            if (~_staggerTweenProps.indexOf(p)) {\n              staggerVarsToMerge || (staggerVarsToMerge = {});\n              staggerVarsToMerge[p] = stagger[p];\n            }\n          }\n        }\n\n        for (i = 0; i < l; i++) {\n          copy = {};\n\n          for (p in vars) {\n            if (_staggerPropsToSkip.indexOf(p) < 0) {\n              copy[p] = vars[p];\n            }\n          }\n\n          copy.stagger = 0;\n          yoyoEase && (copy.yoyoEase = yoyoEase);\n          staggerVarsToMerge && _merge(copy, staggerVarsToMerge);\n          curTarget = parsedTargets[i]; //don't just copy duration or delay because if they're a string or function, we'd end up in an infinite loop because _isFuncOrString() would evaluate as true in the child tweens, entering this loop, etc. So we parse the value straight from vars and default to 0.\n\n          copy.duration = +_parseFuncOrString(duration, _assertThisInitialized(_this3), i, curTarget, parsedTargets);\n          copy.delay = (+_parseFuncOrString(delay, _assertThisInitialized(_this3), i, curTarget, parsedTargets) || 0) - _this3._delay;\n\n          if (!stagger && l === 1 && copy.delay) {\n            // if someone does delay:\"random(1, 5)\", repeat:-1, for example, the delay shouldn't be inside the repeat.\n            _this3._delay = delay = copy.delay;\n            _this3._start += delay;\n            copy.delay = 0;\n          }\n\n          tl.to(curTarget, copy, staggerFunc(i, curTarget, parsedTargets));\n        }\n\n        tl.duration() ? duration = delay = 0 : _this3.timeline = 0; // if the timeline's duration is 0, we don't need a timeline internally!\n      }\n\n      duration || _this3.duration(duration = tl.duration());\n    } else {\n      _this3.timeline = 0; //speed optimization, faster lookups (no going up the prototype chain)\n    }\n\n    if (overwrite === true && !_suppressOverwrites) {\n      _overwritingTween = _assertThisInitialized(_this3);\n\n      _globalTimeline.killTweensOf(parsedTargets);\n\n      _overwritingTween = 0;\n    }\n\n    _addToTimeline(parent, _assertThisInitialized(_this3), position);\n\n    vars.reversed && _this3.reverse();\n    vars.paused && _this3.paused(true);\n\n    if (immediateRender || !duration && !keyframes && _this3._start === _round(parent._time) && _isNotFalse(immediateRender) && _hasNoPausedAncestors(_assertThisInitialized(_this3)) && parent.data !== \"nested\") {\n      _this3._tTime = -_tinyNum; //forces a render without having to set the render() \"force\" parameter to true because we want to allow lazying by default (using the \"force\" parameter always forces an immediate full render)\n\n      _this3.render(Math.max(0, -delay)); //in case delay is negative\n\n    }\n\n    scrollTrigger && _scrollTrigger(_assertThisInitialized(_this3), scrollTrigger);\n    return _this3;\n  }\n\n  var _proto3 = Tween.prototype;\n\n  _proto3.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._tDur,\n        dur = this._dur,\n        tTime = totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        time,\n        pt,\n        iteration,\n        cycleDuration,\n        prevIteration,\n        isYoyo,\n        ratio,\n        timeline,\n        yoyoEase;\n\n    if (!dur) {\n      _renderZeroDurationTween(this, totalTime, suppressEvents, force);\n    } else if (tTime !== this._tTime || !totalTime || force || !this._initted && this._tTime || this._startAt && this._zTime < 0 !== totalTime < 0) {\n      //this senses if we're crossing over the start time, in which case we must record _zTime and force the render, but we do it in this lengthy conditional way for performance reasons (usually we can skip the calculations): this._initted && (this._zTime < 0) !== (totalTime < 0)\n      time = tTime;\n      timeline = this.timeline;\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        cycleDuration = dur + this._rDelay;\n\n        if (this._repeat < -1 && totalTime < 0) {\n          return this.totalTime(cycleDuration * 100 + totalTime, suppressEvents, force);\n        }\n\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (tTime === tDur) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          iteration = this._repeat;\n          time = dur;\n        } else {\n          iteration = ~~(tTime / cycleDuration);\n\n          if (iteration && iteration === tTime / cycleDuration) {\n            time = dur;\n            iteration--;\n          }\n\n          time > dur && (time = dur);\n        }\n\n        isYoyo = this._yoyo && iteration & 1;\n\n        if (isYoyo) {\n          yoyoEase = this._yEase;\n          time = dur - time;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n\n        if (time === prevTime && !force && this._initted) {\n          //could be during the repeatDelay part. No need to render and fire callbacks.\n          return this;\n        }\n\n        if (iteration !== prevIteration) {\n          timeline && this._yEase && _propagateYoyoEase(timeline, isYoyo); //repeatRefresh functionality\n\n          if (this.vars.repeatRefresh && !isYoyo && !this._lock) {\n            this._lock = force = 1; //force, otherwise if lazy is true, the _attemptInitTween() will return and we'll jump out and get caught bouncing on each tick.\n\n            this.render(_round(cycleDuration * iteration), true).invalidate()._lock = 0;\n          }\n        }\n      }\n\n      if (!this._initted) {\n        if (_attemptInitTween(this, totalTime < 0 ? totalTime : time, force, suppressEvents)) {\n          this._tTime = 0; // in constructor if immediateRender is true, we set _tTime to -_tinyNum to have the playhead cross the starting point but we can't leave _tTime as a negative number.\n\n          return this;\n        }\n\n        if (dur !== this._dur) {\n          // while initting, a plugin like InertiaPlugin might alter the duration, so rerun from the start to ensure everything renders as it should.\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n\n      if (!this._act && this._ts) {\n        this._act = 1; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n        this._lazy = 0;\n      }\n\n      this.ratio = ratio = (yoyoEase || this._ease)(time / dur);\n\n      if (this._from) {\n        this.ratio = ratio = 1 - ratio;\n      }\n\n      if (time && !prevTime && !suppressEvents) {\n        _callback(this, \"onStart\");\n\n        if (this._tTime !== tTime) {\n          // in case the onStart triggered a render at a different spot, eject. Like if someone did animation.pause(0.5) or something inside the onStart.\n          return this;\n        }\n      }\n\n      pt = this._pt;\n\n      while (pt) {\n        pt.r(ratio, pt.d);\n        pt = pt._next;\n      }\n\n      timeline && timeline.render(totalTime < 0 ? totalTime : !time && isYoyo ? -_tinyNum : timeline._dur * ratio, suppressEvents, force) || this._startAt && (this._zTime = totalTime);\n\n      if (this._onUpdate && !suppressEvents) {\n        totalTime < 0 && this._startAt && this._startAt.render(totalTime, true, force); //note: for performance reasons, we tuck this conditional logic inside less traveled areas (most tweens don't have an onUpdate). We'd just have it at the end before the onComplete, but the values should be updated before any onUpdate is called, so we ALSO put it here and then if it's not called, we do so later near the onComplete.\n\n        _callback(this, \"onUpdate\");\n      }\n\n      this._repeat && iteration !== prevIteration && this.vars.onRepeat && !suppressEvents && this.parent && _callback(this, \"onRepeat\");\n\n      if ((tTime === this._tDur || !tTime) && this._tTime === tTime) {\n        totalTime < 0 && this._startAt && !this._onUpdate && this._startAt.render(totalTime, true, true);\n        (totalTime || !dur) && (tTime === this._tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if we're rendering at exactly a time of 0, as there could be autoRevert values that should get set on the next tick (if the playhead goes backward beyond the startTime, negative totalTime). Don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime)) {\n          // if prevTime and tTime are zero, we shouldn't fire the onReverseComplete. This could happen if you gsap.to(... {paused:true}).play();\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto3.targets = function targets() {\n    return this._targets;\n  };\n\n  _proto3.invalidate = function invalidate() {\n    this._pt = this._op = this._startAt = this._onUpdate = this._lazy = this.ratio = 0;\n    this._ptLookup = [];\n    this.timeline && this.timeline.invalidate();\n    return _Animation2.prototype.invalidate.call(this);\n  };\n\n  _proto3.kill = function kill(targets, vars) {\n    if (vars === void 0) {\n      vars = \"all\";\n    }\n\n    if (!targets && (!vars || vars === \"all\")) {\n      this._lazy = this._pt = 0;\n      return this.parent ? _interrupt(this) : this;\n    }\n\n    if (this.timeline) {\n      var tDur = this.timeline.totalDuration();\n      this.timeline.killTweensOf(targets, vars, _overwritingTween && _overwritingTween.vars.overwrite !== true)._first || _interrupt(this); // if nothing is left tweening, interrupt.\n\n      this.parent && tDur !== this.timeline.totalDuration() && _setDuration(this, this._dur * this.timeline._tDur / tDur, 0, 1); // if a nested tween is killed that changes the duration, it should affect this tween's duration. We must use the ratio, though, because sometimes the internal timeline is stretched like for keyframes where they don't all add up to whatever the parent tween's duration was set to.\n\n      return this;\n    }\n\n    var parsedTargets = this._targets,\n        killingTargets = targets ? toArray(targets) : parsedTargets,\n        propTweenLookup = this._ptLookup,\n        firstPT = this._pt,\n        overwrittenProps,\n        curLookup,\n        curOverwriteProps,\n        props,\n        p,\n        pt,\n        i;\n\n    if ((!vars || vars === \"all\") && _arraysMatch(parsedTargets, killingTargets)) {\n      vars === \"all\" && (this._pt = 0);\n      return _interrupt(this);\n    }\n\n    overwrittenProps = this._op = this._op || [];\n\n    if (vars !== \"all\") {\n      //so people can pass in a comma-delimited list of property names\n      if (_isString(vars)) {\n        p = {};\n\n        _forEachName(vars, function (name) {\n          return p[name] = 1;\n        });\n\n        vars = p;\n      }\n\n      vars = _addAliasesToVars(parsedTargets, vars);\n    }\n\n    i = parsedTargets.length;\n\n    while (i--) {\n      if (~killingTargets.indexOf(parsedTargets[i])) {\n        curLookup = propTweenLookup[i];\n\n        if (vars === \"all\") {\n          overwrittenProps[i] = vars;\n          props = curLookup;\n          curOverwriteProps = {};\n        } else {\n          curOverwriteProps = overwrittenProps[i] = overwrittenProps[i] || {};\n          props = vars;\n        }\n\n        for (p in props) {\n          pt = curLookup && curLookup[p];\n\n          if (pt) {\n            if (!(\"kill\" in pt.d) || pt.d.kill(p) === true) {\n              _removeLinkedListItem(this, pt, \"_pt\");\n            }\n\n            delete curLookup[p];\n          }\n\n          if (curOverwriteProps !== \"all\") {\n            curOverwriteProps[p] = 1;\n          }\n        }\n      }\n    }\n\n    this._initted && !this._pt && firstPT && _interrupt(this); //if all tweening properties are killed, kill the tween. Without this line, if there's a tween with multiple targets and then you killTweensOf() each target individually, the tween would technically still remain active and fire its onComplete even though there aren't any more properties tweening.\n\n    return this;\n  };\n\n  Tween.to = function to(targets, vars) {\n    return new Tween(targets, vars, arguments[2]);\n  };\n\n  Tween.from = function from(targets, vars) {\n    return _createTweenType(1, arguments);\n  };\n\n  Tween.delayedCall = function delayedCall(delay, callback, params, scope) {\n    return new Tween(callback, 0, {\n      immediateRender: false,\n      lazy: false,\n      overwrite: false,\n      delay: delay,\n      onComplete: callback,\n      onReverseComplete: callback,\n      onCompleteParams: params,\n      onReverseCompleteParams: params,\n      callbackScope: scope\n    });\n  };\n\n  Tween.fromTo = function fromTo(targets, fromVars, toVars) {\n    return _createTweenType(2, arguments);\n  };\n\n  Tween.set = function set(targets, vars) {\n    vars.duration = 0;\n    vars.repeatDelay || (vars.repeat = 0);\n    return new Tween(targets, vars);\n  };\n\n  Tween.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    return _globalTimeline.killTweensOf(targets, props, onlyActive);\n  };\n\n  return Tween;\n}(Animation);\n\n_setDefaults(Tween.prototype, {\n  _targets: [],\n  _lazy: 0,\n  _startAt: 0,\n  _op: 0,\n  _onInit: 0\n}); //add the pertinent timeline methods to Tween instances so that users can chain conveniently and create a timeline automatically. (removed due to concerns that it'd ultimately add to more confusion especially for beginners)\n// _forEachName(\"to,from,fromTo,set,call,add,addLabel,addPause\", name => {\n// \tTween.prototype[name] = function() {\n// \t\tlet tl = new Timeline();\n// \t\treturn _addToTimeline(tl, this)[name].apply(tl, toArray(arguments));\n// \t}\n// });\n//for backward compatibility. Leverage the timeline calls.\n\n\n_forEachName(\"staggerTo,staggerFrom,staggerFromTo\", function (name) {\n  Tween[name] = function () {\n    var tl = new Timeline(),\n        params = _slice.call(arguments, 0);\n\n    params.splice(name === \"staggerFromTo\" ? 5 : 4, 0, 0);\n    return tl[name].apply(tl, params);\n  };\n});\n/*\n * --------------------------------------------------------------------------------------\n * PROPTWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nvar _setterPlain = function _setterPlain(target, property, value) {\n  return target[property] = value;\n},\n    _setterFunc = function _setterFunc(target, property, value) {\n  return target[property](value);\n},\n    _setterFuncWithParam = function _setterFuncWithParam(target, property, value, data) {\n  return target[property](data.fp, value);\n},\n    _setterAttribute = function _setterAttribute(target, property, value) {\n  return target.setAttribute(property, value);\n},\n    _getSetter = function _getSetter(target, property) {\n  return _isFunction(target[property]) ? _setterFunc : _isUndefined(target[property]) && target.setAttribute ? _setterAttribute : _setterPlain;\n},\n    _renderPlain = function _renderPlain(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 1000000) / 1000000, data);\n},\n    _renderBoolean = function _renderBoolean(ratio, data) {\n  return data.set(data.t, data.p, !!(data.s + data.c * ratio), data);\n},\n    _renderComplexString = function _renderComplexString(ratio, data) {\n  var pt = data._pt,\n      s = \"\";\n\n  if (!ratio && data.b) {\n    //b = beginning string\n    s = data.b;\n  } else if (ratio === 1 && data.e) {\n    //e = ending string\n    s = data.e;\n  } else {\n    while (pt) {\n      s = pt.p + (pt.m ? pt.m(pt.s + pt.c * ratio) : Math.round((pt.s + pt.c * ratio) * 10000) / 10000) + s; //we use the \"p\" property for the text inbetween (like a suffix). And in the context of a complex string, the modifier (m) is typically just Math.round(), like for RGB colors.\n\n      pt = pt._next;\n    }\n\n    s += data.c; //we use the \"c\" of the PropTween to store the final chunk of non-numeric text.\n  }\n\n  data.set(data.t, data.p, s, data);\n},\n    _renderPropTweens = function _renderPropTweens(ratio, data) {\n  var pt = data._pt;\n\n  while (pt) {\n    pt.r(ratio, pt.d);\n    pt = pt._next;\n  }\n},\n    _addPluginModifier = function _addPluginModifier(modifier, tween, target, property) {\n  var pt = this._pt,\n      next;\n\n  while (pt) {\n    next = pt._next;\n    pt.p === property && pt.modifier(modifier, tween, target);\n    pt = next;\n  }\n},\n    _killPropTweensOf = function _killPropTweensOf(property) {\n  var pt = this._pt,\n      hasNonDependentRemaining,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property && !pt.op || pt.op === property) {\n      _removeLinkedListItem(this, pt, \"_pt\");\n    } else if (!pt.dep) {\n      hasNonDependentRemaining = 1;\n    }\n\n    pt = next;\n  }\n\n  return !hasNonDependentRemaining;\n},\n    _setterWithModifier = function _setterWithModifier(target, property, value, data) {\n  data.mSet(target, property, data.m.call(data.tween, value, data.mt), data);\n},\n    _sortPropTweensByPriority = function _sortPropTweensByPriority(parent) {\n  var pt = parent._pt,\n      next,\n      pt2,\n      first,\n      last; //sorts the PropTween linked list in order of priority because some plugins need to do their work after ALL of the PropTweens were created (like RoundPropsPlugin and ModifiersPlugin)\n\n  while (pt) {\n    next = pt._next;\n    pt2 = first;\n\n    while (pt2 && pt2.pr > pt.pr) {\n      pt2 = pt2._next;\n    }\n\n    if (pt._prev = pt2 ? pt2._prev : last) {\n      pt._prev._next = pt;\n    } else {\n      first = pt;\n    }\n\n    if (pt._next = pt2) {\n      pt2._prev = pt;\n    } else {\n      last = pt;\n    }\n\n    pt = next;\n  }\n\n  parent._pt = first;\n}; //PropTween key: t = target, p = prop, r = renderer, d = data, s = start, c = change, op = overwriteProperty (ONLY populated when it's different than p), pr = priority, _next/_prev for the linked list siblings, set = setter, m = modifier, mSet = modifierSetter (the original setter, before a modifier was added)\n\n\nexport var PropTween = /*#__PURE__*/function () {\n  function PropTween(next, target, prop, start, change, renderer, data, setter, priority) {\n    this.t = target;\n    this.s = start;\n    this.c = change;\n    this.p = prop;\n    this.r = renderer || _renderPlain;\n    this.d = data || this;\n    this.set = setter || _setterPlain;\n    this.pr = priority || 0;\n    this._next = next;\n\n    if (next) {\n      next._prev = this;\n    }\n  }\n\n  var _proto4 = PropTween.prototype;\n\n  _proto4.modifier = function modifier(func, tween, target) {\n    this.mSet = this.mSet || this.set; //in case it was already set (a PropTween can only have one modifier)\n\n    this.set = _setterWithModifier;\n    this.m = func;\n    this.mt = target; //modifier target\n\n    this.tween = tween;\n  };\n\n  return PropTween;\n}(); //Initialization tasks\n\n_forEachName(_callbackNames + \"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger\", function (name) {\n  return _reservedProps[name] = 1;\n});\n\n_globals.TweenMax = _globals.TweenLite = Tween;\n_globals.TimelineLite = _globals.TimelineMax = Timeline;\n_globalTimeline = new Timeline({\n  sortChildren: false,\n  defaults: _defaults,\n  autoRemoveChildren: true,\n  id: \"root\",\n  smoothChildTiming: true\n});\n_config.stringFilter = _colorStringFilter;\n/*\n * --------------------------------------------------------------------------------------\n * GSAP\n * --------------------------------------------------------------------------------------\n */\n\nvar _gsap = {\n  registerPlugin: function registerPlugin() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args.forEach(function (config) {\n      return _createPlugin(config);\n    });\n  },\n  timeline: function timeline(vars) {\n    return new Timeline(vars);\n  },\n  getTweensOf: function getTweensOf(targets, onlyActive) {\n    return _globalTimeline.getTweensOf(targets, onlyActive);\n  },\n  getProperty: function getProperty(target, property, unit, uncache) {\n    _isString(target) && (target = toArray(target)[0]); //in case selector text or an array is passed in\n\n    var getter = _getCache(target || {}).get,\n        format = unit ? _passThrough : _numericIfPossible;\n\n    unit === \"native\" && (unit = \"\");\n    return !target ? target : !property ? function (property, unit, uncache) {\n      return format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n    } : format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n  },\n  quickSetter: function quickSetter(target, property, unit) {\n    target = toArray(target);\n\n    if (target.length > 1) {\n      var setters = target.map(function (t) {\n        return gsap.quickSetter(t, property, unit);\n      }),\n          l = setters.length;\n      return function (value) {\n        var i = l;\n\n        while (i--) {\n          setters[i](value);\n        }\n      };\n    }\n\n    target = target[0] || {};\n\n    var Plugin = _plugins[property],\n        cache = _getCache(target),\n        p = cache.harness && (cache.harness.aliases || {})[property] || property,\n        // in case it's an alias, like \"rotate\" for \"rotation\".\n    setter = Plugin ? function (value) {\n      var p = new Plugin();\n      _quickTween._pt = 0;\n      p.init(target, unit ? value + unit : value, _quickTween, 0, [target]);\n      p.render(1, p);\n      _quickTween._pt && _renderPropTweens(1, _quickTween);\n    } : cache.set(target, p);\n\n    return Plugin ? setter : function (value) {\n      return setter(target, p, unit ? value + unit : value, cache, 1);\n    };\n  },\n  isTweening: function isTweening(targets) {\n    return _globalTimeline.getTweensOf(targets, true).length > 0;\n  },\n  defaults: function defaults(value) {\n    value && value.ease && (value.ease = _parseEase(value.ease, _defaults.ease));\n    return _mergeDeep(_defaults, value || {});\n  },\n  config: function config(value) {\n    return _mergeDeep(_config, value || {});\n  },\n  registerEffect: function registerEffect(_ref3) {\n    var name = _ref3.name,\n        effect = _ref3.effect,\n        plugins = _ref3.plugins,\n        defaults = _ref3.defaults,\n        extendTimeline = _ref3.extendTimeline;\n    (plugins || \"\").split(\",\").forEach(function (pluginName) {\n      return pluginName && !_plugins[pluginName] && !_globals[pluginName] && _warn(name + \" effect requires \" + pluginName + \" plugin.\");\n    });\n\n    _effects[name] = function (targets, vars, tl) {\n      return effect(toArray(targets), _setDefaults(vars || {}, defaults), tl);\n    };\n\n    if (extendTimeline) {\n      Timeline.prototype[name] = function (targets, vars, position) {\n        return this.add(_effects[name](targets, _isObject(vars) ? vars : (position = vars) && {}, this), position);\n      };\n    }\n  },\n  registerEase: function registerEase(name, ease) {\n    _easeMap[name] = _parseEase(ease);\n  },\n  parseEase: function parseEase(ease, defaultEase) {\n    return arguments.length ? _parseEase(ease, defaultEase) : _easeMap;\n  },\n  getById: function getById(id) {\n    return _globalTimeline.getById(id);\n  },\n  exportRoot: function exportRoot(vars, includeDelayedCalls) {\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    var tl = new Timeline(vars),\n        child,\n        next;\n    tl.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);\n\n    _globalTimeline.remove(tl);\n\n    tl._dp = 0; //otherwise it'll get re-activated when adding children and be re-introduced into _globalTimeline's linked list (then added to itself).\n\n    tl._time = tl._tTime = _globalTimeline._time;\n    child = _globalTimeline._first;\n\n    while (child) {\n      next = child._next;\n\n      if (includeDelayedCalls || !(!child._dur && child instanceof Tween && child.vars.onComplete === child._targets[0])) {\n        _addToTimeline(tl, child, child._start - child._delay);\n      }\n\n      child = next;\n    }\n\n    _addToTimeline(_globalTimeline, tl, 0);\n\n    return tl;\n  },\n  utils: {\n    wrap: wrap,\n    wrapYoyo: wrapYoyo,\n    distribute: distribute,\n    random: random,\n    snap: snap,\n    normalize: normalize,\n    getUnit: getUnit,\n    clamp: clamp,\n    splitColor: splitColor,\n    toArray: toArray,\n    selector: selector,\n    mapRange: mapRange,\n    pipe: pipe,\n    unitize: unitize,\n    interpolate: interpolate,\n    shuffle: shuffle\n  },\n  install: _install,\n  effects: _effects,\n  ticker: _ticker,\n  updateRoot: Timeline.updateRoot,\n  plugins: _plugins,\n  globalTimeline: _globalTimeline,\n  core: {\n    PropTween: PropTween,\n    globals: _addGlobal,\n    Tween: Tween,\n    Timeline: Timeline,\n    Animation: Animation,\n    getCache: _getCache,\n    _removeLinkedListItem: _removeLinkedListItem,\n    suppressOverwrites: function suppressOverwrites(value) {\n      return _suppressOverwrites = value;\n    }\n  }\n};\n\n_forEachName(\"to,from,fromTo,delayedCall,set,killTweensOf\", function (name) {\n  return _gsap[name] = Tween[name];\n});\n\n_ticker.add(Timeline.updateRoot);\n\n_quickTween = _gsap.to({}, {\n  duration: 0\n}); // ---- EXTRA PLUGINS --------------------------------------------------------\n\nvar _getPluginPropTween = function _getPluginPropTween(plugin, prop) {\n  var pt = plugin._pt;\n\n  while (pt && pt.p !== prop && pt.op !== prop && pt.fp !== prop) {\n    pt = pt._next;\n  }\n\n  return pt;\n},\n    _addModifiers = function _addModifiers(tween, modifiers) {\n  var targets = tween._targets,\n      p,\n      i,\n      pt;\n\n  for (p in modifiers) {\n    i = targets.length;\n\n    while (i--) {\n      pt = tween._ptLookup[i][p];\n\n      if (pt && (pt = pt.d)) {\n        if (pt._pt) {\n          // is a plugin\n          pt = _getPluginPropTween(pt, p);\n        }\n\n        pt && pt.modifier && pt.modifier(modifiers[p], tween, targets[i], p);\n      }\n    }\n  }\n},\n    _buildModifierPlugin = function _buildModifierPlugin(name, modifier) {\n  return {\n    name: name,\n    rawVars: 1,\n    //don't pre-process function-based values or \"random()\" strings.\n    init: function init(target, vars, tween) {\n      tween._onInit = function (tween) {\n        var temp, p;\n\n        if (_isString(vars)) {\n          temp = {};\n\n          _forEachName(vars, function (name) {\n            return temp[name] = 1;\n          }); //if the user passes in a comma-delimited list of property names to roundProps, like \"x,y\", we round to whole numbers.\n\n\n          vars = temp;\n        }\n\n        if (modifier) {\n          temp = {};\n\n          for (p in vars) {\n            temp[p] = modifier(vars[p]);\n          }\n\n          vars = temp;\n        }\n\n        _addModifiers(tween, vars);\n      };\n    }\n  };\n}; //register core plugins\n\n\nexport var gsap = _gsap.registerPlugin({\n  name: \"attr\",\n  init: function init(target, vars, tween, index, targets) {\n    var p, pt;\n\n    for (p in vars) {\n      pt = this.add(target, \"setAttribute\", (target.getAttribute(p) || 0) + \"\", vars[p], index, targets, 0, 0, p);\n      pt && (pt.op = p);\n\n      this._props.push(p);\n    }\n  }\n}, {\n  name: \"endArray\",\n  init: function init(target, value) {\n    var i = value.length;\n\n    while (i--) {\n      this.add(target, i, target[i] || 0, value[i]);\n    }\n  }\n}, _buildModifierPlugin(\"roundProps\", _roundModifier), _buildModifierPlugin(\"modifiers\"), _buildModifierPlugin(\"snap\", snap)) || _gsap; //to prevent the core plugins from being dropped via aggressive tree shaking, we must include them in the variable declaration in this way.\n\nTween.version = Timeline.version = gsap.version = \"3.7.1\";\n_coreReady = 1;\n_windowExists() && _wake();\nvar Power0 = _easeMap.Power0,\n    Power1 = _easeMap.Power1,\n    Power2 = _easeMap.Power2,\n    Power3 = _easeMap.Power3,\n    Power4 = _easeMap.Power4,\n    Linear = _easeMap.Linear,\n    Quad = _easeMap.Quad,\n    Cubic = _easeMap.Cubic,\n    Quart = _easeMap.Quart,\n    Quint = _easeMap.Quint,\n    Strong = _easeMap.Strong,\n    Elastic = _easeMap.Elastic,\n    Back = _easeMap.Back,\n    SteppedEase = _easeMap.SteppedEase,\n    Bounce = _easeMap.Bounce,\n    Sine = _easeMap.Sine,\n    Expo = _easeMap.Expo,\n    Circ = _easeMap.Circ;\nexport { Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };\nexport { Tween as TweenMax, Tween as TweenLite, Timeline as TimelineMax, Timeline as TimelineLite, gsap as default, wrap, wrapYoyo, distribute, random, snap, normalize, getUnit, clamp, splitColor, toArray, selector, mapRange, pipe, unitize, interpolate, shuffle }; //export some internal methods/orojects for use in CSSPlugin so that we can externalize that file and allow custom builds that exclude it.\n\nexport { _getProperty, _numExp, _numWithUnitExp, _isString, _isUndefined, _renderComplexString, _relExp, _setDefaults, _removeLinkedListItem, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _replaceRandom, _checkPlugin, _plugins, _ticker, _config, _roundModifier, _round, _missingPlugin, _getSetter, _getCache, _colorExp };","/*!\n * CSSPlugin 3.7.1\n * https://greensock.com\n *\n * Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nimport { gsap, _getProperty, _numExp, _numWithUnitExp, getUnit, _isString, _isUndefined, _renderComplexString, _relExp, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _checkPlugin, _replaceRandom, _plugins, GSCache, PropTween, _config, _ticker, _round, _missingPlugin, _getSetter, _getCache, _colorExp, _setDefaults, _removeLinkedListItem //for the commented-out className feature.\n} from \"./gsap-core.js\";\n\nvar _win,\n    _doc,\n    _docElement,\n    _pluginInitted,\n    _tempDiv,\n    _tempDivStyler,\n    _recentSetterPlugin,\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _transformProps = {},\n    _RAD2DEG = 180 / Math.PI,\n    _DEG2RAD = Math.PI / 180,\n    _atan2 = Math.atan2,\n    _bigNum = 1e8,\n    _capsExp = /([A-Z])/g,\n    _horizontalExp = /(?:left|right|width|margin|padding|x)/i,\n    _complexExp = /[\\s,\\(]\\S/,\n    _propertyAliases = {\n  autoAlpha: \"opacity,visibility\",\n  scale: \"scaleX,scaleY\",\n  alpha: \"opacity\"\n},\n    _renderCSSProp = function _renderCSSProp(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderPropWithEnd = function _renderPropWithEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio === 1 ? data.e : Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderCSSPropWithBeginning = function _renderCSSPropWithBeginning(ratio, data) {\n  return data.set(data.t, data.p, ratio ? Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u : data.b, data);\n},\n    //if units change, we need a way to render the original unit/value when the tween goes all the way back to the beginning (ratio:0)\n_renderRoundedCSSProp = function _renderRoundedCSSProp(ratio, data) {\n  var value = data.s + data.c * ratio;\n  data.set(data.t, data.p, ~~(value + (value < 0 ? -.5 : .5)) + data.u, data);\n},\n    _renderNonTweeningValue = function _renderNonTweeningValue(ratio, data) {\n  return data.set(data.t, data.p, ratio ? data.e : data.b, data);\n},\n    _renderNonTweeningValueOnlyAtEnd = function _renderNonTweeningValueOnlyAtEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio !== 1 ? data.b : data.e, data);\n},\n    _setterCSSStyle = function _setterCSSStyle(target, property, value) {\n  return target.style[property] = value;\n},\n    _setterCSSProp = function _setterCSSProp(target, property, value) {\n  return target.style.setProperty(property, value);\n},\n    _setterTransform = function _setterTransform(target, property, value) {\n  return target._gsap[property] = value;\n},\n    _setterScale = function _setterScale(target, property, value) {\n  return target._gsap.scaleX = target._gsap.scaleY = value;\n},\n    _setterScaleWithRender = function _setterScaleWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache.scaleX = cache.scaleY = value;\n  cache.renderTransform(ratio, cache);\n},\n    _setterTransformWithRender = function _setterTransformWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache[property] = value;\n  cache.renderTransform(ratio, cache);\n},\n    _transformProp = \"transform\",\n    _transformOriginProp = _transformProp + \"Origin\",\n    _supports3D,\n    _createElement = function _createElement(type, ns) {\n  var e = _doc.createElementNS ? _doc.createElementNS((ns || \"http://www.w3.org/1999/xhtml\").replace(/^https/, \"http\"), type) : _doc.createElement(type); //some servers swap in https for http in the namespace which can break things, making \"style\" inaccessible.\n\n  return e.style ? e : _doc.createElement(type); //some environments won't allow access to the element's style when created with a namespace in which case we default to the standard createElement() to work around the issue. Also note that when GSAP is embedded directly inside an SVG file, createElement() won't allow access to the style object in Firefox (see https://greensock.com/forums/topic/20215-problem-using-tweenmax-in-standalone-self-containing-svg-file-err-cannot-set-property-csstext-of-undefined/).\n},\n    _getComputedProperty = function _getComputedProperty(target, property, skipPrefixFallback) {\n  var cs = getComputedStyle(target);\n  return cs[property] || cs.getPropertyValue(property.replace(_capsExp, \"-$1\").toLowerCase()) || cs.getPropertyValue(property) || !skipPrefixFallback && _getComputedProperty(target, _checkPropPrefix(property) || property, 1) || \"\"; //css variables may not need caps swapped out for dashes and lowercase.\n},\n    _prefixes = \"O,Moz,ms,Ms,Webkit\".split(\",\"),\n    _checkPropPrefix = function _checkPropPrefix(property, element, preferPrefix) {\n  var e = element || _tempDiv,\n      s = e.style,\n      i = 5;\n\n  if (property in s && !preferPrefix) {\n    return property;\n  }\n\n  property = property.charAt(0).toUpperCase() + property.substr(1);\n\n  while (i-- && !(_prefixes[i] + property in s)) {}\n\n  return i < 0 ? null : (i === 3 ? \"ms\" : i >= 0 ? _prefixes[i] : \"\") + property;\n},\n    _initCore = function _initCore() {\n  if (_windowExists() && window.document) {\n    _win = window;\n    _doc = _win.document;\n    _docElement = _doc.documentElement;\n    _tempDiv = _createElement(\"div\") || {\n      style: {}\n    };\n    _tempDivStyler = _createElement(\"div\");\n    _transformProp = _checkPropPrefix(_transformProp);\n    _transformOriginProp = _transformProp + \"Origin\";\n    _tempDiv.style.cssText = \"border-width:0;line-height:0;position:absolute;padding:0\"; //make sure to override certain properties that may contaminate measurements, in case the user has overreaching style sheets.\n\n    _supports3D = !!_checkPropPrefix(\"perspective\");\n    _pluginInitted = 1;\n  }\n},\n    _getBBoxHack = function _getBBoxHack(swapIfPossible) {\n  //works around issues in some browsers (like Firefox) that don't correctly report getBBox() on SVG elements inside a <defs> element and/or <mask>. We try creating an SVG, adding it to the documentElement and toss the element in there so that it's definitely part of the rendering tree, then grab the bbox and if it works, we actually swap out the original getBBox() method for our own that does these extra steps whenever getBBox is needed. This helps ensure that performance is optimal (only do all these extra steps when absolutely necessary...most elements don't need it).\n  var svg = _createElement(\"svg\", this.ownerSVGElement && this.ownerSVGElement.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\"),\n      oldParent = this.parentNode,\n      oldSibling = this.nextSibling,\n      oldCSS = this.style.cssText,\n      bbox;\n\n  _docElement.appendChild(svg);\n\n  svg.appendChild(this);\n  this.style.display = \"block\";\n\n  if (swapIfPossible) {\n    try {\n      bbox = this.getBBox();\n      this._gsapBBox = this.getBBox; //store the original\n\n      this.getBBox = _getBBoxHack;\n    } catch (e) {}\n  } else if (this._gsapBBox) {\n    bbox = this._gsapBBox();\n  }\n\n  if (oldParent) {\n    if (oldSibling) {\n      oldParent.insertBefore(this, oldSibling);\n    } else {\n      oldParent.appendChild(this);\n    }\n  }\n\n  _docElement.removeChild(svg);\n\n  this.style.cssText = oldCSS;\n  return bbox;\n},\n    _getAttributeFallbacks = function _getAttributeFallbacks(target, attributesArray) {\n  var i = attributesArray.length;\n\n  while (i--) {\n    if (target.hasAttribute(attributesArray[i])) {\n      return target.getAttribute(attributesArray[i]);\n    }\n  }\n},\n    _getBBox = function _getBBox(target) {\n  var bounds;\n\n  try {\n    bounds = target.getBBox(); //Firefox throws errors if you try calling getBBox() on an SVG element that's not rendered (like in a <symbol> or <defs>). https://bugzilla.mozilla.org/show_bug.cgi?id=612118\n  } catch (error) {\n    bounds = _getBBoxHack.call(target, true);\n  }\n\n  bounds && (bounds.width || bounds.height) || target.getBBox === _getBBoxHack || (bounds = _getBBoxHack.call(target, true)); //some browsers (like Firefox) misreport the bounds if the element has zero width and height (it just assumes it's at x:0, y:0), thus we need to manually grab the position in that case.\n\n  return bounds && !bounds.width && !bounds.x && !bounds.y ? {\n    x: +_getAttributeFallbacks(target, [\"x\", \"cx\", \"x1\"]) || 0,\n    y: +_getAttributeFallbacks(target, [\"y\", \"cy\", \"y1\"]) || 0,\n    width: 0,\n    height: 0\n  } : bounds;\n},\n    _isSVG = function _isSVG(e) {\n  return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));\n},\n    //reports if the element is an SVG on which getBBox() actually works\n_removeProperty = function _removeProperty(target, property) {\n  if (property) {\n    var style = target.style;\n\n    if (property in _transformProps && property !== _transformOriginProp) {\n      property = _transformProp;\n    }\n\n    if (style.removeProperty) {\n      if (property.substr(0, 2) === \"ms\" || property.substr(0, 6) === \"webkit\") {\n        //Microsoft and some Webkit browsers don't conform to the standard of capitalizing the first prefix character, so we adjust so that when we prefix the caps with a dash, it's correct (otherwise it'd be \"ms-transform\" instead of \"-ms-transform\" for IE9, for example)\n        property = \"-\" + property;\n      }\n\n      style.removeProperty(property.replace(_capsExp, \"-$1\").toLowerCase());\n    } else {\n      //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\n      style.removeAttribute(property);\n    }\n  }\n},\n    _addNonTweeningPT = function _addNonTweeningPT(plugin, target, property, beginning, end, onlySetAtEnd) {\n  var pt = new PropTween(plugin._pt, target, property, 0, 1, onlySetAtEnd ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue);\n  plugin._pt = pt;\n  pt.b = beginning;\n  pt.e = end;\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _nonConvertibleUnits = {\n  deg: 1,\n  rad: 1,\n  turn: 1\n},\n    //takes a single value like 20px and converts it to the unit specified, like \"%\", returning only the numeric amount.\n_convertToUnit = function _convertToUnit(target, property, value, unit) {\n  var curValue = parseFloat(value) || 0,\n      curUnit = (value + \"\").trim().substr((curValue + \"\").length) || \"px\",\n      // some browsers leave extra whitespace at the beginning of CSS variables, hence the need to trim()\n  style = _tempDiv.style,\n      horizontal = _horizontalExp.test(property),\n      isRootSVG = target.tagName.toLowerCase() === \"svg\",\n      measureProperty = (isRootSVG ? \"client\" : \"offset\") + (horizontal ? \"Width\" : \"Height\"),\n      amount = 100,\n      toPixels = unit === \"px\",\n      toPercent = unit === \"%\",\n      px,\n      parent,\n      cache,\n      isSVG;\n\n  if (unit === curUnit || !curValue || _nonConvertibleUnits[unit] || _nonConvertibleUnits[curUnit]) {\n    return curValue;\n  }\n\n  curUnit !== \"px\" && !toPixels && (curValue = _convertToUnit(target, property, value, \"px\"));\n  isSVG = target.getCTM && _isSVG(target);\n\n  if ((toPercent || curUnit === \"%\") && (_transformProps[property] || ~property.indexOf(\"adius\"))) {\n    px = isSVG ? target.getBBox()[horizontal ? \"width\" : \"height\"] : target[measureProperty];\n    return _round(toPercent ? curValue / px * amount : curValue / 100 * px);\n  }\n\n  style[horizontal ? \"width\" : \"height\"] = amount + (toPixels ? curUnit : unit);\n  parent = ~property.indexOf(\"adius\") || unit === \"em\" && target.appendChild && !isRootSVG ? target : target.parentNode;\n\n  if (isSVG) {\n    parent = (target.ownerSVGElement || {}).parentNode;\n  }\n\n  if (!parent || parent === _doc || !parent.appendChild) {\n    parent = _doc.body;\n  }\n\n  cache = parent._gsap;\n\n  if (cache && toPercent && cache.width && horizontal && cache.time === _ticker.time) {\n    return _round(curValue / cache.width * amount);\n  } else {\n    (toPercent || curUnit === \"%\") && (style.position = _getComputedProperty(target, \"position\"));\n    parent === target && (style.position = \"static\"); // like for borderRadius, if it's a % we must have it relative to the target itself but that may not have position: relative or position: absolute in which case it'd go up the chain until it finds its offsetParent (bad). position: static protects against that.\n\n    parent.appendChild(_tempDiv);\n    px = _tempDiv[measureProperty];\n    parent.removeChild(_tempDiv);\n    style.position = \"absolute\";\n\n    if (horizontal && toPercent) {\n      cache = _getCache(parent);\n      cache.time = _ticker.time;\n      cache.width = parent[measureProperty];\n    }\n  }\n\n  return _round(toPixels ? px * curValue / amount : px && curValue ? amount / px * curValue : 0);\n},\n    _get = function _get(target, property, unit, uncache) {\n  var value;\n  _pluginInitted || _initCore();\n\n  if (property in _propertyAliases && property !== \"transform\") {\n    property = _propertyAliases[property];\n\n    if (~property.indexOf(\",\")) {\n      property = property.split(\",\")[0];\n    }\n  }\n\n  if (_transformProps[property] && property !== \"transform\") {\n    value = _parseTransform(target, uncache);\n    value = property !== \"transformOrigin\" ? value[property] : value.svg ? value.origin : _firstTwoOnly(_getComputedProperty(target, _transformOriginProp)) + \" \" + value.zOrigin + \"px\";\n  } else {\n    value = target.style[property];\n\n    if (!value || value === \"auto\" || uncache || ~(value + \"\").indexOf(\"calc(\")) {\n      value = _specialProps[property] && _specialProps[property](target, property, unit) || _getComputedProperty(target, property) || _getProperty(target, property) || (property === \"opacity\" ? 1 : 0); // note: some browsers, like Firefox, don't report borderRadius correctly! Instead, it only reports every corner like  borderTopLeftRadius\n    }\n  }\n\n  return unit && !~(value + \"\").trim().indexOf(\" \") ? _convertToUnit(target, property, value, unit) + unit : value;\n},\n    _tweenComplexCSSString = function _tweenComplexCSSString(target, prop, start, end) {\n  //note: we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  if (!start || start === \"none\") {\n    // some browsers like Safari actually PREFER the prefixed property and mis-report the unprefixed value like clipPath (BUG). In other words, even though clipPath exists in the style (\"clipPath\" in target.style) and it's set in the CSS properly (along with -webkit-clip-path), Safari reports clipPath as \"none\" whereas WebkitClipPath reports accurately like \"ellipse(100% 0% at 50% 0%)\", so in this case we must SWITCH to using the prefixed property instead. See https://greensock.com/forums/topic/18310-clippath-doesnt-work-on-ios/\n    var p = _checkPropPrefix(prop, target, 1),\n        s = p && _getComputedProperty(target, p, 1);\n\n    if (s && s !== start) {\n      prop = p;\n      start = s;\n    } else if (prop === \"borderColor\") {\n      start = _getComputedProperty(target, \"borderTopColor\"); // Firefox bug: always reports \"borderColor\" as \"\", so we must fall back to borderTopColor. See https://greensock.com/forums/topic/24583-how-to-return-colors-that-i-had-after-reverse/\n    }\n  }\n\n  var pt = new PropTween(this._pt, target.style, prop, 0, 1, _renderComplexString),\n      index = 0,\n      matchIndex = 0,\n      a,\n      result,\n      startValues,\n      startNum,\n      color,\n      startValue,\n      endValue,\n      endNum,\n      chunk,\n      endUnit,\n      startUnit,\n      relative,\n      endValues;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (end === \"auto\") {\n    target.style[prop] = end;\n    end = _getComputedProperty(target, prop) || end;\n    target.style[prop] = start;\n  }\n\n  a = [start, end];\n\n  _colorStringFilter(a); //pass an array with the starting and ending values and let the filter do whatever it needs to the values. If colors are found, it returns true and then we must match where the color shows up order-wise because for things like boxShadow, sometimes the browser provides the computed values with the color FIRST, but the user provides it with the color LAST, so flip them if necessary. Same for drop-shadow().\n\n\n  start = a[0];\n  end = a[1];\n  startValues = start.match(_numWithUnitExp) || [];\n  endValues = end.match(_numWithUnitExp) || [];\n\n  if (endValues.length) {\n    while (result = _numWithUnitExp.exec(end)) {\n      endValue = result[0];\n      chunk = end.substring(index, result.index);\n\n      if (color) {\n        color = (color + 1) % 5;\n      } else if (chunk.substr(-5) === \"rgba(\" || chunk.substr(-5) === \"hsla(\") {\n        color = 1;\n      }\n\n      if (endValue !== (startValue = startValues[matchIndex++] || \"\")) {\n        startNum = parseFloat(startValue) || 0;\n        startUnit = startValue.substr((startNum + \"\").length);\n        relative = endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n\n        if (relative) {\n          endValue = endValue.substr(2);\n        }\n\n        endNum = parseFloat(endValue);\n        endUnit = endValue.substr((endNum + \"\").length);\n        index = _numWithUnitExp.lastIndex - endUnit.length;\n\n        if (!endUnit) {\n          //if something like \"perspective:300\" is passed in and we must add a unit to the end\n          endUnit = endUnit || _config.units[prop] || startUnit;\n\n          if (index === end.length) {\n            end += endUnit;\n            pt.e += endUnit;\n          }\n        }\n\n        if (startUnit !== endUnit) {\n          startNum = _convertToUnit(target, prop, startValue, endUnit) || 0;\n        } //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n\n        pt._pt = {\n          _next: pt._pt,\n          p: chunk || matchIndex === 1 ? chunk : \",\",\n          //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n          s: startNum,\n          c: relative ? relative * endNum : endNum - startNum,\n          m: color && color < 4 || prop === \"zIndex\" ? Math.round : 0\n        };\n      }\n    }\n\n    pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n  } else {\n    pt.r = prop === \"display\" && end === \"none\" ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue;\n  }\n\n  _relExp.test(end) && (pt.e = 0); //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within another plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _keywordToPercent = {\n  top: \"0%\",\n  bottom: \"100%\",\n  left: \"0%\",\n  right: \"100%\",\n  center: \"50%\"\n},\n    _convertKeywordsToPercentages = function _convertKeywordsToPercentages(value) {\n  var split = value.split(\" \"),\n      x = split[0],\n      y = split[1] || \"50%\";\n\n  if (x === \"top\" || x === \"bottom\" || y === \"left\" || y === \"right\") {\n    //the user provided them in the wrong order, so flip them\n    value = x;\n    x = y;\n    y = value;\n  }\n\n  split[0] = _keywordToPercent[x] || x;\n  split[1] = _keywordToPercent[y] || y;\n  return split.join(\" \");\n},\n    _renderClearProps = function _renderClearProps(ratio, data) {\n  if (data.tween && data.tween._time === data.tween._dur) {\n    var target = data.t,\n        style = target.style,\n        props = data.u,\n        cache = target._gsap,\n        prop,\n        clearTransforms,\n        i;\n\n    if (props === \"all\" || props === true) {\n      style.cssText = \"\";\n      clearTransforms = 1;\n    } else {\n      props = props.split(\",\");\n      i = props.length;\n\n      while (--i > -1) {\n        prop = props[i];\n\n        if (_transformProps[prop]) {\n          clearTransforms = 1;\n          prop = prop === \"transformOrigin\" ? _transformOriginProp : _transformProp;\n        }\n\n        _removeProperty(target, prop);\n      }\n    }\n\n    if (clearTransforms) {\n      _removeProperty(target, _transformProp);\n\n      if (cache) {\n        cache.svg && target.removeAttribute(\"transform\");\n\n        _parseTransform(target, 1); // force all the cached values back to \"normal\"/identity, otherwise if there's another tween that's already set to render transforms on this element, it could display the wrong values.\n\n\n        cache.uncache = 1;\n      }\n    }\n  }\n},\n    // note: specialProps should return 1 if (and only if) they have a non-zero priority. It indicates we need to sort the linked list.\n_specialProps = {\n  clearProps: function clearProps(plugin, target, property, endValue, tween) {\n    if (tween.data !== \"isFromStart\") {\n      var pt = plugin._pt = new PropTween(plugin._pt, target, property, 0, 0, _renderClearProps);\n      pt.u = endValue;\n      pt.pr = -10;\n      pt.tween = tween;\n\n      plugin._props.push(property);\n\n      return 1;\n    }\n  }\n  /* className feature (about 0.4kb gzipped).\n  , className(plugin, target, property, endValue, tween) {\n  \tlet _renderClassName = (ratio, data) => {\n  \t\t\tdata.css.render(ratio, data.css);\n  \t\t\tif (!ratio || ratio === 1) {\n  \t\t\t\tlet inline = data.rmv,\n  \t\t\t\t\ttarget = data.t,\n  \t\t\t\t\tp;\n  \t\t\t\ttarget.setAttribute(\"class\", ratio ? data.e : data.b);\n  \t\t\t\tfor (p in inline) {\n  \t\t\t\t\t_removeProperty(target, p);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t},\n  \t\t_getAllStyles = (target) => {\n  \t\t\tlet styles = {},\n  \t\t\t\tcomputed = getComputedStyle(target),\n  \t\t\t\tp;\n  \t\t\tfor (p in computed) {\n  \t\t\t\tif (isNaN(p) && p !== \"cssText\" && p !== \"length\") {\n  \t\t\t\t\tstyles[p] = computed[p];\n  \t\t\t\t}\n  \t\t\t}\n  \t\t\t_setDefaults(styles, _parseTransform(target, 1));\n  \t\t\treturn styles;\n  \t\t},\n  \t\tstartClassList = target.getAttribute(\"class\"),\n  \t\tstyle = target.style,\n  \t\tcssText = style.cssText,\n  \t\tcache = target._gsap,\n  \t\tclassPT = cache.classPT,\n  \t\tinlineToRemoveAtEnd = {},\n  \t\tdata = {t:target, plugin:plugin, rmv:inlineToRemoveAtEnd, b:startClassList, e:(endValue.charAt(1) !== \"=\") ? endValue : startClassList.replace(new RegExp(\"(?:\\\\s|^)\" + endValue.substr(2) + \"(?![\\\\w-])\"), \"\") + ((endValue.charAt(0) === \"+\") ? \" \" + endValue.substr(2) : \"\")},\n  \t\tchangingVars = {},\n  \t\tstartVars = _getAllStyles(target),\n  \t\ttransformRelated = /(transform|perspective)/i,\n  \t\tendVars, p;\n  \tif (classPT) {\n  \t\tclassPT.r(1, classPT.d);\n  \t\t_removeLinkedListItem(classPT.d.plugin, classPT, \"_pt\");\n  \t}\n  \ttarget.setAttribute(\"class\", data.e);\n  \tendVars = _getAllStyles(target, true);\n  \ttarget.setAttribute(\"class\", startClassList);\n  \tfor (p in endVars) {\n  \t\tif (endVars[p] !== startVars[p] && !transformRelated.test(p)) {\n  \t\t\tchangingVars[p] = endVars[p];\n  \t\t\tif (!style[p] && style[p] !== \"0\") {\n  \t\t\t\tinlineToRemoveAtEnd[p] = 1;\n  \t\t\t}\n  \t\t}\n  \t}\n  \tcache.classPT = plugin._pt = new PropTween(plugin._pt, target, \"className\", 0, 0, _renderClassName, data, 0, -11);\n  \tif (style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://greensock.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.\n  \t\tstyle.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).\n  \t}\n  \t_parseTransform(target, true); //to clear the caching of transforms\n  \tdata.css = new gsap.plugins.css();\n  \tdata.css.init(target, changingVars, tween);\n  \tplugin._props.push(...data.css._props);\n  \treturn 1;\n  }\n  */\n\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TRANSFORMS\n * --------------------------------------------------------------------------------------\n */\n_identity2DMatrix = [1, 0, 0, 1, 0, 0],\n    _rotationalProperties = {},\n    _isNullTransform = function _isNullTransform(value) {\n  return value === \"matrix(1, 0, 0, 1, 0, 0)\" || value === \"none\" || !value;\n},\n    _getComputedTransformMatrixAsArray = function _getComputedTransformMatrixAsArray(target) {\n  var matrixString = _getComputedProperty(target, _transformProp);\n\n  return _isNullTransform(matrixString) ? _identity2DMatrix : matrixString.substr(7).match(_numExp).map(_round);\n},\n    _getMatrix = function _getMatrix(target, force2D) {\n  var cache = target._gsap || _getCache(target),\n      style = target.style,\n      matrix = _getComputedTransformMatrixAsArray(target),\n      parent,\n      nextSibling,\n      temp,\n      addedToDOM;\n\n  if (cache.svg && target.getAttribute(\"transform\")) {\n    temp = target.transform.baseVal.consolidate().matrix; //ensures that even complex values like \"translate(50,60) rotate(135,0,0)\" are parsed because it mashes it into a matrix.\n\n    matrix = [temp.a, temp.b, temp.c, temp.d, temp.e, temp.f];\n    return matrix.join(\",\") === \"1,0,0,1,0,0\" ? _identity2DMatrix : matrix;\n  } else if (matrix === _identity2DMatrix && !target.offsetParent && target !== _docElement && !cache.svg) {\n    //note: if offsetParent is null, that means the element isn't in the normal document flow, like if it has display:none or one of its ancestors has display:none). Firefox returns null for getComputedStyle() if the element is in an iframe that has display:none. https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    //browsers don't report transforms accurately unless the element is in the DOM and has a display value that's not \"none\". Firefox and Microsoft browsers have a partial bug where they'll report transforms even if display:none BUT not any percentage-based values like translate(-50%, 8px) will be reported as if it's translate(0, 8px).\n    temp = style.display;\n    style.display = \"block\";\n    parent = target.parentNode;\n\n    if (!parent || !target.offsetParent) {\n      // note: in 3.3.0 we switched target.offsetParent to _doc.body.contains(target) to avoid [sometimes unnecessary] MutationObserver calls but that wasn't adequate because there are edge cases where nested position: fixed elements need to get reparented to accurately sense transforms. See https://github.com/greensock/GSAP/issues/388 and https://github.com/greensock/GSAP/issues/375\n      addedToDOM = 1; //flag\n\n      nextSibling = target.nextSibling;\n\n      _docElement.appendChild(target); //we must add it to the DOM in order to get values properly\n\n    }\n\n    matrix = _getComputedTransformMatrixAsArray(target);\n    temp ? style.display = temp : _removeProperty(target, \"display\");\n\n    if (addedToDOM) {\n      nextSibling ? parent.insertBefore(target, nextSibling) : parent ? parent.appendChild(target) : _docElement.removeChild(target);\n    }\n  }\n\n  return force2D && matrix.length > 6 ? [matrix[0], matrix[1], matrix[4], matrix[5], matrix[12], matrix[13]] : matrix;\n},\n    _applySVGOrigin = function _applySVGOrigin(target, origin, originIsAbsolute, smooth, matrixArray, pluginToAddPropTweensTo) {\n  var cache = target._gsap,\n      matrix = matrixArray || _getMatrix(target, true),\n      xOriginOld = cache.xOrigin || 0,\n      yOriginOld = cache.yOrigin || 0,\n      xOffsetOld = cache.xOffset || 0,\n      yOffsetOld = cache.yOffset || 0,\n      a = matrix[0],\n      b = matrix[1],\n      c = matrix[2],\n      d = matrix[3],\n      tx = matrix[4],\n      ty = matrix[5],\n      originSplit = origin.split(\" \"),\n      xOrigin = parseFloat(originSplit[0]) || 0,\n      yOrigin = parseFloat(originSplit[1]) || 0,\n      bounds,\n      determinant,\n      x,\n      y;\n\n  if (!originIsAbsolute) {\n    bounds = _getBBox(target);\n    xOrigin = bounds.x + (~originSplit[0].indexOf(\"%\") ? xOrigin / 100 * bounds.width : xOrigin);\n    yOrigin = bounds.y + (~(originSplit[1] || originSplit[0]).indexOf(\"%\") ? yOrigin / 100 * bounds.height : yOrigin);\n  } else if (matrix !== _identity2DMatrix && (determinant = a * d - b * c)) {\n    //if it's zero (like if scaleX and scaleY are zero), skip it to avoid errors with dividing by zero.\n    x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant;\n    y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant;\n    xOrigin = x;\n    yOrigin = y;\n  }\n\n  if (smooth || smooth !== false && cache.smooth) {\n    tx = xOrigin - xOriginOld;\n    ty = yOrigin - yOriginOld;\n    cache.xOffset = xOffsetOld + (tx * a + ty * c) - tx;\n    cache.yOffset = yOffsetOld + (tx * b + ty * d) - ty;\n  } else {\n    cache.xOffset = cache.yOffset = 0;\n  }\n\n  cache.xOrigin = xOrigin;\n  cache.yOrigin = yOrigin;\n  cache.smooth = !!smooth;\n  cache.origin = origin;\n  cache.originIsAbsolute = !!originIsAbsolute;\n  target.style[_transformOriginProp] = \"0px 0px\"; //otherwise, if someone sets  an origin via CSS, it will likely interfere with the SVG transform attribute ones (because remember, we're baking the origin into the matrix() value).\n\n  if (pluginToAddPropTweensTo) {\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOrigin\", xOriginOld, xOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOrigin\", yOriginOld, yOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOffset\", xOffsetOld, cache.xOffset);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOffset\", yOffsetOld, cache.yOffset);\n  }\n\n  target.setAttribute(\"data-svg-origin\", xOrigin + \" \" + yOrigin);\n},\n    _parseTransform = function _parseTransform(target, uncache) {\n  var cache = target._gsap || new GSCache(target);\n\n  if (\"x\" in cache && !uncache && !cache.uncache) {\n    return cache;\n  }\n\n  var style = target.style,\n      invertedScaleX = cache.scaleX < 0,\n      px = \"px\",\n      deg = \"deg\",\n      origin = _getComputedProperty(target, _transformOriginProp) || \"0\",\n      x,\n      y,\n      z,\n      scaleX,\n      scaleY,\n      rotation,\n      rotationX,\n      rotationY,\n      skewX,\n      skewY,\n      perspective,\n      xOrigin,\n      yOrigin,\n      matrix,\n      angle,\n      cos,\n      sin,\n      a,\n      b,\n      c,\n      d,\n      a12,\n      a22,\n      t1,\n      t2,\n      t3,\n      a13,\n      a23,\n      a33,\n      a42,\n      a43,\n      a32;\n  x = y = z = rotation = rotationX = rotationY = skewX = skewY = perspective = 0;\n  scaleX = scaleY = 1;\n  cache.svg = !!(target.getCTM && _isSVG(target));\n  matrix = _getMatrix(target, cache.svg);\n\n  if (cache.svg) {\n    t1 = (!cache.uncache || origin === \"0px 0px\") && !uncache && target.getAttribute(\"data-svg-origin\"); // if origin is 0,0 and cache.uncache is true, let the recorded data-svg-origin stay. Otherwise, whenever we set cache.uncache to true, we'd need to set element.style.transformOrigin = (cache.xOrigin - bbox.x) + \"px \" + (cache.yOrigin - bbox.y) + \"px\". Remember, to work around browser inconsistencies we always force SVG elements' transformOrigin to 0,0 and offset the translation accordingly.\n\n    _applySVGOrigin(target, t1 || origin, !!t1 || cache.originIsAbsolute, cache.smooth !== false, matrix);\n  }\n\n  xOrigin = cache.xOrigin || 0;\n  yOrigin = cache.yOrigin || 0;\n\n  if (matrix !== _identity2DMatrix) {\n    a = matrix[0]; //a11\n\n    b = matrix[1]; //a21\n\n    c = matrix[2]; //a31\n\n    d = matrix[3]; //a41\n\n    x = a12 = matrix[4];\n    y = a22 = matrix[5]; //2D matrix\n\n    if (matrix.length === 6) {\n      scaleX = Math.sqrt(a * a + b * b);\n      scaleY = Math.sqrt(d * d + c * c);\n      rotation = a || b ? _atan2(b, a) * _RAD2DEG : 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).\n\n      skewX = c || d ? _atan2(c, d) * _RAD2DEG + rotation : 0;\n      skewX && (scaleY *= Math.abs(Math.cos(skewX * _DEG2RAD)));\n\n      if (cache.svg) {\n        x -= xOrigin - (xOrigin * a + yOrigin * c);\n        y -= yOrigin - (xOrigin * b + yOrigin * d);\n      } //3D matrix\n\n    } else {\n      a32 = matrix[6];\n      a42 = matrix[7];\n      a13 = matrix[8];\n      a23 = matrix[9];\n      a33 = matrix[10];\n      a43 = matrix[11];\n      x = matrix[12];\n      y = matrix[13];\n      z = matrix[14];\n      angle = _atan2(a32, a33);\n      rotationX = angle * _RAD2DEG; //rotationX\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a12 * cos + a13 * sin;\n        t2 = a22 * cos + a23 * sin;\n        t3 = a32 * cos + a33 * sin;\n        a13 = a12 * -sin + a13 * cos;\n        a23 = a22 * -sin + a23 * cos;\n        a33 = a32 * -sin + a33 * cos;\n        a43 = a42 * -sin + a43 * cos;\n        a12 = t1;\n        a22 = t2;\n        a32 = t3;\n      } //rotationY\n\n\n      angle = _atan2(-c, a33);\n      rotationY = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a * cos - a13 * sin;\n        t2 = b * cos - a23 * sin;\n        t3 = c * cos - a33 * sin;\n        a43 = d * sin + a43 * cos;\n        a = t1;\n        b = t2;\n        c = t3;\n      } //rotationZ\n\n\n      angle = _atan2(b, a);\n      rotation = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(angle);\n        sin = Math.sin(angle);\n        t1 = a * cos + b * sin;\n        t2 = a12 * cos + a22 * sin;\n        b = b * cos - a * sin;\n        a22 = a22 * cos - a12 * sin;\n        a = t1;\n        a12 = t2;\n      }\n\n      if (rotationX && Math.abs(rotationX) + Math.abs(rotation) > 359.9) {\n        //when rotationY is set, it will often be parsed as 180 degrees different than it should be, and rotationX and rotation both being 180 (it looks the same), so we adjust for that here.\n        rotationX = rotation = 0;\n        rotationY = 180 - rotationY;\n      }\n\n      scaleX = _round(Math.sqrt(a * a + b * b + c * c));\n      scaleY = _round(Math.sqrt(a22 * a22 + a32 * a32));\n      angle = _atan2(a12, a22);\n      skewX = Math.abs(angle) > 0.0002 ? angle * _RAD2DEG : 0;\n      perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0;\n    }\n\n    if (cache.svg) {\n      //sense if there are CSS transforms applied on an SVG element in which case we must overwrite them when rendering. The transform attribute is more reliable cross-browser, but we can't just remove the CSS ones because they may be applied in a CSS rule somewhere (not just inline).\n      t1 = target.getAttribute(\"transform\");\n      cache.forceCSS = target.setAttribute(\"transform\", \"\") || !_isNullTransform(_getComputedProperty(target, _transformProp));\n      t1 && target.setAttribute(\"transform\", t1);\n    }\n  }\n\n  if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {\n    if (invertedScaleX) {\n      scaleX *= -1;\n      skewX += rotation <= 0 ? 180 : -180;\n      rotation += rotation <= 0 ? 180 : -180;\n    } else {\n      scaleY *= -1;\n      skewX += skewX <= 0 ? 180 : -180;\n    }\n  }\n\n  cache.x = x - ((cache.xPercent = x && (cache.xPercent || (Math.round(target.offsetWidth / 2) === Math.round(-x) ? -50 : 0))) ? target.offsetWidth * cache.xPercent / 100 : 0) + px;\n  cache.y = y - ((cache.yPercent = y && (cache.yPercent || (Math.round(target.offsetHeight / 2) === Math.round(-y) ? -50 : 0))) ? target.offsetHeight * cache.yPercent / 100 : 0) + px;\n  cache.z = z + px;\n  cache.scaleX = _round(scaleX);\n  cache.scaleY = _round(scaleY);\n  cache.rotation = _round(rotation) + deg;\n  cache.rotationX = _round(rotationX) + deg;\n  cache.rotationY = _round(rotationY) + deg;\n  cache.skewX = skewX + deg;\n  cache.skewY = skewY + deg;\n  cache.transformPerspective = perspective + px;\n\n  if (cache.zOrigin = parseFloat(origin.split(\" \")[2]) || 0) {\n    style[_transformOriginProp] = _firstTwoOnly(origin);\n  }\n\n  cache.xOffset = cache.yOffset = 0;\n  cache.force3D = _config.force3D;\n  cache.renderTransform = cache.svg ? _renderSVGTransforms : _supports3D ? _renderCSSTransforms : _renderNon3DTransforms;\n  cache.uncache = 0;\n  return cache;\n},\n    _firstTwoOnly = function _firstTwoOnly(value) {\n  return (value = value.split(\" \"))[0] + \" \" + value[1];\n},\n    //for handling transformOrigin values, stripping out the 3rd dimension\n_addPxTranslate = function _addPxTranslate(target, start, value) {\n  var unit = getUnit(start);\n  return _round(parseFloat(start) + parseFloat(_convertToUnit(target, \"x\", value + \"px\", unit))) + unit;\n},\n    _renderNon3DTransforms = function _renderNon3DTransforms(ratio, cache) {\n  cache.z = \"0px\";\n  cache.rotationY = cache.rotationX = \"0deg\";\n  cache.force3D = 0;\n\n  _renderCSSTransforms(ratio, cache);\n},\n    _zeroDeg = \"0deg\",\n    _zeroPx = \"0px\",\n    _endParenthesis = \") \",\n    _renderCSSTransforms = function _renderCSSTransforms(ratio, cache) {\n  var _ref = cache || this,\n      xPercent = _ref.xPercent,\n      yPercent = _ref.yPercent,\n      x = _ref.x,\n      y = _ref.y,\n      z = _ref.z,\n      rotation = _ref.rotation,\n      rotationY = _ref.rotationY,\n      rotationX = _ref.rotationX,\n      skewX = _ref.skewX,\n      skewY = _ref.skewY,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      transformPerspective = _ref.transformPerspective,\n      force3D = _ref.force3D,\n      target = _ref.target,\n      zOrigin = _ref.zOrigin,\n      transforms = \"\",\n      use3D = force3D === \"auto\" && ratio && ratio !== 1 || force3D === true; // Safari has a bug that causes it not to render 3D transform-origin values properly, so we force the z origin to 0, record it in the cache, and then do the math here to offset the translate values accordingly (basically do the 3D transform-origin part manually)\n\n\n  if (zOrigin && (rotationX !== _zeroDeg || rotationY !== _zeroDeg)) {\n    var angle = parseFloat(rotationY) * _DEG2RAD,\n        a13 = Math.sin(angle),\n        a33 = Math.cos(angle),\n        cos;\n\n    angle = parseFloat(rotationX) * _DEG2RAD;\n    cos = Math.cos(angle);\n    x = _addPxTranslate(target, x, a13 * cos * -zOrigin);\n    y = _addPxTranslate(target, y, -Math.sin(angle) * -zOrigin);\n    z = _addPxTranslate(target, z, a33 * cos * -zOrigin + zOrigin);\n  }\n\n  if (transformPerspective !== _zeroPx) {\n    transforms += \"perspective(\" + transformPerspective + _endParenthesis;\n  }\n\n  if (xPercent || yPercent) {\n    transforms += \"translate(\" + xPercent + \"%, \" + yPercent + \"%) \";\n  }\n\n  if (use3D || x !== _zeroPx || y !== _zeroPx || z !== _zeroPx) {\n    transforms += z !== _zeroPx || use3D ? \"translate3d(\" + x + \", \" + y + \", \" + z + \") \" : \"translate(\" + x + \", \" + y + _endParenthesis;\n  }\n\n  if (rotation !== _zeroDeg) {\n    transforms += \"rotate(\" + rotation + _endParenthesis;\n  }\n\n  if (rotationY !== _zeroDeg) {\n    transforms += \"rotateY(\" + rotationY + _endParenthesis;\n  }\n\n  if (rotationX !== _zeroDeg) {\n    transforms += \"rotateX(\" + rotationX + _endParenthesis;\n  }\n\n  if (skewX !== _zeroDeg || skewY !== _zeroDeg) {\n    transforms += \"skew(\" + skewX + \", \" + skewY + _endParenthesis;\n  }\n\n  if (scaleX !== 1 || scaleY !== 1) {\n    transforms += \"scale(\" + scaleX + \", \" + scaleY + _endParenthesis;\n  }\n\n  target.style[_transformProp] = transforms || \"translate(0, 0)\";\n},\n    _renderSVGTransforms = function _renderSVGTransforms(ratio, cache) {\n  var _ref2 = cache || this,\n      xPercent = _ref2.xPercent,\n      yPercent = _ref2.yPercent,\n      x = _ref2.x,\n      y = _ref2.y,\n      rotation = _ref2.rotation,\n      skewX = _ref2.skewX,\n      skewY = _ref2.skewY,\n      scaleX = _ref2.scaleX,\n      scaleY = _ref2.scaleY,\n      target = _ref2.target,\n      xOrigin = _ref2.xOrigin,\n      yOrigin = _ref2.yOrigin,\n      xOffset = _ref2.xOffset,\n      yOffset = _ref2.yOffset,\n      forceCSS = _ref2.forceCSS,\n      tx = parseFloat(x),\n      ty = parseFloat(y),\n      a11,\n      a21,\n      a12,\n      a22,\n      temp;\n\n  rotation = parseFloat(rotation);\n  skewX = parseFloat(skewX);\n  skewY = parseFloat(skewY);\n\n  if (skewY) {\n    //for performance reasons, we combine all skewing into the skewX and rotation values. Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of 10 degrees.\n    skewY = parseFloat(skewY);\n    skewX += skewY;\n    rotation += skewY;\n  }\n\n  if (rotation || skewX) {\n    rotation *= _DEG2RAD;\n    skewX *= _DEG2RAD;\n    a11 = Math.cos(rotation) * scaleX;\n    a21 = Math.sin(rotation) * scaleX;\n    a12 = Math.sin(rotation - skewX) * -scaleY;\n    a22 = Math.cos(rotation - skewX) * scaleY;\n\n    if (skewX) {\n      skewY *= _DEG2RAD;\n      temp = Math.tan(skewX - skewY);\n      temp = Math.sqrt(1 + temp * temp);\n      a12 *= temp;\n      a22 *= temp;\n\n      if (skewY) {\n        temp = Math.tan(skewY);\n        temp = Math.sqrt(1 + temp * temp);\n        a11 *= temp;\n        a21 *= temp;\n      }\n    }\n\n    a11 = _round(a11);\n    a21 = _round(a21);\n    a12 = _round(a12);\n    a22 = _round(a22);\n  } else {\n    a11 = scaleX;\n    a22 = scaleY;\n    a21 = a12 = 0;\n  }\n\n  if (tx && !~(x + \"\").indexOf(\"px\") || ty && !~(y + \"\").indexOf(\"px\")) {\n    tx = _convertToUnit(target, \"x\", x, \"px\");\n    ty = _convertToUnit(target, \"y\", y, \"px\");\n  }\n\n  if (xOrigin || yOrigin || xOffset || yOffset) {\n    tx = _round(tx + xOrigin - (xOrigin * a11 + yOrigin * a12) + xOffset);\n    ty = _round(ty + yOrigin - (xOrigin * a21 + yOrigin * a22) + yOffset);\n  }\n\n  if (xPercent || yPercent) {\n    //The SVG spec doesn't support percentage-based translation in the \"transform\" attribute, so we merge it into the translation to simulate it.\n    temp = target.getBBox();\n    tx = _round(tx + xPercent / 100 * temp.width);\n    ty = _round(ty + yPercent / 100 * temp.height);\n  }\n\n  temp = \"matrix(\" + a11 + \",\" + a21 + \",\" + a12 + \",\" + a22 + \",\" + tx + \",\" + ty + \")\";\n  target.setAttribute(\"transform\", temp);\n  forceCSS && (target.style[_transformProp] = temp); //some browsers prioritize CSS transforms over the transform attribute. When we sense that the user has CSS transforms applied, we must overwrite them this way (otherwise some browser simply won't render the  transform attribute changes!)\n},\n    _addRotationalPropTween = function _addRotationalPropTween(plugin, target, property, startNum, endValue, relative) {\n  var cap = 360,\n      isString = _isString(endValue),\n      endNum = parseFloat(endValue) * (isString && ~endValue.indexOf(\"rad\") ? _RAD2DEG : 1),\n      change = relative ? endNum * relative : endNum - startNum,\n      finalValue = startNum + change + \"deg\",\n      direction,\n      pt;\n\n  if (isString) {\n    direction = endValue.split(\"_\")[1];\n\n    if (direction === \"short\") {\n      change %= cap;\n\n      if (change !== change % (cap / 2)) {\n        change += change < 0 ? cap : -cap;\n      }\n    }\n\n    if (direction === \"cw\" && change < 0) {\n      change = (change + cap * _bigNum) % cap - ~~(change / cap) * cap;\n    } else if (direction === \"ccw\" && change > 0) {\n      change = (change - cap * _bigNum) % cap - ~~(change / cap) * cap;\n    }\n  }\n\n  plugin._pt = pt = new PropTween(plugin._pt, target, property, startNum, change, _renderPropWithEnd);\n  pt.e = finalValue;\n  pt.u = \"deg\";\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _assign = function _assign(target, source) {\n  // Internet Explorer doesn't have Object.assign(), so we recreate it here.\n  for (var p in source) {\n    target[p] = source[p];\n  }\n\n  return target;\n},\n    _addRawTransformPTs = function _addRawTransformPTs(plugin, transforms, target) {\n  //for handling cases where someone passes in a whole transform string, like transform: \"scale(2, 3) rotate(20deg) translateY(30em)\"\n  var startCache = _assign({}, target._gsap),\n      exclude = \"perspective,force3D,transformOrigin,svgOrigin\",\n      style = target.style,\n      endCache,\n      p,\n      startValue,\n      endValue,\n      startNum,\n      endNum,\n      startUnit,\n      endUnit;\n\n  if (startCache.svg) {\n    startValue = target.getAttribute(\"transform\");\n    target.setAttribute(\"transform\", \"\");\n    style[_transformProp] = transforms;\n    endCache = _parseTransform(target, 1);\n\n    _removeProperty(target, _transformProp);\n\n    target.setAttribute(\"transform\", startValue);\n  } else {\n    startValue = getComputedStyle(target)[_transformProp];\n    style[_transformProp] = transforms;\n    endCache = _parseTransform(target, 1);\n    style[_transformProp] = startValue;\n  }\n\n  for (p in _transformProps) {\n    startValue = startCache[p];\n    endValue = endCache[p];\n\n    if (startValue !== endValue && exclude.indexOf(p) < 0) {\n      //tweening to no perspective gives very unintuitive results - just keep the same perspective in that case.\n      startUnit = getUnit(startValue);\n      endUnit = getUnit(endValue);\n      startNum = startUnit !== endUnit ? _convertToUnit(target, p, startValue, endUnit) : parseFloat(startValue);\n      endNum = parseFloat(endValue);\n      plugin._pt = new PropTween(plugin._pt, endCache, p, startNum, endNum - startNum, _renderCSSProp);\n      plugin._pt.u = endUnit || 0;\n\n      plugin._props.push(p);\n    }\n  }\n\n  _assign(endCache, startCache);\n}; // handle splitting apart padding, margin, borderWidth, and borderRadius into their 4 components. Firefox, for example, won't report borderRadius correctly - it will only do borderTopLeftRadius and the other corners. We also want to handle paddingTop, marginLeft, borderRightWidth, etc.\n\n\n_forEachName(\"padding,margin,Width,Radius\", function (name, index) {\n  var t = \"Top\",\n      r = \"Right\",\n      b = \"Bottom\",\n      l = \"Left\",\n      props = (index < 3 ? [t, r, b, l] : [t + l, t + r, b + r, b + l]).map(function (side) {\n    return index < 2 ? name + side : \"border\" + side + name;\n  });\n\n  _specialProps[index > 1 ? \"border\" + name : name] = function (plugin, target, property, endValue, tween) {\n    var a, vars;\n\n    if (arguments.length < 4) {\n      // getter, passed target, property, and unit (from _get())\n      a = props.map(function (prop) {\n        return _get(plugin, prop, property);\n      });\n      vars = a.join(\" \");\n      return vars.split(a[0]).length === 5 ? a[0] : vars;\n    }\n\n    a = (endValue + \"\").split(\" \");\n    vars = {};\n    props.forEach(function (prop, i) {\n      return vars[prop] = a[i] = a[i] || a[(i - 1) / 2 | 0];\n    });\n    plugin.init(target, vars, tween);\n  };\n});\n\nexport var CSSPlugin = {\n  name: \"css\",\n  register: _initCore,\n  targetTest: function targetTest(target) {\n    return target.style && target.nodeType;\n  },\n  init: function init(target, vars, tween, index, targets) {\n    var props = this._props,\n        style = target.style,\n        startAt = tween.vars.startAt,\n        startValue,\n        endValue,\n        endNum,\n        startNum,\n        type,\n        specialProp,\n        p,\n        startUnit,\n        endUnit,\n        relative,\n        isTransformRelated,\n        transformPropTween,\n        cache,\n        smooth,\n        hasPriority;\n    _pluginInitted || _initCore();\n\n    for (p in vars) {\n      if (p === \"autoRound\") {\n        continue;\n      }\n\n      endValue = vars[p];\n\n      if (_plugins[p] && _checkPlugin(p, vars, tween, index, target, targets)) {\n        // plugins\n        continue;\n      }\n\n      type = typeof endValue;\n      specialProp = _specialProps[p];\n\n      if (type === \"function\") {\n        endValue = endValue.call(tween, index, target, targets);\n        type = typeof endValue;\n      }\n\n      if (type === \"string\" && ~endValue.indexOf(\"random(\")) {\n        endValue = _replaceRandom(endValue);\n      }\n\n      if (specialProp) {\n        specialProp(this, target, p, endValue, tween) && (hasPriority = 1);\n      } else if (p.substr(0, 2) === \"--\") {\n        //CSS variable\n        startValue = (getComputedStyle(target).getPropertyValue(p) + \"\").trim();\n        endValue += \"\";\n        _colorExp.lastIndex = 0;\n\n        if (!_colorExp.test(startValue)) {\n          // colors don't have units\n          startUnit = getUnit(startValue);\n          endUnit = getUnit(endValue);\n        }\n\n        endUnit ? startUnit !== endUnit && (startValue = _convertToUnit(target, p, startValue, endUnit) + endUnit) : startUnit && (endValue += startUnit);\n        this.add(style, \"setProperty\", startValue, endValue, index, targets, 0, 0, p);\n        props.push(p);\n      } else if (type !== \"undefined\") {\n        if (startAt && p in startAt) {\n          // in case someone hard-codes a complex value as the start, like top: \"calc(2vh / 2)\". Without this, it'd use the computed value (always in px)\n          startValue = typeof startAt[p] === \"function\" ? startAt[p].call(tween, index, target, targets) : startAt[p];\n          p in _config.units && !getUnit(startValue) && (startValue += _config.units[p]); // for cases when someone passes in a unitless value like {x: 100}; if we try setting translate(100, 0px) it won't work.\n\n          (startValue + \"\").charAt(1) === \"=\" && (startValue = _get(target, p)); // can't work with relative values\n        } else {\n          startValue = _get(target, p);\n        }\n\n        startNum = parseFloat(startValue);\n        relative = type === \"string\" && endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n        relative && (endValue = endValue.substr(2));\n        endNum = parseFloat(endValue);\n\n        if (p in _propertyAliases) {\n          if (p === \"autoAlpha\") {\n            //special case where we control the visibility along with opacity. We still allow the opacity value to pass through and get tweened.\n            if (startNum === 1 && _get(target, \"visibility\") === \"hidden\" && endNum) {\n              //if visibility is initially set to \"hidden\", we should interpret that as intent to make opacity 0 (a convenience)\n              startNum = 0;\n            }\n\n            _addNonTweeningPT(this, style, \"visibility\", startNum ? \"inherit\" : \"hidden\", endNum ? \"inherit\" : \"hidden\", !endNum);\n          }\n\n          if (p !== \"scale\" && p !== \"transform\") {\n            p = _propertyAliases[p];\n            ~p.indexOf(\",\") && (p = p.split(\",\")[0]);\n          }\n        }\n\n        isTransformRelated = p in _transformProps; //--- TRANSFORM-RELATED ---\n\n        if (isTransformRelated) {\n          if (!transformPropTween) {\n            cache = target._gsap;\n            cache.renderTransform && !vars.parseTransform || _parseTransform(target, vars.parseTransform); // if, for example, gsap.set(... {transform:\"translateX(50vw)\"}), the _get() call doesn't parse the transform, thus cache.renderTransform won't be set yet so force the parsing of the transform here.\n\n            smooth = vars.smoothOrigin !== false && cache.smooth;\n            transformPropTween = this._pt = new PropTween(this._pt, style, _transformProp, 0, 1, cache.renderTransform, cache, 0, -1); //the first time through, create the rendering PropTween so that it runs LAST (in the linked list, we keep adding to the beginning)\n\n            transformPropTween.dep = 1; //flag it as dependent so that if things get killed/overwritten and this is the only PropTween left, we can safely kill the whole tween.\n          }\n\n          if (p === \"scale\") {\n            this._pt = new PropTween(this._pt, cache, \"scaleY\", cache.scaleY, (relative ? relative * endNum : endNum - cache.scaleY) || 0);\n            props.push(\"scaleY\", p);\n            p += \"X\";\n          } else if (p === \"transformOrigin\") {\n            endValue = _convertKeywordsToPercentages(endValue); //in case something like \"left top\" or \"bottom right\" is passed in. Convert to percentages.\n\n            if (cache.svg) {\n              _applySVGOrigin(target, endValue, 0, smooth, 0, this);\n            } else {\n              endUnit = parseFloat(endValue.split(\" \")[2]) || 0; //handle the zOrigin separately!\n\n              endUnit !== cache.zOrigin && _addNonTweeningPT(this, cache, \"zOrigin\", cache.zOrigin, endUnit);\n\n              _addNonTweeningPT(this, style, p, _firstTwoOnly(startValue), _firstTwoOnly(endValue));\n            }\n\n            continue;\n          } else if (p === \"svgOrigin\") {\n            _applySVGOrigin(target, endValue, 1, smooth, 0, this);\n\n            continue;\n          } else if (p in _rotationalProperties) {\n            _addRotationalPropTween(this, cache, p, startNum, endValue, relative);\n\n            continue;\n          } else if (p === \"smoothOrigin\") {\n            _addNonTweeningPT(this, cache, \"smooth\", cache.smooth, endValue);\n\n            continue;\n          } else if (p === \"force3D\") {\n            cache[p] = endValue;\n            continue;\n          } else if (p === \"transform\") {\n            _addRawTransformPTs(this, endValue, target);\n\n            continue;\n          }\n        } else if (!(p in style)) {\n          p = _checkPropPrefix(p) || p;\n        }\n\n        if (isTransformRelated || (endNum || endNum === 0) && (startNum || startNum === 0) && !_complexExp.test(endValue) && p in style) {\n          startUnit = (startValue + \"\").substr((startNum + \"\").length);\n          endNum || (endNum = 0); // protect against NaN\n\n          endUnit = getUnit(endValue) || (p in _config.units ? _config.units[p] : startUnit);\n          startUnit !== endUnit && (startNum = _convertToUnit(target, p, startValue, endUnit));\n          this._pt = new PropTween(this._pt, isTransformRelated ? cache : style, p, startNum, relative ? relative * endNum : endNum - startNum, !isTransformRelated && (endUnit === \"px\" || p === \"zIndex\") && vars.autoRound !== false ? _renderRoundedCSSProp : _renderCSSProp);\n          this._pt.u = endUnit || 0;\n\n          if (startUnit !== endUnit) {\n            //when the tween goes all the way back to the beginning, we need to revert it to the OLD/ORIGINAL value (with those units). We record that as a \"b\" (beginning) property and point to a render method that handles that. (performance optimization)\n            this._pt.b = startValue;\n            this._pt.r = _renderCSSPropWithBeginning;\n          }\n        } else if (!(p in style)) {\n          if (p in target) {\n            //maybe it's not a style - it could be a property added directly to an element in which case we'll try to animate that.\n            this.add(target, p, startValue || target[p], endValue, index, targets);\n          } else {\n            _missingPlugin(p, endValue);\n\n            continue;\n          }\n        } else {\n          _tweenComplexCSSString.call(this, target, p, startValue, endValue);\n        }\n\n        props.push(p);\n      }\n    }\n\n    hasPriority && _sortPropTweensByPriority(this);\n  },\n  get: _get,\n  aliases: _propertyAliases,\n  getSetter: function getSetter(target, property, plugin) {\n    //returns a setter function that accepts target, property, value and applies it accordingly. Remember, properties like \"x\" aren't as simple as target.style.property = value because they've got to be applied to a proxy object and then merged into a transform string in a renderer.\n    var p = _propertyAliases[property];\n    p && p.indexOf(\",\") < 0 && (property = p);\n    return property in _transformProps && property !== _transformOriginProp && (target._gsap.x || _get(target, \"x\")) ? plugin && _recentSetterPlugin === plugin ? property === \"scale\" ? _setterScale : _setterTransform : (_recentSetterPlugin = plugin || {}) && (property === \"scale\" ? _setterScaleWithRender : _setterTransformWithRender) : target.style && !_isUndefined(target.style[property]) ? _setterCSSStyle : ~property.indexOf(\"-\") ? _setterCSSProp : _getSetter(target, property);\n  },\n  core: {\n    _removeProperty: _removeProperty,\n    _getMatrix: _getMatrix\n  }\n};\ngsap.utils.checkPrefix = _checkPropPrefix;\n\n(function (positionAndScale, rotation, others, aliases) {\n  var all = _forEachName(positionAndScale + \",\" + rotation + \",\" + others, function (name) {\n    _transformProps[name] = 1;\n  });\n\n  _forEachName(rotation, function (name) {\n    _config.units[name] = \"deg\";\n    _rotationalProperties[name] = 1;\n  });\n\n  _propertyAliases[all[13]] = positionAndScale + \",\" + rotation;\n\n  _forEachName(aliases, function (name) {\n    var split = name.split(\":\");\n    _propertyAliases[split[1]] = all[split[0]];\n  });\n})(\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent\", \"rotation,rotationX,rotationY,skewX,skewY\", \"transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective\", \"0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY\");\n\n_forEachName(\"x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective\", function (name) {\n  _config.units[name] = \"px\";\n});\n\ngsap.registerPlugin(CSSPlugin);\nexport { CSSPlugin as default, _getBBox, _createElement, _checkPropPrefix as checkPrefix };","import { gsap, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ, TweenLite, TimelineLite, TimelineMax } from \"./gsap-core.js\";\nimport { CSSPlugin } from \"./CSSPlugin.js\";\nvar gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap,\n    // to protect from tree shaking\nTweenMaxWithCSS = gsapWithCSS.core.Tween;\nexport { gsapWithCSS as gsap, gsapWithCSS as default, CSSPlugin, TweenMaxWithCSS as TweenMax, TweenLite, TimelineMax, TimelineLite, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };","/*! Tweakpane 3.0.4 (c) 2016 cocopon, licensed under the MIT license. */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.Tweakpane = {}));\n}(this, (function (exports) { 'use strict';\n\n    /***\n     * A simple semantic versioning perser.\n     */\n    class Semver {\n        /**\n         * @hidden\n         */\n        constructor(text) {\n            const [core, prerelease] = text.split('-');\n            const coreComps = core.split('.');\n            this.major = parseInt(coreComps[0], 10);\n            this.minor = parseInt(coreComps[1], 10);\n            this.patch = parseInt(coreComps[2], 10);\n            this.prerelease = prerelease !== null && prerelease !== void 0 ? prerelease : null;\n        }\n        toString() {\n            const core = [this.major, this.minor, this.patch].join('.');\n            return this.prerelease !== null ? [core, this.prerelease].join('-') : core;\n        }\n    }\n\n    class BladeApi {\n        constructor(controller) {\n            this.controller_ = controller;\n        }\n        get disabled() {\n            return this.controller_.viewProps.get('disabled');\n        }\n        set disabled(disabled) {\n            this.controller_.viewProps.set('disabled', disabled);\n        }\n        get hidden() {\n            return this.controller_.viewProps.get('hidden');\n        }\n        set hidden(hidden) {\n            this.controller_.viewProps.set('hidden', hidden);\n        }\n        dispose() {\n            this.controller_.viewProps.set('disposed', true);\n        }\n    }\n\n    class TpEvent {\n        constructor(target) {\n            this.target = target;\n        }\n    }\n    class TpChangeEvent extends TpEvent {\n        constructor(target, value, presetKey, last) {\n            super(target);\n            this.value = value;\n            this.presetKey = presetKey;\n            this.last = last !== null && last !== void 0 ? last : true;\n        }\n    }\n    class TpUpdateEvent extends TpEvent {\n        constructor(target, value, presetKey) {\n            super(target);\n            this.value = value;\n            this.presetKey = presetKey;\n        }\n    }\n    class TpFoldEvent extends TpEvent {\n        constructor(target, expanded) {\n            super(target);\n            this.expanded = expanded;\n        }\n    }\n\n    function forceCast(v) {\n        return v;\n    }\n    function isEmpty(value) {\n        return value === null || value === undefined;\n    }\n    function deepEqualsArray(a1, a2) {\n        if (a1.length !== a2.length) {\n            return false;\n        }\n        for (let i = 0; i < a1.length; i++) {\n            if (a1[i] !== a2[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    const CREATE_MESSAGE_MAP = {\n        alreadydisposed: () => 'View has been already disposed',\n        invalidparams: (context) => `Invalid parameters for '${context.name}'`,\n        nomatchingcontroller: (context) => `No matching controller for '${context.key}'`,\n        nomatchingview: (context) => `No matching view for '${JSON.stringify(context.params)}'`,\n        notbindable: () => `Value is not bindable`,\n        propertynotfound: (context) => `Property '${context.name}' not found`,\n        shouldneverhappen: () => 'This error should never happen',\n    };\n    class TpError {\n        constructor(config) {\n            var _a;\n            this.message =\n                (_a = CREATE_MESSAGE_MAP[config.type](forceCast(config.context))) !== null && _a !== void 0 ? _a : 'Unexpected error';\n            this.name = this.constructor.name;\n            this.stack = new Error(this.message).stack;\n            this.type = config.type;\n        }\n        static alreadyDisposed() {\n            return new TpError({ type: 'alreadydisposed' });\n        }\n        static notBindable() {\n            return new TpError({\n                type: 'notbindable',\n            });\n        }\n        static propertyNotFound(name) {\n            return new TpError({\n                type: 'propertynotfound',\n                context: {\n                    name: name,\n                },\n            });\n        }\n        static shouldNeverHappen() {\n            return new TpError({ type: 'shouldneverhappen' });\n        }\n    }\n\n    class BindingTarget {\n        constructor(obj, key, opt_id) {\n            this.obj_ = obj;\n            this.key_ = key;\n            this.presetKey_ = opt_id !== null && opt_id !== void 0 ? opt_id : key;\n        }\n        static isBindable(obj) {\n            if (obj === null) {\n                return false;\n            }\n            if (typeof obj !== 'object') {\n                return false;\n            }\n            return true;\n        }\n        get key() {\n            return this.key_;\n        }\n        get presetKey() {\n            return this.presetKey_;\n        }\n        read() {\n            return this.obj_[this.key_];\n        }\n        write(value) {\n            this.obj_[this.key_] = value;\n        }\n        writeProperty(name, value) {\n            const valueObj = this.read();\n            if (!BindingTarget.isBindable(valueObj)) {\n                throw TpError.notBindable();\n            }\n            if (!(name in valueObj)) {\n                throw TpError.propertyNotFound(name);\n            }\n            valueObj[name] = value;\n        }\n    }\n\n    class ButtonApi extends BladeApi {\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get title() {\n            var _a;\n            return (_a = this.controller_.valueController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n        }\n        set title(title) {\n            this.controller_.valueController.props.set('title', title);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            const emitter = this.controller_.valueController.emitter;\n            emitter.on(eventName, () => {\n                bh(new TpEvent(this));\n            });\n            return this;\n        }\n    }\n\n    class Emitter {\n        constructor() {\n            this.observers_ = {};\n        }\n        on(eventName, handler) {\n            let observers = this.observers_[eventName];\n            if (!observers) {\n                observers = this.observers_[eventName] = [];\n            }\n            observers.push({\n                handler: handler,\n            });\n            return this;\n        }\n        off(eventName, handler) {\n            const observers = this.observers_[eventName];\n            if (observers) {\n                this.observers_[eventName] = observers.filter((observer) => {\n                    return observer.handler !== handler;\n                });\n            }\n            return this;\n        }\n        emit(eventName, event) {\n            const observers = this.observers_[eventName];\n            if (!observers) {\n                return;\n            }\n            observers.forEach((observer) => {\n                observer.handler(event);\n            });\n        }\n    }\n\n    const PREFIX = 'tp';\n    function ClassName(viewName) {\n        const fn = (opt_elementName, opt_modifier) => {\n            return [\n                PREFIX,\n                '-',\n                viewName,\n                'v',\n                opt_elementName ? `_${opt_elementName}` : '',\n                opt_modifier ? `-${opt_modifier}` : '',\n            ].join('');\n        };\n        return fn;\n    }\n\n    function compose(h1, h2) {\n        return (input) => h2(h1(input));\n    }\n    function extractValue(ev) {\n        return ev.rawValue;\n    }\n    function bindValue(value, applyValue) {\n        value.emitter.on('change', compose(extractValue, applyValue));\n        applyValue(value.rawValue);\n    }\n    function bindValueMap(valueMap, key, applyValue) {\n        bindValue(valueMap.value(key), applyValue);\n    }\n\n    function applyClass(elem, className, active) {\n        if (active) {\n            elem.classList.add(className);\n        }\n        else {\n            elem.classList.remove(className);\n        }\n    }\n    function valueToClassName(elem, className) {\n        return (value) => {\n            applyClass(elem, className, value);\n        };\n    }\n    function bindValueToTextContent(value, elem) {\n        bindValue(value, (text) => {\n            elem.textContent = text !== null && text !== void 0 ? text : '';\n        });\n    }\n\n    const className$q = ClassName('btn');\n    class ButtonView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$q());\n            config.viewProps.bindClassModifiers(this.element);\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$q('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const titleElem = doc.createElement('div');\n            titleElem.classList.add(className$q('t'));\n            bindValueToTextContent(config.props.value('title'), titleElem);\n            this.buttonElement.appendChild(titleElem);\n        }\n    }\n\n    class ButtonController {\n        constructor(doc, config) {\n            this.emitter = new Emitter();\n            this.onClick_ = this.onClick_.bind(this);\n            this.props = config.props;\n            this.viewProps = config.viewProps;\n            this.view = new ButtonView(doc, {\n                props: this.props,\n                viewProps: this.viewProps,\n            });\n            this.view.buttonElement.addEventListener('click', this.onClick_);\n        }\n        onClick_() {\n            this.emitter.emit('click', {\n                sender: this,\n            });\n        }\n    }\n\n    class BoundValue {\n        constructor(initialValue, config) {\n            var _a;\n            this.constraint_ = config === null || config === void 0 ? void 0 : config.constraint;\n            this.equals_ = (_a = config === null || config === void 0 ? void 0 : config.equals) !== null && _a !== void 0 ? _a : ((v1, v2) => v1 === v2);\n            this.emitter = new Emitter();\n            this.rawValue_ = initialValue;\n        }\n        get constraint() {\n            return this.constraint_;\n        }\n        get rawValue() {\n            return this.rawValue_;\n        }\n        set rawValue(rawValue) {\n            this.setRawValue(rawValue, {\n                forceEmit: false,\n                last: true,\n            });\n        }\n        setRawValue(rawValue, options) {\n            const opts = options !== null && options !== void 0 ? options : {\n                forceEmit: false,\n                last: true,\n            };\n            const constrainedValue = this.constraint_\n                ? this.constraint_.constrain(rawValue)\n                : rawValue;\n            const changed = !this.equals_(this.rawValue_, constrainedValue);\n            if (!changed && !opts.forceEmit) {\n                return;\n            }\n            this.emitter.emit('beforechange', {\n                sender: this,\n            });\n            this.rawValue_ = constrainedValue;\n            this.emitter.emit('change', {\n                options: opts,\n                rawValue: constrainedValue,\n                sender: this,\n            });\n        }\n    }\n\n    class PrimitiveValue {\n        constructor(initialValue) {\n            this.emitter = new Emitter();\n            this.value_ = initialValue;\n        }\n        get rawValue() {\n            return this.value_;\n        }\n        set rawValue(value) {\n            this.setRawValue(value, {\n                forceEmit: false,\n                last: true,\n            });\n        }\n        setRawValue(value, options) {\n            const opts = options !== null && options !== void 0 ? options : {\n                forceEmit: false,\n                last: true,\n            };\n            if (this.value_ === value && !opts.forceEmit) {\n                return;\n            }\n            this.emitter.emit('beforechange', {\n                sender: this,\n            });\n            this.value_ = value;\n            this.emitter.emit('change', {\n                options: opts,\n                rawValue: this.value_,\n                sender: this,\n            });\n        }\n    }\n\n    function createValue(initialValue, config) {\n        const constraint = config === null || config === void 0 ? void 0 : config.constraint;\n        const equals = config === null || config === void 0 ? void 0 : config.equals;\n        if (!constraint && !equals) {\n            return new PrimitiveValue(initialValue);\n        }\n        return new BoundValue(initialValue, config);\n    }\n\n    class ValueMap {\n        constructor(valueMap) {\n            this.emitter = new Emitter();\n            this.valMap_ = valueMap;\n            for (const key in this.valMap_) {\n                const v = this.valMap_[key];\n                v.emitter.on('change', () => {\n                    this.emitter.emit('change', {\n                        key: key,\n                        sender: this,\n                    });\n                });\n            }\n        }\n        static createCore(initialValue) {\n            const keys = Object.keys(initialValue);\n            return keys.reduce((o, key) => {\n                return Object.assign(o, {\n                    [key]: createValue(initialValue[key]),\n                });\n            }, {});\n        }\n        static fromObject(initialValue) {\n            const core = this.createCore(initialValue);\n            return new ValueMap(core);\n        }\n        get(key) {\n            return this.valMap_[key].rawValue;\n        }\n        set(key, value) {\n            this.valMap_[key].rawValue = value;\n        }\n        value(key) {\n            return this.valMap_[key];\n        }\n    }\n\n    function parseObject(value, keyToParserMap) {\n        const keys = Object.keys(keyToParserMap);\n        const result = keys.reduce((tmp, key) => {\n            if (tmp === undefined) {\n                return undefined;\n            }\n            const parser = keyToParserMap[key];\n            const result = parser(value[key]);\n            return result.succeeded\n                ? Object.assign(Object.assign({}, tmp), { [key]: result.value }) : undefined;\n        }, {});\n        return forceCast(result);\n    }\n    function parseArray(value, parseItem) {\n        return value.reduce((tmp, item) => {\n            if (tmp === undefined) {\n                return undefined;\n            }\n            const result = parseItem(item);\n            if (!result.succeeded || result.value === undefined) {\n                return undefined;\n            }\n            return [...tmp, result.value];\n        }, []);\n    }\n    function isObject(value) {\n        if (value === null) {\n            return false;\n        }\n        return typeof value === 'object';\n    }\n    function createParamsParserBuilder(parse) {\n        return (optional) => (v) => {\n            if (!optional && v === undefined) {\n                return {\n                    succeeded: false,\n                    value: undefined,\n                };\n            }\n            if (optional && v === undefined) {\n                return {\n                    succeeded: true,\n                    value: undefined,\n                };\n            }\n            const result = parse(v);\n            return result !== undefined\n                ? {\n                    succeeded: true,\n                    value: result,\n                }\n                : {\n                    succeeded: false,\n                    value: undefined,\n                };\n        };\n    }\n    function createParamsParserBuilders(optional) {\n        return {\n            custom: (parse) => createParamsParserBuilder(parse)(optional),\n            boolean: createParamsParserBuilder((v) => typeof v === 'boolean' ? v : undefined)(optional),\n            number: createParamsParserBuilder((v) => typeof v === 'number' ? v : undefined)(optional),\n            string: createParamsParserBuilder((v) => typeof v === 'string' ? v : undefined)(optional),\n            function: createParamsParserBuilder((v) =>\n            typeof v === 'function' ? v : undefined)(optional),\n            constant: (value) => createParamsParserBuilder((v) => (v === value ? value : undefined))(optional),\n            raw: createParamsParserBuilder((v) => v)(optional),\n            object: (keyToParserMap) => createParamsParserBuilder((v) => {\n                if (!isObject(v)) {\n                    return undefined;\n                }\n                return parseObject(v, keyToParserMap);\n            })(optional),\n            array: (itemParser) => createParamsParserBuilder((v) => {\n                if (!Array.isArray(v)) {\n                    return undefined;\n                }\n                return parseArray(v, itemParser);\n            })(optional),\n        };\n    }\n    const ParamsParsers = {\n        optional: createParamsParserBuilders(true),\n        required: createParamsParserBuilders(false),\n    };\n    function parseParams(value, keyToParserMap) {\n        const result = ParamsParsers.required.object(keyToParserMap)(value);\n        return result.succeeded ? result.value : undefined;\n    }\n\n    function disposeElement(elem) {\n        if (elem && elem.parentElement) {\n            elem.parentElement.removeChild(elem);\n        }\n        return null;\n    }\n\n    function getAllBladePositions() {\n        return ['veryfirst', 'first', 'last', 'verylast'];\n    }\n\n    const className$p = ClassName('');\n    const POS_TO_CLASS_NAME_MAP = {\n        veryfirst: 'vfst',\n        first: 'fst',\n        last: 'lst',\n        verylast: 'vlst',\n    };\n    class BladeController {\n        constructor(config) {\n            this.parent_ = null;\n            this.blade = config.blade;\n            this.view = config.view;\n            this.viewProps = config.viewProps;\n            const elem = this.view.element;\n            this.blade.value('positions').emitter.on('change', () => {\n                getAllBladePositions().forEach((pos) => {\n                    elem.classList.remove(className$p(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n                });\n                this.blade.get('positions').forEach((pos) => {\n                    elem.classList.add(className$p(undefined, POS_TO_CLASS_NAME_MAP[pos]));\n                });\n            });\n            this.viewProps.handleDispose(() => {\n                disposeElement(elem);\n            });\n        }\n        get parent() {\n            return this.parent_;\n        }\n    }\n\n    const SVG_NS = 'http://www.w3.org/2000/svg';\n    function forceReflow(element) {\n        element.offsetHeight;\n    }\n    function disableTransitionTemporarily(element, callback) {\n        const t = element.style.transition;\n        element.style.transition = 'none';\n        callback();\n        element.style.transition = t;\n    }\n    function supportsTouch(doc) {\n        return doc.ontouchstart !== undefined;\n    }\n    function getGlobalObject() {\n        return new Function('return this')();\n    }\n    function getWindowDocument() {\n        const globalObj = forceCast(getGlobalObject());\n        return globalObj.document;\n    }\n    function isBrowser() {\n        return 'document' in getGlobalObject();\n    }\n    function getCanvasContext(canvasElement) {\n        return isBrowser() ? canvasElement.getContext('2d') : null;\n    }\n    const ICON_ID_TO_INNER_HTML_MAP = {\n        check: '<path d=\"M2 8l4 4l8 -8\"/>',\n        dropdown: '<path d=\"M5 7h6l-3 3 z\"/>',\n        p2dpad: '<path d=\"M8 4v8\"/><path d=\"M4 8h8\"/><circle cx=\"12\" cy=\"12\" r=\"1.2\"/>',\n    };\n    function createSvgIconElement(document, iconId) {\n        const elem = document.createElementNS(SVG_NS, 'svg');\n        elem.innerHTML = ICON_ID_TO_INNER_HTML_MAP[iconId];\n        return elem;\n    }\n    function insertElementAt(parentElement, element, index) {\n        parentElement.insertBefore(element, parentElement.children[index]);\n    }\n    function removeElement(element) {\n        if (element.parentElement) {\n            element.parentElement.removeChild(element);\n        }\n    }\n    function removeChildElements(element) {\n        while (element.children.length > 0) {\n            element.removeChild(element.children[0]);\n        }\n    }\n    function removeChildNodes(element) {\n        while (element.childNodes.length > 0) {\n            element.removeChild(element.childNodes[0]);\n        }\n    }\n    function findNextTarget(ev) {\n        if (ev.relatedTarget) {\n            return forceCast(ev.relatedTarget);\n        }\n        if ('explicitOriginalTarget' in ev) {\n            return ev.explicitOriginalTarget;\n        }\n        return null;\n    }\n\n    const className$o = ClassName('lbl');\n    function createLabelNode(doc, label) {\n        const frag = doc.createDocumentFragment();\n        const lineNodes = label.split('\\n').map((line) => {\n            return doc.createTextNode(line);\n        });\n        lineNodes.forEach((lineNode, index) => {\n            if (index > 0) {\n                frag.appendChild(doc.createElement('br'));\n            }\n            frag.appendChild(lineNode);\n        });\n        return frag;\n    }\n    class LabelView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$o());\n            config.viewProps.bindClassModifiers(this.element);\n            const labelElem = doc.createElement('div');\n            labelElem.classList.add(className$o('l'));\n            bindValueMap(config.props, 'label', (value) => {\n                if (isEmpty(value)) {\n                    this.element.classList.add(className$o(undefined, 'nol'));\n                }\n                else {\n                    this.element.classList.remove(className$o(undefined, 'nol'));\n                    removeChildNodes(labelElem);\n                    labelElem.appendChild(createLabelNode(doc, value));\n                }\n            });\n            this.element.appendChild(labelElem);\n            this.labelElement = labelElem;\n            const valueElem = doc.createElement('div');\n            valueElem.classList.add(className$o('v'));\n            this.element.appendChild(valueElem);\n            this.valueElement = valueElem;\n        }\n    }\n\n    class LabelController extends BladeController {\n        constructor(doc, config) {\n            const viewProps = config.valueController.viewProps;\n            super(Object.assign(Object.assign({}, config), { view: new LabelView(doc, {\n                    props: config.props,\n                    viewProps: viewProps,\n                }), viewProps: viewProps }));\n            this.props = config.props;\n            this.valueController = config.valueController;\n            this.view.valueElement.appendChild(this.valueController.view.element);\n        }\n    }\n\n    const ButtonBladePlugin = {\n        id: 'button',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                title: p.required.string,\n                view: p.required.constant('button'),\n                label: p.optional.string,\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            return new LabelController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                valueController: new ButtonController(args.document, {\n                    props: ValueMap.fromObject({\n                        title: args.params.title,\n                    }),\n                    viewProps: args.viewProps,\n                }),\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof LabelController)) {\n                return null;\n            }\n            if (!(args.controller.valueController instanceof ButtonController)) {\n                return null;\n            }\n            return new ButtonApi(args.controller);\n        },\n    };\n\n    class ValueBladeController extends BladeController {\n        constructor(config) {\n            super(config);\n            this.value = config.value;\n        }\n    }\n\n    function createBlade() {\n        return new ValueMap({\n            positions: createValue([], {\n                equals: deepEqualsArray,\n            }),\n        });\n    }\n\n    class Foldable extends ValueMap {\n        constructor(valueMap) {\n            super(valueMap);\n        }\n        static create(expanded) {\n            const coreObj = {\n                completed: true,\n                expanded: expanded,\n                expandedHeight: null,\n                shouldFixHeight: false,\n                temporaryExpanded: null,\n            };\n            const core = ValueMap.createCore(coreObj);\n            return new Foldable(core);\n        }\n        get styleExpanded() {\n            var _a;\n            return (_a = this.get('temporaryExpanded')) !== null && _a !== void 0 ? _a : this.get('expanded');\n        }\n        get styleHeight() {\n            if (!this.styleExpanded) {\n                return '0';\n            }\n            const exHeight = this.get('expandedHeight');\n            if (this.get('shouldFixHeight') && !isEmpty(exHeight)) {\n                return `${exHeight}px`;\n            }\n            return 'auto';\n        }\n        bindExpandedClass(elem, expandedClassName) {\n            bindValueMap(this, 'expanded', () => {\n                const expanded = this.styleExpanded;\n                if (expanded) {\n                    elem.classList.add(expandedClassName);\n                }\n                else {\n                    elem.classList.remove(expandedClassName);\n                }\n            });\n        }\n    }\n    function computeExpandedFolderHeight(folder, containerElement) {\n        let height = 0;\n        disableTransitionTemporarily(containerElement, () => {\n            folder.set('expandedHeight', null);\n            folder.set('temporaryExpanded', true);\n            forceReflow(containerElement);\n            height = containerElement.clientHeight;\n            folder.set('temporaryExpanded', null);\n            forceReflow(containerElement);\n        });\n        return height;\n    }\n    function applyHeight(foldable, elem) {\n        elem.style.height = foldable.styleHeight;\n    }\n    function bindFoldable(foldable, elem) {\n        foldable.value('expanded').emitter.on('beforechange', () => {\n            foldable.set('completed', false);\n            if (isEmpty(foldable.get('expandedHeight'))) {\n                foldable.set('expandedHeight', computeExpandedFolderHeight(foldable, elem));\n            }\n            foldable.set('shouldFixHeight', true);\n            forceReflow(elem);\n        });\n        foldable.emitter.on('change', () => {\n            applyHeight(foldable, elem);\n        });\n        applyHeight(foldable, elem);\n        elem.addEventListener('transitionend', (ev) => {\n            if (ev.propertyName !== 'height') {\n                return;\n            }\n            foldable.set('shouldFixHeight', false);\n            foldable.set('expandedHeight', null);\n            foldable.set('completed', true);\n        });\n    }\n\n    class RackLikeApi extends BladeApi {\n        constructor(controller, rackApi) {\n            super(controller);\n            this.rackApi_ = rackApi;\n        }\n    }\n\n    function addButtonAsBlade(api, params) {\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'button' }));\n    }\n    function addFolderAsBlade(api, params) {\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'folder' }));\n    }\n    function addSeparatorAsBlade(api, opt_params) {\n        const params = opt_params || {};\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'separator' }));\n    }\n    function addTabAsBlade(api, params) {\n        return api.addBlade(Object.assign(Object.assign({}, params), { view: 'tab' }));\n    }\n\n    class NestedOrderedSet {\n        constructor(extract) {\n            this.emitter = new Emitter();\n            this.items_ = [];\n            this.cache_ = new Set();\n            this.onSubListAdd_ = this.onSubListAdd_.bind(this);\n            this.onSubListRemove_ = this.onSubListRemove_.bind(this);\n            this.extract_ = extract;\n        }\n        get items() {\n            return this.items_;\n        }\n        allItems() {\n            return Array.from(this.cache_);\n        }\n        find(callback) {\n            for (const item of this.allItems()) {\n                if (callback(item)) {\n                    return item;\n                }\n            }\n            return null;\n        }\n        includes(item) {\n            return this.cache_.has(item);\n        }\n        add(item, opt_index) {\n            if (this.includes(item)) {\n                throw TpError.shouldNeverHappen();\n            }\n            const index = opt_index !== undefined ? opt_index : this.items_.length;\n            this.items_.splice(index, 0, item);\n            this.cache_.add(item);\n            const subList = this.extract_(item);\n            if (subList) {\n                subList.emitter.on('add', this.onSubListAdd_);\n                subList.emitter.on('remove', this.onSubListRemove_);\n                subList.allItems().forEach((item) => {\n                    this.cache_.add(item);\n                });\n            }\n            this.emitter.emit('add', {\n                index: index,\n                item: item,\n                root: this,\n                target: this,\n            });\n        }\n        remove(item) {\n            const index = this.items_.indexOf(item);\n            if (index < 0) {\n                return;\n            }\n            this.items_.splice(index, 1);\n            this.cache_.delete(item);\n            const subList = this.extract_(item);\n            if (subList) {\n                subList.emitter.off('add', this.onSubListAdd_);\n                subList.emitter.off('remove', this.onSubListRemove_);\n            }\n            this.emitter.emit('remove', {\n                index: index,\n                item: item,\n                root: this,\n                target: this,\n            });\n        }\n        onSubListAdd_(ev) {\n            this.cache_.add(ev.item);\n            this.emitter.emit('add', {\n                index: ev.index,\n                item: ev.item,\n                root: this,\n                target: ev.target,\n            });\n        }\n        onSubListRemove_(ev) {\n            this.cache_.delete(ev.item);\n            this.emitter.emit('remove', {\n                index: ev.index,\n                item: ev.item,\n                root: this,\n                target: ev.target,\n            });\n        }\n    }\n\n    class InputBindingApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.onBindingChange_ = this.onBindingChange_.bind(this);\n            this.emitter_ = new Emitter();\n            this.controller_.binding.emitter.on('change', this.onBindingChange_);\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        refresh() {\n            this.controller_.binding.read();\n        }\n        onBindingChange_(ev) {\n            const value = ev.sender.target.read();\n            this.emitter_.emit('change', {\n                event: new TpChangeEvent(this, forceCast(value), this.controller_.binding.target.presetKey, ev.options.last),\n            });\n        }\n    }\n\n    class InputBindingController extends LabelController {\n        constructor(doc, config) {\n            super(doc, config);\n            this.binding = config.binding;\n        }\n    }\n\n    class MonitorBindingApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.onBindingUpdate_ = this.onBindingUpdate_.bind(this);\n            this.emitter_ = new Emitter();\n            this.controller_.binding.emitter.on('update', this.onBindingUpdate_);\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        refresh() {\n            this.controller_.binding.read();\n        }\n        onBindingUpdate_(ev) {\n            const value = ev.sender.target.read();\n            this.emitter_.emit('update', {\n                event: new TpUpdateEvent(this, forceCast(value), this.controller_.binding.target.presetKey),\n            });\n        }\n    }\n\n    class MonitorBindingController extends LabelController {\n        constructor(doc, config) {\n            super(doc, config);\n            this.binding = config.binding;\n            this.viewProps.bindDisabled(this.binding.ticker);\n            this.viewProps.handleDispose(() => {\n                this.binding.dispose();\n            });\n        }\n    }\n\n    function findSubBladeApiSet(api) {\n        if (api instanceof RackApi) {\n            return api['apiSet_'];\n        }\n        if (api instanceof RackLikeApi) {\n            return api['rackApi_']['apiSet_'];\n        }\n        return null;\n    }\n    function getApiByController(apiSet, controller) {\n        const api = apiSet.find((api) => api.controller_ === controller);\n        if (!api) {\n            throw TpError.shouldNeverHappen();\n        }\n        return api;\n    }\n    function createBindingTarget(obj, key, opt_id) {\n        if (!BindingTarget.isBindable(obj)) {\n            throw TpError.notBindable();\n        }\n        return new BindingTarget(obj, key, opt_id);\n    }\n    class RackApi extends BladeApi {\n        constructor(controller, pool) {\n            super(controller);\n            this.onRackAdd_ = this.onRackAdd_.bind(this);\n            this.onRackRemove_ = this.onRackRemove_.bind(this);\n            this.onRackInputChange_ = this.onRackInputChange_.bind(this);\n            this.onRackMonitorUpdate_ = this.onRackMonitorUpdate_.bind(this);\n            this.emitter_ = new Emitter();\n            this.apiSet_ = new NestedOrderedSet(findSubBladeApiSet);\n            this.pool_ = pool;\n            const rack = this.controller_.rack;\n            rack.emitter.on('add', this.onRackAdd_);\n            rack.emitter.on('remove', this.onRackRemove_);\n            rack.emitter.on('inputchange', this.onRackInputChange_);\n            rack.emitter.on('monitorupdate', this.onRackMonitorUpdate_);\n            rack.children.forEach((bc) => {\n                this.setUpApi_(bc);\n            });\n        }\n        get children() {\n            return this.controller_.rack.children.map((bc) => getApiByController(this.apiSet_, bc));\n        }\n        addInput(object, key, opt_params) {\n            const params = opt_params || {};\n            const doc = this.controller_.view.element.ownerDocument;\n            const bc = this.pool_.createInput(doc, createBindingTarget(object, key, params.presetKey), params);\n            const api = new InputBindingApi(bc);\n            return this.add(api, params.index);\n        }\n        addMonitor(object, key, opt_params) {\n            const params = opt_params || {};\n            const doc = this.controller_.view.element.ownerDocument;\n            const bc = this.pool_.createMonitor(doc, createBindingTarget(object, key), params);\n            const api = new MonitorBindingApi(bc);\n            return forceCast(this.add(api, params.index));\n        }\n        addFolder(params) {\n            return addFolderAsBlade(this, params);\n        }\n        addButton(params) {\n            return addButtonAsBlade(this, params);\n        }\n        addSeparator(opt_params) {\n            return addSeparatorAsBlade(this, opt_params);\n        }\n        addTab(params) {\n            return addTabAsBlade(this, params);\n        }\n        add(api, opt_index) {\n            this.controller_.rack.add(api.controller_, opt_index);\n            const gapi = this.apiSet_.find((a) => a.controller_ === api.controller_);\n            if (gapi) {\n                this.apiSet_.remove(gapi);\n            }\n            this.apiSet_.add(api);\n            return api;\n        }\n        remove(api) {\n            this.controller_.rack.remove(api.controller_);\n        }\n        addBlade(params) {\n            const doc = this.controller_.view.element.ownerDocument;\n            const bc = this.pool_.createBlade(doc, params);\n            const api = this.pool_.createBladeApi(bc);\n            return this.add(api, params.index);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        setUpApi_(bc) {\n            const api = this.apiSet_.find((api) => api.controller_ === bc);\n            if (!api) {\n                this.apiSet_.add(this.pool_.createBladeApi(bc));\n            }\n        }\n        onRackAdd_(ev) {\n            this.setUpApi_(ev.bladeController);\n        }\n        onRackRemove_(ev) {\n            if (ev.isRoot) {\n                const api = getApiByController(this.apiSet_, ev.bladeController);\n                this.apiSet_.remove(api);\n            }\n        }\n        onRackInputChange_(ev) {\n            const bc = ev.bladeController;\n            if (bc instanceof InputBindingController) {\n                const api = getApiByController(this.apiSet_, bc);\n                const binding = bc.binding;\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(api, forceCast(binding.target.read()), binding.target.presetKey, ev.options.last),\n                });\n            }\n            else if (bc instanceof ValueBladeController) {\n                const api = getApiByController(this.apiSet_, bc);\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(api, bc.value.rawValue, undefined, ev.options.last),\n                });\n            }\n        }\n        onRackMonitorUpdate_(ev) {\n            if (!(ev.bladeController instanceof MonitorBindingController)) {\n                throw TpError.shouldNeverHappen();\n            }\n            const api = getApiByController(this.apiSet_, ev.bladeController);\n            const binding = ev.bladeController.binding;\n            this.emitter_.emit('update', {\n                event: new TpUpdateEvent(api, forceCast(binding.target.read()), binding.target.presetKey),\n            });\n        }\n    }\n\n    class FolderApi extends RackLikeApi {\n        constructor(controller, pool) {\n            super(controller, new RackApi(controller.rackController, pool));\n            this.emitter_ = new Emitter();\n            this.controller_.foldable\n                .value('expanded')\n                .emitter.on('change', (ev) => {\n                this.emitter_.emit('fold', {\n                    event: new TpFoldEvent(this, ev.sender.rawValue),\n                });\n            });\n            this.rackApi_.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: ev,\n                });\n            });\n            this.rackApi_.on('update', (ev) => {\n                this.emitter_.emit('update', {\n                    event: ev,\n                });\n            });\n        }\n        get expanded() {\n            return this.controller_.foldable.get('expanded');\n        }\n        set expanded(expanded) {\n            this.controller_.foldable.set('expanded', expanded);\n        }\n        get title() {\n            return this.controller_.props.get('title');\n        }\n        set title(title) {\n            this.controller_.props.set('title', title);\n        }\n        get children() {\n            return this.rackApi_.children;\n        }\n        addInput(object, key, opt_params) {\n            return this.rackApi_.addInput(object, key, opt_params);\n        }\n        addMonitor(object, key, opt_params) {\n            return this.rackApi_.addMonitor(object, key, opt_params);\n        }\n        addFolder(params) {\n            return this.rackApi_.addFolder(params);\n        }\n        addButton(params) {\n            return this.rackApi_.addButton(params);\n        }\n        addSeparator(opt_params) {\n            return this.rackApi_.addSeparator(opt_params);\n        }\n        addTab(params) {\n            return this.rackApi_.addTab(params);\n        }\n        add(api, opt_index) {\n            return this.rackApi_.add(api, opt_index);\n        }\n        remove(api) {\n            this.rackApi_.remove(api);\n        }\n        addBlade(params) {\n            return this.rackApi_.addBlade(params);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    class RackLikeController extends BladeController {\n        constructor(config) {\n            super({\n                blade: config.blade,\n                view: config.view,\n                viewProps: config.rackController.viewProps,\n            });\n            this.rackController = config.rackController;\n        }\n    }\n\n    class PlainView {\n        constructor(doc, config) {\n            const className = ClassName(config.viewName);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className());\n            config.viewProps.bindClassModifiers(this.element);\n        }\n    }\n\n    function findInputBindingController(bcs, b) {\n        for (let i = 0; i < bcs.length; i++) {\n            const bc = bcs[i];\n            if (bc instanceof InputBindingController && bc.binding === b) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findMonitorBindingController(bcs, b) {\n        for (let i = 0; i < bcs.length; i++) {\n            const bc = bcs[i];\n            if (bc instanceof MonitorBindingController && bc.binding === b) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findValueBladeController(bcs, v) {\n        for (let i = 0; i < bcs.length; i++) {\n            const bc = bcs[i];\n            if (bc instanceof ValueBladeController && bc.value === v) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findSubRack(bc) {\n        if (bc instanceof RackController) {\n            return bc.rack;\n        }\n        if (bc instanceof RackLikeController) {\n            return bc.rackController.rack;\n        }\n        return null;\n    }\n    function findSubBladeControllerSet(bc) {\n        const rack = findSubRack(bc);\n        return rack ? rack['bcSet_'] : null;\n    }\n    class BladeRack {\n        constructor(blade) {\n            var _a;\n            this.onBladePositionsChange_ = this.onBladePositionsChange_.bind(this);\n            this.onSetAdd_ = this.onSetAdd_.bind(this);\n            this.onSetRemove_ = this.onSetRemove_.bind(this);\n            this.onChildDispose_ = this.onChildDispose_.bind(this);\n            this.onChildPositionsChange_ = this.onChildPositionsChange_.bind(this);\n            this.onChildInputChange_ = this.onChildInputChange_.bind(this);\n            this.onChildMonitorUpdate_ = this.onChildMonitorUpdate_.bind(this);\n            this.onChildValueChange_ = this.onChildValueChange_.bind(this);\n            this.onChildViewPropsChange_ = this.onChildViewPropsChange_.bind(this);\n            this.onDescendantLayout_ = this.onDescendantLayout_.bind(this);\n            this.onDescendantInputChange_ = this.onDescendantInputChange_.bind(this);\n            this.onDescendantMonitorUpdate_ =\n                this.onDescendantMonitorUpdate_.bind(this);\n            this.emitter = new Emitter();\n            this.blade_ = blade !== null && blade !== void 0 ? blade : null;\n            (_a = this.blade_) === null || _a === void 0 ? void 0 : _a.value('positions').emitter.on('change', this.onBladePositionsChange_);\n            this.bcSet_ = new NestedOrderedSet(findSubBladeControllerSet);\n            this.bcSet_.emitter.on('add', this.onSetAdd_);\n            this.bcSet_.emitter.on('remove', this.onSetRemove_);\n        }\n        get children() {\n            return this.bcSet_.items;\n        }\n        add(bc, opt_index) {\n            if (bc.parent) {\n                bc.parent.remove(bc);\n            }\n            bc['parent_'] = this;\n            this.bcSet_.add(bc, opt_index);\n        }\n        remove(bc) {\n            bc['parent_'] = null;\n            this.bcSet_.remove(bc);\n        }\n        find(controllerClass) {\n            return forceCast(this.bcSet_.allItems().filter((bc) => {\n                return bc instanceof controllerClass;\n            }));\n        }\n        onSetAdd_(ev) {\n            this.updatePositions_();\n            const isRoot = ev.target === ev.root;\n            this.emitter.emit('add', {\n                bladeController: ev.item,\n                index: ev.index,\n                isRoot: isRoot,\n                sender: this,\n            });\n            if (!isRoot) {\n                return;\n            }\n            const bc = ev.item;\n            bc.viewProps.emitter.on('change', this.onChildViewPropsChange_);\n            bc.blade\n                .value('positions')\n                .emitter.on('change', this.onChildPositionsChange_);\n            bc.viewProps.handleDispose(this.onChildDispose_);\n            if (bc instanceof InputBindingController) {\n                bc.binding.emitter.on('change', this.onChildInputChange_);\n            }\n            else if (bc instanceof MonitorBindingController) {\n                bc.binding.emitter.on('update', this.onChildMonitorUpdate_);\n            }\n            else if (bc instanceof ValueBladeController) {\n                bc.value.emitter.on('change', this.onChildValueChange_);\n            }\n            else {\n                const rack = findSubRack(bc);\n                if (rack) {\n                    const emitter = rack.emitter;\n                    emitter.on('layout', this.onDescendantLayout_);\n                    emitter.on('inputchange', this.onDescendantInputChange_);\n                    emitter.on('monitorupdate', this.onDescendantMonitorUpdate_);\n                }\n            }\n        }\n        onSetRemove_(ev) {\n            this.updatePositions_();\n            const isRoot = ev.target === ev.root;\n            this.emitter.emit('remove', {\n                bladeController: ev.item,\n                isRoot: isRoot,\n                sender: this,\n            });\n            if (!isRoot) {\n                return;\n            }\n            const bc = ev.item;\n            if (bc instanceof InputBindingController) {\n                bc.binding.emitter.off('change', this.onChildInputChange_);\n            }\n            else if (bc instanceof MonitorBindingController) {\n                bc.binding.emitter.off('update', this.onChildMonitorUpdate_);\n            }\n            else if (bc instanceof ValueBladeController) {\n                bc.value.emitter.off('change', this.onChildValueChange_);\n            }\n            else {\n                const rack = findSubRack(bc);\n                if (rack) {\n                    const emitter = rack.emitter;\n                    emitter.off('layout', this.onDescendantLayout_);\n                    emitter.off('inputchange', this.onDescendantInputChange_);\n                    emitter.off('monitorupdate', this.onDescendantMonitorUpdate_);\n                }\n            }\n        }\n        updatePositions_() {\n            const visibleItems = this.bcSet_.items.filter((bc) => !bc.viewProps.get('hidden'));\n            const firstVisibleItem = visibleItems[0];\n            const lastVisibleItem = visibleItems[visibleItems.length - 1];\n            this.bcSet_.items.forEach((bc) => {\n                const ps = [];\n                if (bc === firstVisibleItem) {\n                    ps.push('first');\n                    if (!this.blade_ ||\n                        this.blade_.get('positions').includes('veryfirst')) {\n                        ps.push('veryfirst');\n                    }\n                }\n                if (bc === lastVisibleItem) {\n                    ps.push('last');\n                    if (!this.blade_ || this.blade_.get('positions').includes('verylast')) {\n                        ps.push('verylast');\n                    }\n                }\n                bc.blade.set('positions', ps);\n            });\n        }\n        onChildPositionsChange_() {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        }\n        onChildViewPropsChange_(_ev) {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        }\n        onChildDispose_() {\n            const disposedUcs = this.bcSet_.items.filter((bc) => {\n                return bc.viewProps.get('disposed');\n            });\n            disposedUcs.forEach((bc) => {\n                this.bcSet_.remove(bc);\n            });\n        }\n        onChildInputChange_(ev) {\n            const bc = findInputBindingController(this.find(InputBindingController), ev.sender);\n            if (!bc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('inputchange', {\n                bladeController: bc,\n                options: ev.options,\n                sender: this,\n            });\n        }\n        onChildMonitorUpdate_(ev) {\n            const bc = findMonitorBindingController(this.find(MonitorBindingController), ev.sender);\n            if (!bc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('monitorupdate', {\n                bladeController: bc,\n                sender: this,\n            });\n        }\n        onChildValueChange_(ev) {\n            const bc = findValueBladeController(this.find(ValueBladeController), ev.sender);\n            if (!bc) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.emitter.emit('inputchange', {\n                bladeController: bc,\n                options: ev.options,\n                sender: this,\n            });\n        }\n        onDescendantLayout_(_) {\n            this.updatePositions_();\n            this.emitter.emit('layout', {\n                sender: this,\n            });\n        }\n        onDescendantInputChange_(ev) {\n            this.emitter.emit('inputchange', {\n                bladeController: ev.bladeController,\n                options: ev.options,\n                sender: this,\n            });\n        }\n        onDescendantMonitorUpdate_(ev) {\n            this.emitter.emit('monitorupdate', {\n                bladeController: ev.bladeController,\n                sender: this,\n            });\n        }\n        onBladePositionsChange_() {\n            this.updatePositions_();\n        }\n    }\n\n    class RackController extends BladeController {\n        constructor(doc, config) {\n            super(Object.assign(Object.assign({}, config), { view: new PlainView(doc, {\n                    viewName: 'brk',\n                    viewProps: config.viewProps,\n                }) }));\n            this.onRackAdd_ = this.onRackAdd_.bind(this);\n            this.onRackRemove_ = this.onRackRemove_.bind(this);\n            const rack = new BladeRack(config.root ? undefined : config.blade);\n            rack.emitter.on('add', this.onRackAdd_);\n            rack.emitter.on('remove', this.onRackRemove_);\n            this.rack = rack;\n            this.viewProps.handleDispose(() => {\n                for (let i = this.rack.children.length - 1; i >= 0; i--) {\n                    const bc = this.rack.children[i];\n                    bc.viewProps.set('disposed', true);\n                }\n            });\n        }\n        onRackAdd_(ev) {\n            if (!ev.isRoot) {\n                return;\n            }\n            insertElementAt(this.view.element, ev.bladeController.view.element, ev.index);\n        }\n        onRackRemove_(ev) {\n            if (!ev.isRoot) {\n                return;\n            }\n            removeElement(ev.bladeController.view.element);\n        }\n    }\n\n    const bladeContainerClassName = ClassName('cnt');\n\n    class FolderView {\n        constructor(doc, config) {\n            this.className_ = ClassName(config.viewName || 'fld');\n            this.element = doc.createElement('div');\n            this.element.classList.add(this.className_(), bladeContainerClassName());\n            config.viewProps.bindClassModifiers(this.element);\n            this.foldable_ = config.foldable;\n            this.foldable_.bindExpandedClass(this.element, this.className_(undefined, 'expanded'));\n            bindValueMap(this.foldable_, 'completed', valueToClassName(this.element, this.className_(undefined, 'cpl')));\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(this.className_('b'));\n            bindValueMap(config.props, 'title', (title) => {\n                if (isEmpty(title)) {\n                    this.element.classList.add(this.className_(undefined, 'not'));\n                }\n                else {\n                    this.element.classList.remove(this.className_(undefined, 'not'));\n                }\n            });\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const titleElem = doc.createElement('div');\n            titleElem.classList.add(this.className_('t'));\n            bindValueToTextContent(config.props.value('title'), titleElem);\n            this.buttonElement.appendChild(titleElem);\n            this.titleElement = titleElem;\n            const markElem = doc.createElement('div');\n            markElem.classList.add(this.className_('m'));\n            this.buttonElement.appendChild(markElem);\n            const containerElem = config.containerElement;\n            containerElem.classList.add(this.className_('c'));\n            this.element.appendChild(containerElem);\n            this.containerElement = containerElem;\n        }\n    }\n\n    class FolderController extends RackLikeController {\n        constructor(doc, config) {\n            var _a;\n            const foldable = Foldable.create((_a = config.expanded) !== null && _a !== void 0 ? _a : true);\n            const rc = new RackController(doc, {\n                blade: config.blade,\n                root: config.root,\n                viewProps: config.viewProps,\n            });\n            super(Object.assign(Object.assign({}, config), { rackController: rc, view: new FolderView(doc, {\n                    containerElement: rc.view.element,\n                    foldable: foldable,\n                    props: config.props,\n                    viewName: config.root ? 'rot' : undefined,\n                    viewProps: config.viewProps,\n                }) }));\n            this.onTitleClick_ = this.onTitleClick_.bind(this);\n            this.props = config.props;\n            this.foldable = foldable;\n            bindFoldable(this.foldable, this.view.containerElement);\n            this.view.buttonElement.addEventListener('click', this.onTitleClick_);\n        }\n        get document() {\n            return this.view.element.ownerDocument;\n        }\n        onTitleClick_() {\n            this.foldable.set('expanded', !this.foldable.get('expanded'));\n        }\n    }\n\n    const FolderBladePlugin = {\n        id: 'folder',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                title: p.required.string,\n                view: p.required.constant('folder'),\n                expanded: p.optional.boolean,\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            return new FolderController(args.document, {\n                blade: args.blade,\n                expanded: args.params.expanded,\n                props: ValueMap.fromObject({\n                    title: args.params.title,\n                }),\n                viewProps: args.viewProps,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof FolderController)) {\n                return null;\n            }\n            return new FolderApi(args.controller, args.pool);\n        },\n    };\n\n    class LabeledValueController extends ValueBladeController {\n        constructor(doc, config) {\n            const viewProps = config.valueController.viewProps;\n            super(Object.assign(Object.assign({}, config), { value: config.valueController.value, view: new LabelView(doc, {\n                    props: config.props,\n                    viewProps: viewProps,\n                }), viewProps: viewProps }));\n            this.props = config.props;\n            this.valueController = config.valueController;\n            this.view.valueElement.appendChild(this.valueController.view.element);\n        }\n    }\n\n    class SeparatorApi extends BladeApi {\n    }\n\n    const className$n = ClassName('spr');\n    class SeparatorView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$n());\n            config.viewProps.bindClassModifiers(this.element);\n            const hrElem = doc.createElement('hr');\n            hrElem.classList.add(className$n('r'));\n            this.element.appendChild(hrElem);\n        }\n    }\n\n    class SeparatorController extends BladeController {\n        constructor(doc, config) {\n            super(Object.assign(Object.assign({}, config), { view: new SeparatorView(doc, {\n                    viewProps: config.viewProps,\n                }) }));\n        }\n    }\n\n    const SeparatorBladePlugin = {\n        id: 'separator',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                view: p.required.constant('separator'),\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            return new SeparatorController(args.document, {\n                blade: args.blade,\n                viewProps: args.viewProps,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof SeparatorController)) {\n                return null;\n            }\n            return new SeparatorApi(args.controller);\n        },\n    };\n\n    const className$m = ClassName('');\n    function valueToModifier(elem, modifier) {\n        return valueToClassName(elem, className$m(undefined, modifier));\n    }\n    class ViewProps extends ValueMap {\n        constructor(valueMap) {\n            super(valueMap);\n        }\n        static create(opt_initialValue) {\n            var _a, _b;\n            const initialValue = opt_initialValue !== null && opt_initialValue !== void 0 ? opt_initialValue : {};\n            const coreObj = {\n                disabled: (_a = initialValue.disabled) !== null && _a !== void 0 ? _a : false,\n                disposed: false,\n                hidden: (_b = initialValue.hidden) !== null && _b !== void 0 ? _b : false,\n            };\n            const core = ValueMap.createCore(coreObj);\n            return new ViewProps(core);\n        }\n        bindClassModifiers(elem) {\n            bindValueMap(this, 'disabled', valueToModifier(elem, 'disabled'));\n            bindValueMap(this, 'hidden', valueToModifier(elem, 'hidden'));\n        }\n        bindDisabled(target) {\n            bindValueMap(this, 'disabled', (disabled) => {\n                target.disabled = disabled;\n            });\n        }\n        bindTabIndex(elem) {\n            bindValueMap(this, 'disabled', (disabled) => {\n                elem.tabIndex = disabled ? -1 : 0;\n            });\n        }\n        handleDispose(callback) {\n            this.value('disposed').emitter.on('change', (disposed) => {\n                if (disposed) {\n                    callback();\n                }\n            });\n        }\n    }\n\n    const className$l = ClassName('tbi');\n    class TabItemView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$l());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValueMap(config.props, 'selected', (selected) => {\n                if (selected) {\n                    this.element.classList.add(className$l(undefined, 'sel'));\n                }\n                else {\n                    this.element.classList.remove(className$l(undefined, 'sel'));\n                }\n            });\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$l('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const titleElem = doc.createElement('div');\n            titleElem.classList.add(className$l('t'));\n            bindValueToTextContent(config.props.value('title'), titleElem);\n            this.buttonElement.appendChild(titleElem);\n            this.titleElement = titleElem;\n        }\n    }\n\n    class TabItemController {\n        constructor(doc, config) {\n            this.emitter = new Emitter();\n            this.onClick_ = this.onClick_.bind(this);\n            this.props = config.props;\n            this.viewProps = config.viewProps;\n            this.view = new TabItemView(doc, {\n                props: config.props,\n                viewProps: config.viewProps,\n            });\n            this.view.buttonElement.addEventListener('click', this.onClick_);\n        }\n        onClick_() {\n            this.emitter.emit('click', {\n                sender: this,\n            });\n        }\n    }\n\n    class TabPageController {\n        constructor(doc, config) {\n            this.onItemClick_ = this.onItemClick_.bind(this);\n            this.ic_ = new TabItemController(doc, {\n                props: config.itemProps,\n                viewProps: ViewProps.create(),\n            });\n            this.ic_.emitter.on('click', this.onItemClick_);\n            this.cc_ = new RackController(doc, {\n                blade: createBlade(),\n                viewProps: ViewProps.create(),\n            });\n            this.props = config.props;\n            bindValueMap(this.props, 'selected', (selected) => {\n                this.itemController.props.set('selected', selected);\n                this.contentController.viewProps.set('hidden', !selected);\n            });\n        }\n        get itemController() {\n            return this.ic_;\n        }\n        get contentController() {\n            return this.cc_;\n        }\n        onItemClick_() {\n            this.props.set('selected', true);\n        }\n    }\n\n    class TabPageApi {\n        constructor(controller, contentRackApi) {\n            this.controller_ = controller;\n            this.rackApi_ = contentRackApi;\n        }\n        get title() {\n            var _a;\n            return (_a = this.controller_.itemController.props.get('title')) !== null && _a !== void 0 ? _a : '';\n        }\n        set title(title) {\n            this.controller_.itemController.props.set('title', title);\n        }\n        get selected() {\n            return this.controller_.props.get('selected');\n        }\n        set selected(selected) {\n            this.controller_.props.set('selected', selected);\n        }\n        get children() {\n            return this.rackApi_.children;\n        }\n        addButton(params) {\n            return this.rackApi_.addButton(params);\n        }\n        addFolder(params) {\n            return this.rackApi_.addFolder(params);\n        }\n        addSeparator(opt_params) {\n            return this.rackApi_.addSeparator(opt_params);\n        }\n        addTab(params) {\n            return this.rackApi_.addTab(params);\n        }\n        add(api, opt_index) {\n            this.rackApi_.add(api, opt_index);\n        }\n        remove(api) {\n            this.rackApi_.remove(api);\n        }\n        addInput(object, key, opt_params) {\n            return this.rackApi_.addInput(object, key, opt_params);\n        }\n        addMonitor(object, key, opt_params) {\n            return this.rackApi_.addMonitor(object, key, opt_params);\n        }\n        addBlade(params) {\n            return this.rackApi_.addBlade(params);\n        }\n    }\n\n    class TabApi extends RackLikeApi {\n        constructor(controller, pool) {\n            super(controller, new RackApi(controller.rackController, pool));\n            this.onPageAdd_ = this.onPageAdd_.bind(this);\n            this.onPageRemove_ = this.onPageRemove_.bind(this);\n            this.emitter_ = new Emitter();\n            this.pageApiMap_ = new Map();\n            this.rackApi_.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: ev,\n                });\n            });\n            this.rackApi_.on('update', (ev) => {\n                this.emitter_.emit('update', {\n                    event: ev,\n                });\n            });\n            this.controller_.pageSet.emitter.on('add', this.onPageAdd_);\n            this.controller_.pageSet.emitter.on('remove', this.onPageRemove_);\n            this.controller_.pageSet.items.forEach((pc) => {\n                this.setUpPageApi_(pc);\n            });\n        }\n        get pages() {\n            return this.controller_.pageSet.items.map((pc) => {\n                const api = this.pageApiMap_.get(pc);\n                if (!api) {\n                    throw TpError.shouldNeverHappen();\n                }\n                return api;\n            });\n        }\n        addPage(params) {\n            const doc = this.controller_.view.element.ownerDocument;\n            const pc = new TabPageController(doc, {\n                itemProps: ValueMap.fromObject({\n                    selected: false,\n                    title: params.title,\n                }),\n                props: ValueMap.fromObject({\n                    selected: false,\n                }),\n            });\n            this.controller_.add(pc, params.index);\n            const api = this.pageApiMap_.get(pc);\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            return api;\n        }\n        removePage(index) {\n            this.controller_.remove(index);\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n        setUpPageApi_(pc) {\n            const rackApi = this.rackApi_['apiSet_'].find((api) => api.controller_ === pc.contentController);\n            if (!rackApi) {\n                throw TpError.shouldNeverHappen();\n            }\n            const api = new TabPageApi(pc, rackApi);\n            this.pageApiMap_.set(pc, api);\n        }\n        onPageAdd_(ev) {\n            this.setUpPageApi_(ev.item);\n        }\n        onPageRemove_(ev) {\n            const api = this.pageApiMap_.get(ev.item);\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            this.pageApiMap_.delete(ev.item);\n        }\n    }\n\n    const className$k = ClassName('tab');\n    class TabView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$k(), bladeContainerClassName());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.empty, valueToClassName(this.element, className$k(undefined, 'nop')));\n            const itemsElem = doc.createElement('div');\n            itemsElem.classList.add(className$k('i'));\n            this.element.appendChild(itemsElem);\n            this.itemsElement = itemsElem;\n            const contentsElem = config.contentsElement;\n            contentsElem.classList.add(className$k('c'));\n            this.element.appendChild(contentsElem);\n            this.contentsElement = contentsElem;\n        }\n    }\n\n    class TabController extends RackLikeController {\n        constructor(doc, config) {\n            const cr = new RackController(doc, {\n                blade: config.blade,\n                viewProps: config.viewProps,\n            });\n            const empty = createValue(true);\n            super({\n                blade: config.blade,\n                rackController: cr,\n                view: new TabView(doc, {\n                    contentsElement: cr.view.element,\n                    empty: empty,\n                    viewProps: config.viewProps,\n                }),\n            });\n            this.onPageAdd_ = this.onPageAdd_.bind(this);\n            this.onPageRemove_ = this.onPageRemove_.bind(this);\n            this.onPageSelectedChange_ = this.onPageSelectedChange_.bind(this);\n            this.pageSet_ = new NestedOrderedSet(() => null);\n            this.pageSet_.emitter.on('add', this.onPageAdd_);\n            this.pageSet_.emitter.on('remove', this.onPageRemove_);\n            this.empty_ = empty;\n            this.applyPages_();\n        }\n        get pageSet() {\n            return this.pageSet_;\n        }\n        add(pc, opt_index) {\n            this.pageSet_.add(pc, opt_index !== null && opt_index !== void 0 ? opt_index : this.pageSet_.items.length);\n        }\n        remove(index) {\n            this.pageSet_.remove(this.pageSet_.items[index]);\n        }\n        applyPages_() {\n            this.keepSelection_();\n            this.empty_.rawValue = this.pageSet_.items.length === 0;\n        }\n        onPageAdd_(ev) {\n            const pc = ev.item;\n            insertElementAt(this.view.itemsElement, pc.itemController.view.element, ev.index);\n            this.rackController.rack.add(pc.contentController, ev.index);\n            pc.props.value('selected').emitter.on('change', this.onPageSelectedChange_);\n            this.applyPages_();\n        }\n        onPageRemove_(ev) {\n            const pc = ev.item;\n            removeElement(pc.itemController.view.element);\n            this.rackController.rack.remove(pc.contentController);\n            pc.props\n                .value('selected')\n                .emitter.off('change', this.onPageSelectedChange_);\n            this.applyPages_();\n        }\n        keepSelection_() {\n            if (this.pageSet_.items.length === 0) {\n                return;\n            }\n            const firstSelIndex = this.pageSet_.items.findIndex((pc) => pc.props.get('selected'));\n            if (firstSelIndex < 0) {\n                this.pageSet_.items.forEach((pc, i) => {\n                    pc.props.set('selected', i === 0);\n                });\n            }\n            else {\n                this.pageSet_.items.forEach((pc, i) => {\n                    pc.props.set('selected', i === firstSelIndex);\n                });\n            }\n        }\n        onPageSelectedChange_(ev) {\n            if (ev.rawValue) {\n                const index = this.pageSet_.items.findIndex((pc) => pc.props.value('selected') === ev.sender);\n                this.pageSet_.items.forEach((pc, i) => {\n                    pc.props.set('selected', i === index);\n                });\n            }\n            else {\n                this.keepSelection_();\n            }\n        }\n    }\n\n    const TabBladePlugin = {\n        id: 'tab',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                pages: p.required.array(p.required.object({ title: p.required.string })),\n                view: p.required.constant('tab'),\n            });\n            if (!result || result.pages.length === 0) {\n                return null;\n            }\n            return { params: result };\n        },\n        controller(args) {\n            const c = new TabController(args.document, {\n                blade: args.blade,\n                viewProps: args.viewProps,\n            });\n            args.params.pages.forEach((p) => {\n                const pc = new TabPageController(args.document, {\n                    itemProps: ValueMap.fromObject({\n                        selected: false,\n                        title: p.title,\n                    }),\n                    props: ValueMap.fromObject({\n                        selected: false,\n                    }),\n                });\n                c.add(pc);\n            });\n            return c;\n        },\n        api(args) {\n            if (!(args.controller instanceof TabController)) {\n                return null;\n            }\n            return new TabApi(args.controller, args.pool);\n        },\n    };\n\n    function createBladeController(plugin, args) {\n        const ac = plugin.accept(args.params);\n        if (!ac) {\n            return null;\n        }\n        const disabled = ParamsParsers.optional.boolean(args.params['disabled']).value;\n        const hidden = ParamsParsers.optional.boolean(args.params['hidden']).value;\n        return plugin.controller({\n            blade: createBlade(),\n            document: args.document,\n            params: forceCast(Object.assign(Object.assign({}, ac.params), { disabled: disabled, hidden: hidden })),\n            viewProps: ViewProps.create({\n                disabled: disabled,\n                hidden: hidden,\n            }),\n        });\n    }\n\n    class ManualTicker {\n        constructor() {\n            this.disabled = false;\n            this.emitter = new Emitter();\n        }\n        dispose() { }\n        tick() {\n            if (this.disabled) {\n                return;\n            }\n            this.emitter.emit('tick', {\n                sender: this,\n            });\n        }\n    }\n\n    class IntervalTicker {\n        constructor(doc, interval) {\n            this.disabled_ = false;\n            this.timerId_ = null;\n            this.onTick_ = this.onTick_.bind(this);\n            this.doc_ = doc;\n            this.emitter = new Emitter();\n            this.interval_ = interval;\n            this.setTimer_();\n        }\n        get disabled() {\n            return this.disabled_;\n        }\n        set disabled(inactive) {\n            this.disabled_ = inactive;\n            if (this.disabled_) {\n                this.clearTimer_();\n            }\n            else {\n                this.setTimer_();\n            }\n        }\n        dispose() {\n            this.clearTimer_();\n        }\n        clearTimer_() {\n            if (this.timerId_ === null) {\n                return;\n            }\n            const win = this.doc_.defaultView;\n            if (win) {\n                win.clearInterval(this.timerId_);\n            }\n            this.timerId_ = null;\n        }\n        setTimer_() {\n            this.clearTimer_();\n            if (this.interval_ <= 0) {\n                return;\n            }\n            const win = this.doc_.defaultView;\n            if (win) {\n                this.timerId_ = win.setInterval(this.onTick_, this.interval_);\n            }\n        }\n        onTick_() {\n            if (this.disabled_) {\n                return;\n            }\n            this.emitter.emit('tick', {\n                sender: this,\n            });\n        }\n    }\n\n    class CompositeConstraint {\n        constructor(constraints) {\n            this.constraints = constraints;\n        }\n        constrain(value) {\n            return this.constraints.reduce((result, c) => {\n                return c.constrain(result);\n            }, value);\n        }\n    }\n    function findConstraint(c, constraintClass) {\n        if (c instanceof constraintClass) {\n            return c;\n        }\n        if (c instanceof CompositeConstraint) {\n            const result = c.constraints.reduce((tmpResult, sc) => {\n                if (tmpResult) {\n                    return tmpResult;\n                }\n                return sc instanceof constraintClass ? sc : null;\n            }, null);\n            if (result) {\n                return result;\n            }\n        }\n        return null;\n    }\n\n    class ListConstraint {\n        constructor(options) {\n            this.options = options;\n        }\n        constrain(value) {\n            const opts = this.options;\n            if (opts.length === 0) {\n                return value;\n            }\n            const matched = opts.filter((item) => {\n                return item.value === value;\n            }).length > 0;\n            return matched ? value : opts[0].value;\n        }\n    }\n\n    class RangeConstraint {\n        constructor(config) {\n            this.maxValue = config.max;\n            this.minValue = config.min;\n        }\n        constrain(value) {\n            let result = value;\n            if (!isEmpty(this.minValue)) {\n                result = Math.max(result, this.minValue);\n            }\n            if (!isEmpty(this.maxValue)) {\n                result = Math.min(result, this.maxValue);\n            }\n            return result;\n        }\n    }\n\n    class StepConstraint {\n        constructor(step) {\n            this.step = step;\n        }\n        constrain(value) {\n            const r = value < 0\n                ? -Math.round(-value / this.step)\n                : Math.round(value / this.step);\n            return r * this.step;\n        }\n    }\n\n    const className$j = ClassName('lst');\n    class ListView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.props_ = config.props;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$j());\n            config.viewProps.bindClassModifiers(this.element);\n            const selectElem = doc.createElement('select');\n            selectElem.classList.add(className$j('s'));\n            bindValueMap(this.props_, 'options', (opts) => {\n                removeChildElements(selectElem);\n                opts.forEach((item, index) => {\n                    const optionElem = doc.createElement('option');\n                    optionElem.dataset.index = String(index);\n                    optionElem.textContent = item.text;\n                    optionElem.value = String(item.value);\n                    selectElem.appendChild(optionElem);\n                });\n            });\n            config.viewProps.bindDisabled(selectElem);\n            this.element.appendChild(selectElem);\n            this.selectElement = selectElem;\n            const markElem = doc.createElement('div');\n            markElem.classList.add(className$j('m'));\n            markElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n            this.element.appendChild(markElem);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value_ = config.value;\n            this.update_();\n        }\n        update_() {\n            this.selectElement.value = String(this.value_.rawValue);\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class ListController {\n        constructor(doc, config) {\n            this.onSelectChange_ = this.onSelectChange_.bind(this);\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new ListView(doc, {\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.selectElement.addEventListener('change', this.onSelectChange_);\n        }\n        onSelectChange_(e) {\n            const selectElem = forceCast(e.currentTarget);\n            const optElem = selectElem.selectedOptions.item(0);\n            if (!optElem) {\n                return;\n            }\n            const itemIndex = Number(optElem.dataset.index);\n            this.value.rawValue = this.props.get('options')[itemIndex].value;\n        }\n    }\n\n    const className$i = ClassName('pop');\n    class PopupView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$i());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.shows, valueToClassName(this.element, className$i(undefined, 'v')));\n        }\n    }\n\n    class PopupController {\n        constructor(doc, config) {\n            this.shows = createValue(false);\n            this.viewProps = config.viewProps;\n            this.view = new PopupView(doc, {\n                shows: this.shows,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    const className$h = ClassName('txt');\n    class TextView {\n        constructor(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$h());\n            config.viewProps.bindClassModifiers(this.element);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$h('i'));\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value_ = config.value;\n            this.refresh();\n        }\n        refresh() {\n            const formatter = this.props_.get('formatter');\n            this.inputElement.value = formatter(this.value_.rawValue);\n        }\n        onChange_() {\n            this.refresh();\n        }\n    }\n\n    class TextController {\n        constructor(doc, config) {\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.parser_ = config.parser;\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new TextView(doc, {\n                props: config.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n        }\n        onInputChange_(e) {\n            const inputElem = forceCast(e.currentTarget);\n            const value = inputElem.value;\n            const parsedValue = this.parser_(value);\n            if (!isEmpty(parsedValue)) {\n                this.value.rawValue = parsedValue;\n            }\n            this.view.refresh();\n        }\n    }\n\n    function boolToString(value) {\n        return String(value);\n    }\n    function boolFromUnknown(value) {\n        if (value === 'false') {\n            return false;\n        }\n        return !!value;\n    }\n    function BooleanFormatter(value) {\n        return boolToString(value);\n    }\n\n    class NumberLiteralNode {\n        constructor(text) {\n            this.text = text;\n        }\n        evaluate() {\n            return Number(this.text);\n        }\n        toString() {\n            return this.text;\n        }\n    }\n    const BINARY_OPERATION_MAP = {\n        '**': (v1, v2) => Math.pow(v1, v2),\n        '*': (v1, v2) => v1 * v2,\n        '/': (v1, v2) => v1 / v2,\n        '%': (v1, v2) => v1 % v2,\n        '+': (v1, v2) => v1 + v2,\n        '-': (v1, v2) => v1 - v2,\n        '<<': (v1, v2) => v1 << v2,\n        '>>': (v1, v2) => v1 >> v2,\n        '>>>': (v1, v2) => v1 >>> v2,\n        '&': (v1, v2) => v1 & v2,\n        '^': (v1, v2) => v1 ^ v2,\n        '|': (v1, v2) => v1 | v2,\n    };\n    class BinaryOperationNode {\n        constructor(operator, left, right) {\n            this.left = left;\n            this.operator = operator;\n            this.right = right;\n        }\n        evaluate() {\n            const op = BINARY_OPERATION_MAP[this.operator];\n            if (!op) {\n                throw new Error(`unexpected binary operator: '${this.operator}`);\n            }\n            return op(this.left.evaluate(), this.right.evaluate());\n        }\n        toString() {\n            return [\n                'b(',\n                this.left.toString(),\n                this.operator,\n                this.right.toString(),\n                ')',\n            ].join(' ');\n        }\n    }\n    const UNARY_OPERATION_MAP = {\n        '+': (v) => v,\n        '-': (v) => -v,\n        '~': (v) => ~v,\n    };\n    class UnaryOperationNode {\n        constructor(operator, expr) {\n            this.operator = operator;\n            this.expression = expr;\n        }\n        evaluate() {\n            const op = UNARY_OPERATION_MAP[this.operator];\n            if (!op) {\n                throw new Error(`unexpected unary operator: '${this.operator}`);\n            }\n            return op(this.expression.evaluate());\n        }\n        toString() {\n            return ['u(', this.operator, this.expression.toString(), ')'].join(' ');\n        }\n    }\n\n    function combineReader(parsers) {\n        return (text, cursor) => {\n            for (let i = 0; i < parsers.length; i++) {\n                const result = parsers[i](text, cursor);\n                if (result !== '') {\n                    return result;\n                }\n            }\n            return '';\n        };\n    }\n    function readWhitespace(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^\\s+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readNonZeroDigit(text, cursor) {\n        const ch = text.substr(cursor, 1);\n        return ch.match(/^[1-9]$/) ? ch : '';\n    }\n    function readDecimalDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[0-9]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readSignedInteger(text, cursor) {\n        const ds = readDecimalDigits(text, cursor);\n        if (ds !== '') {\n            return ds;\n        }\n        const sign = text.substr(cursor, 1);\n        cursor += 1;\n        if (sign !== '-' && sign !== '+') {\n            return '';\n        }\n        const sds = readDecimalDigits(text, cursor);\n        if (sds === '') {\n            return '';\n        }\n        return sign + sds;\n    }\n    function readExponentPart(text, cursor) {\n        const e = text.substr(cursor, 1);\n        cursor += 1;\n        if (e.toLowerCase() !== 'e') {\n            return '';\n        }\n        const si = readSignedInteger(text, cursor);\n        if (si === '') {\n            return '';\n        }\n        return e + si;\n    }\n    function readDecimalIntegerLiteral(text, cursor) {\n        const ch = text.substr(cursor, 1);\n        if (ch === '0') {\n            return ch;\n        }\n        const nzd = readNonZeroDigit(text, cursor);\n        cursor += nzd.length;\n        if (nzd === '') {\n            return '';\n        }\n        return nzd + readDecimalDigits(text, cursor);\n    }\n    function readDecimalLiteral1(text, cursor) {\n        const dil = readDecimalIntegerLiteral(text, cursor);\n        cursor += dil.length;\n        if (dil === '') {\n            return '';\n        }\n        const dot = text.substr(cursor, 1);\n        cursor += dot.length;\n        if (dot !== '.') {\n            return '';\n        }\n        const dds = readDecimalDigits(text, cursor);\n        cursor += dds.length;\n        return dil + dot + dds + readExponentPart(text, cursor);\n    }\n    function readDecimalLiteral2(text, cursor) {\n        const dot = text.substr(cursor, 1);\n        cursor += dot.length;\n        if (dot !== '.') {\n            return '';\n        }\n        const dds = readDecimalDigits(text, cursor);\n        cursor += dds.length;\n        if (dds === '') {\n            return '';\n        }\n        return dot + dds + readExponentPart(text, cursor);\n    }\n    function readDecimalLiteral3(text, cursor) {\n        const dil = readDecimalIntegerLiteral(text, cursor);\n        cursor += dil.length;\n        if (dil === '') {\n            return '';\n        }\n        return dil + readExponentPart(text, cursor);\n    }\n    const readDecimalLiteral = combineReader([\n        readDecimalLiteral1,\n        readDecimalLiteral2,\n        readDecimalLiteral3,\n    ]);\n    function parseBinaryDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[01]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readBinaryIntegerLiteral(text, cursor) {\n        const prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0b') {\n            return '';\n        }\n        const bds = parseBinaryDigits(text, cursor);\n        if (bds === '') {\n            return '';\n        }\n        return prefix + bds;\n    }\n    function readOctalDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[0-7]+/);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readOctalIntegerLiteral(text, cursor) {\n        const prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0o') {\n            return '';\n        }\n        const ods = readOctalDigits(text, cursor);\n        if (ods === '') {\n            return '';\n        }\n        return prefix + ods;\n    }\n    function readHexDigits(text, cursor) {\n        var _a;\n        const m = text.substr(cursor).match(/^[0-9a-f]+/i);\n        return (_a = (m && m[0])) !== null && _a !== void 0 ? _a : '';\n    }\n    function readHexIntegerLiteral(text, cursor) {\n        const prefix = text.substr(cursor, 2);\n        cursor += prefix.length;\n        if (prefix.toLowerCase() !== '0x') {\n            return '';\n        }\n        const hds = readHexDigits(text, cursor);\n        if (hds === '') {\n            return '';\n        }\n        return prefix + hds;\n    }\n    const readNonDecimalIntegerLiteral = combineReader([\n        readBinaryIntegerLiteral,\n        readOctalIntegerLiteral,\n        readHexIntegerLiteral,\n    ]);\n    const readNumericLiteral = combineReader([\n        readNonDecimalIntegerLiteral,\n        readDecimalLiteral,\n    ]);\n\n    function parseLiteral(text, cursor) {\n        const num = readNumericLiteral(text, cursor);\n        cursor += num.length;\n        if (num === '') {\n            return null;\n        }\n        return {\n            evaluable: new NumberLiteralNode(num),\n            cursor: cursor,\n        };\n    }\n    function parseParenthesizedExpression(text, cursor) {\n        const op = text.substr(cursor, 1);\n        cursor += op.length;\n        if (op !== '(') {\n            return null;\n        }\n        const expr = parseExpression(text, cursor);\n        if (!expr) {\n            return null;\n        }\n        cursor = expr.cursor;\n        cursor += readWhitespace(text, cursor).length;\n        const cl = text.substr(cursor, 1);\n        cursor += cl.length;\n        if (cl !== ')') {\n            return null;\n        }\n        return {\n            evaluable: expr.evaluable,\n            cursor: cursor,\n        };\n    }\n    function parsePrimaryExpression(text, cursor) {\n        return (parseLiteral(text, cursor) || parseParenthesizedExpression(text, cursor));\n    }\n    function parseUnaryExpression(text, cursor) {\n        const expr = parsePrimaryExpression(text, cursor);\n        if (expr) {\n            return expr;\n        }\n        const op = text.substr(cursor, 1);\n        cursor += op.length;\n        if (op !== '+' && op !== '-' && op !== '~') {\n            return null;\n        }\n        const num = parseUnaryExpression(text, cursor);\n        if (!num) {\n            return null;\n        }\n        cursor = num.cursor;\n        return {\n            cursor: cursor,\n            evaluable: new UnaryOperationNode(op, num.evaluable),\n        };\n    }\n    function readBinaryOperator(ops, text, cursor) {\n        cursor += readWhitespace(text, cursor).length;\n        const op = ops.filter((op) => text.startsWith(op, cursor))[0];\n        if (!op) {\n            return null;\n        }\n        cursor += op.length;\n        cursor += readWhitespace(text, cursor).length;\n        return {\n            cursor: cursor,\n            operator: op,\n        };\n    }\n    function createBinaryOperationExpressionParser(exprParser, ops) {\n        return (text, cursor) => {\n            const firstExpr = exprParser(text, cursor);\n            if (!firstExpr) {\n                return null;\n            }\n            cursor = firstExpr.cursor;\n            let expr = firstExpr.evaluable;\n            for (;;) {\n                const op = readBinaryOperator(ops, text, cursor);\n                if (!op) {\n                    break;\n                }\n                cursor = op.cursor;\n                const nextExpr = exprParser(text, cursor);\n                if (!nextExpr) {\n                    return null;\n                }\n                cursor = nextExpr.cursor;\n                expr = new BinaryOperationNode(op.operator, expr, nextExpr.evaluable);\n            }\n            return expr\n                ? {\n                    cursor: cursor,\n                    evaluable: expr,\n                }\n                : null;\n        };\n    }\n    const parseBinaryOperationExpression = [\n        ['**'],\n        ['*', '/', '%'],\n        ['+', '-'],\n        ['<<', '>>>', '>>'],\n        ['&'],\n        ['^'],\n        ['|'],\n    ].reduce((parser, ops) => {\n        return createBinaryOperationExpressionParser(parser, ops);\n    }, parseUnaryExpression);\n    function parseExpression(text, cursor) {\n        cursor += readWhitespace(text, cursor).length;\n        return parseBinaryOperationExpression(text, cursor);\n    }\n    function parseEcmaNumberExpression(text) {\n        const expr = parseExpression(text, 0);\n        if (!expr) {\n            return null;\n        }\n        const cursor = expr.cursor + readWhitespace(text, expr.cursor).length;\n        if (cursor !== text.length) {\n            return null;\n        }\n        return expr.evaluable;\n    }\n\n    function parseNumber(text) {\n        var _a;\n        const r = parseEcmaNumberExpression(text);\n        return (_a = r === null || r === void 0 ? void 0 : r.evaluate()) !== null && _a !== void 0 ? _a : null;\n    }\n    function numberFromUnknown(value) {\n        if (typeof value === 'number') {\n            return value;\n        }\n        if (typeof value === 'string') {\n            const pv = parseNumber(value);\n            if (!isEmpty(pv)) {\n                return pv;\n            }\n        }\n        return 0;\n    }\n    function numberToString(value) {\n        return String(value);\n    }\n    function createNumberFormatter(digits) {\n        return (value) => {\n            return value.toFixed(Math.max(Math.min(digits, 20), 0));\n        };\n    }\n\n    const innerFormatter = createNumberFormatter(0);\n    function formatPercentage(value) {\n        return innerFormatter(value) + '%';\n    }\n\n    function stringFromUnknown(value) {\n        return String(value);\n    }\n    function formatString(value) {\n        return value;\n    }\n\n    function fillBuffer(buffer, bufferSize) {\n        while (buffer.length < bufferSize) {\n            buffer.push(undefined);\n        }\n    }\n    function initializeBuffer(bufferSize) {\n        const buffer = [];\n        fillBuffer(buffer, bufferSize);\n        return createValue(buffer);\n    }\n    function createTrimmedBuffer(buffer) {\n        const index = buffer.indexOf(undefined);\n        return forceCast(index < 0 ? buffer : buffer.slice(0, index));\n    }\n    function createPushedBuffer(buffer, newValue) {\n        const newBuffer = [...createTrimmedBuffer(buffer), newValue];\n        if (newBuffer.length > buffer.length) {\n            newBuffer.splice(0, newBuffer.length - buffer.length);\n        }\n        else {\n            fillBuffer(newBuffer, buffer.length);\n        }\n        return newBuffer;\n    }\n\n    function connectValues({ primary, secondary, forward, backward, }) {\n        let changing = false;\n        function preventFeedback(callback) {\n            if (changing) {\n                return;\n            }\n            changing = true;\n            callback();\n            changing = false;\n        }\n        primary.emitter.on('change', (ev) => {\n            preventFeedback(() => {\n                secondary.setRawValue(forward(primary, secondary), ev.options);\n            });\n        });\n        secondary.emitter.on('change', (ev) => {\n            preventFeedback(() => {\n                primary.setRawValue(backward(primary, secondary), ev.options);\n            });\n            preventFeedback(() => {\n                secondary.setRawValue(forward(primary, secondary), ev.options);\n            });\n        });\n        preventFeedback(() => {\n            secondary.setRawValue(forward(primary, secondary), {\n                forceEmit: false,\n                last: true,\n            });\n        });\n    }\n\n    function getStepForKey(baseStep, keys) {\n        const step = baseStep * (keys.altKey ? 0.1 : 1) * (keys.shiftKey ? 10 : 1);\n        if (keys.upKey) {\n            return +step;\n        }\n        else if (keys.downKey) {\n            return -step;\n        }\n        return 0;\n    }\n    function getVerticalStepKeys(ev) {\n        return {\n            altKey: ev.altKey,\n            downKey: ev.key === 'ArrowDown',\n            shiftKey: ev.shiftKey,\n            upKey: ev.key === 'ArrowUp',\n        };\n    }\n    function getHorizontalStepKeys(ev) {\n        return {\n            altKey: ev.altKey,\n            downKey: ev.key === 'ArrowLeft',\n            shiftKey: ev.shiftKey,\n            upKey: ev.key === 'ArrowRight',\n        };\n    }\n    function isVerticalArrowKey(key) {\n        return key === 'ArrowUp' || key === 'ArrowDown';\n    }\n    function isArrowKey(key) {\n        return isVerticalArrowKey(key) || key === 'ArrowLeft' || key === 'ArrowRight';\n    }\n\n    function computeOffset(ev, elem) {\n        const win = elem.ownerDocument.defaultView;\n        const rect = elem.getBoundingClientRect();\n        return {\n            x: ev.pageX - (((win && win.scrollX) || 0) + rect.left),\n            y: ev.pageY - (((win && win.scrollY) || 0) + rect.top),\n        };\n    }\n    class PointerHandler {\n        constructor(element) {\n            this.lastTouch_ = null;\n            this.onDocumentMouseMove_ = this.onDocumentMouseMove_.bind(this);\n            this.onDocumentMouseUp_ = this.onDocumentMouseUp_.bind(this);\n            this.onMouseDown_ = this.onMouseDown_.bind(this);\n            this.onTouchEnd_ = this.onTouchEnd_.bind(this);\n            this.onTouchMove_ = this.onTouchMove_.bind(this);\n            this.onTouchStart_ = this.onTouchStart_.bind(this);\n            this.elem_ = element;\n            this.emitter = new Emitter();\n            element.addEventListener('touchstart', this.onTouchStart_);\n            element.addEventListener('touchmove', this.onTouchMove_);\n            element.addEventListener('touchend', this.onTouchEnd_);\n            element.addEventListener('mousedown', this.onMouseDown_);\n        }\n        computePosition_(offset) {\n            const rect = this.elem_.getBoundingClientRect();\n            return {\n                bounds: {\n                    width: rect.width,\n                    height: rect.height,\n                },\n                point: offset\n                    ? {\n                        x: offset.x,\n                        y: offset.y,\n                    }\n                    : null,\n            };\n        }\n        onMouseDown_(ev) {\n            var _a;\n            ev.preventDefault();\n            (_a = ev.currentTarget) === null || _a === void 0 ? void 0 : _a.focus();\n            const doc = this.elem_.ownerDocument;\n            doc.addEventListener('mousemove', this.onDocumentMouseMove_);\n            doc.addEventListener('mouseup', this.onDocumentMouseUp_);\n            this.emitter.emit('down', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onDocumentMouseMove_(ev) {\n            this.emitter.emit('move', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onDocumentMouseUp_(ev) {\n            const doc = this.elem_.ownerDocument;\n            doc.removeEventListener('mousemove', this.onDocumentMouseMove_);\n            doc.removeEventListener('mouseup', this.onDocumentMouseUp_);\n            this.emitter.emit('up', {\n                altKey: ev.altKey,\n                data: this.computePosition_(computeOffset(ev, this.elem_)),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n        onTouchStart_(ev) {\n            ev.preventDefault();\n            const touch = ev.targetTouches.item(0);\n            const rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('down', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n            this.lastTouch_ = touch;\n        }\n        onTouchMove_(ev) {\n            const touch = ev.targetTouches.item(0);\n            const rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('move', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n            this.lastTouch_ = touch;\n        }\n        onTouchEnd_(ev) {\n            var _a;\n            const touch = (_a = ev.targetTouches.item(0)) !== null && _a !== void 0 ? _a : this.lastTouch_;\n            const rect = this.elem_.getBoundingClientRect();\n            this.emitter.emit('up', {\n                altKey: ev.altKey,\n                data: this.computePosition_(touch\n                    ? {\n                        x: touch.clientX - rect.left,\n                        y: touch.clientY - rect.top,\n                    }\n                    : undefined),\n                sender: this,\n                shiftKey: ev.shiftKey,\n            });\n        }\n    }\n\n    function mapRange(value, start1, end1, start2, end2) {\n        const p = (value - start1) / (end1 - start1);\n        return start2 + p * (end2 - start2);\n    }\n    function getDecimalDigits(value) {\n        const text = String(value.toFixed(10));\n        const frac = text.split('.')[1];\n        return frac.replace(/0+$/, '').length;\n    }\n    function constrainRange(value, min, max) {\n        return Math.min(Math.max(value, min), max);\n    }\n    function loopRange(value, max) {\n        return ((value % max) + max) % max;\n    }\n\n    const className$g = ClassName('txt');\n    class NumberTextView {\n        constructor(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$g(), className$g(undefined, 'num'));\n            if (config.arrayPosition) {\n                this.element.classList.add(className$g(undefined, config.arrayPosition));\n            }\n            config.viewProps.bindClassModifiers(this.element);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$g('i'));\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            this.onDraggingChange_ = this.onDraggingChange_.bind(this);\n            this.dragging_ = config.dragging;\n            this.dragging_.emitter.on('change', this.onDraggingChange_);\n            this.element.classList.add(className$g());\n            this.inputElement.classList.add(className$g('i'));\n            const knobElem = doc.createElement('div');\n            knobElem.classList.add(className$g('k'));\n            this.element.appendChild(knobElem);\n            this.knobElement = knobElem;\n            const guideElem = doc.createElementNS(SVG_NS, 'svg');\n            guideElem.classList.add(className$g('g'));\n            this.knobElement.appendChild(guideElem);\n            const bodyElem = doc.createElementNS(SVG_NS, 'path');\n            bodyElem.classList.add(className$g('gb'));\n            guideElem.appendChild(bodyElem);\n            this.guideBodyElem_ = bodyElem;\n            const headElem = doc.createElementNS(SVG_NS, 'path');\n            headElem.classList.add(className$g('gh'));\n            guideElem.appendChild(headElem);\n            this.guideHeadElem_ = headElem;\n            const tooltipElem = doc.createElement('div');\n            tooltipElem.classList.add(ClassName('tt')());\n            this.knobElement.appendChild(tooltipElem);\n            this.tooltipElem_ = tooltipElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value = config.value;\n            this.refresh();\n        }\n        onDraggingChange_(ev) {\n            if (ev.rawValue === null) {\n                this.element.classList.remove(className$g(undefined, 'drg'));\n                return;\n            }\n            this.element.classList.add(className$g(undefined, 'drg'));\n            const x = ev.rawValue / this.props_.get('draggingScale');\n            const aox = x + (x > 0 ? -1 : x < 0 ? +1 : 0);\n            const adx = constrainRange(-aox, -4, +4);\n            this.guideHeadElem_.setAttributeNS(null, 'd', [`M ${aox + adx},0 L${aox},4 L${aox + adx},8`, `M ${x},-1 L${x},9`].join(' '));\n            this.guideBodyElem_.setAttributeNS(null, 'd', `M 0,4 L${x},4`);\n            const formatter = this.props_.get('formatter');\n            this.tooltipElem_.textContent = formatter(this.value.rawValue);\n            this.tooltipElem_.style.left = `${x}px`;\n        }\n        refresh() {\n            const formatter = this.props_.get('formatter');\n            this.inputElement.value = formatter(this.value.rawValue);\n        }\n        onChange_() {\n            this.refresh();\n        }\n    }\n\n    class NumberTextController {\n        constructor(doc, config) {\n            this.originRawValue_ = 0;\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.onInputKeyDown_ = this.onInputKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.baseStep_ = config.baseStep;\n            this.parser_ = config.parser;\n            this.props = config.props;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.dragging_ = createValue(null);\n            this.view = new NumberTextView(doc, {\n                arrayPosition: config.arrayPosition,\n                dragging: this.dragging_,\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n            this.view.inputElement.addEventListener('keydown', this.onInputKeyDown_);\n            const ph = new PointerHandler(this.view.knobElement);\n            ph.emitter.on('down', this.onPointerDown_);\n            ph.emitter.on('move', this.onPointerMove_);\n            ph.emitter.on('up', this.onPointerUp_);\n        }\n        onInputChange_(e) {\n            const inputElem = forceCast(e.currentTarget);\n            const value = inputElem.value;\n            const parsedValue = this.parser_(value);\n            if (!isEmpty(parsedValue)) {\n                this.value.rawValue = parsedValue;\n            }\n            this.view.refresh();\n        }\n        onInputKeyDown_(e) {\n            const step = getStepForKey(this.baseStep_, getVerticalStepKeys(e));\n            if (step !== 0) {\n                this.value.rawValue += step;\n            }\n        }\n        onPointerDown_() {\n            this.originRawValue_ = this.value.rawValue;\n            this.dragging_.rawValue = 0;\n        }\n        computeDraggingValue_(data) {\n            if (!data.point) {\n                return null;\n            }\n            const dx = data.point.x - data.bounds.width / 2;\n            return this.originRawValue_ + dx * this.props.get('draggingScale');\n        }\n        onPointerMove_(ev) {\n            const v = this.computeDraggingValue_(ev.data);\n            if (v === null) {\n                return;\n            }\n            this.value.setRawValue(v, {\n                forceEmit: false,\n                last: false,\n            });\n            this.dragging_.rawValue = this.value.rawValue - this.originRawValue_;\n        }\n        onPointerUp_(ev) {\n            const v = this.computeDraggingValue_(ev.data);\n            if (v === null) {\n                return;\n            }\n            this.value.setRawValue(v, {\n                forceEmit: true,\n                last: true,\n            });\n            this.dragging_.rawValue = null;\n        }\n    }\n\n    const className$f = ClassName('sld');\n    class SliderView {\n        constructor(doc, config) {\n            this.onChange_ = this.onChange_.bind(this);\n            this.props_ = config.props;\n            this.props_.emitter.on('change', this.onChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$f());\n            config.viewProps.bindClassModifiers(this.element);\n            const trackElem = doc.createElement('div');\n            trackElem.classList.add(className$f('t'));\n            config.viewProps.bindTabIndex(trackElem);\n            this.element.appendChild(trackElem);\n            this.trackElement = trackElem;\n            const knobElem = doc.createElement('div');\n            knobElem.classList.add(className$f('k'));\n            this.trackElement.appendChild(knobElem);\n            this.knobElement = knobElem;\n            config.value.emitter.on('change', this.onChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            const p = constrainRange(mapRange(this.value.rawValue, this.props_.get('minValue'), this.props_.get('maxValue'), 0, 100), 0, 100);\n            this.knobElement.style.width = `${p}%`;\n        }\n        onChange_() {\n            this.update_();\n        }\n    }\n\n    class SliderController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDownOrMove_ = this.onPointerDownOrMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.baseStep_ = config.baseStep;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.props = config.props;\n            this.view = new SliderView(doc, {\n                props: this.props,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.trackElement);\n            this.ptHandler_.emitter.on('down', this.onPointerDownOrMove_);\n            this.ptHandler_.emitter.on('move', this.onPointerDownOrMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.trackElement.addEventListener('keydown', this.onKeyDown_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            this.value.setRawValue(mapRange(constrainRange(d.point.x, 0, d.bounds.width), 0, d.bounds.width, this.props.get('minValue'), this.props.get('maxValue')), opts);\n        }\n        onPointerDownOrMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onKeyDown_(ev) {\n            this.value.rawValue += getStepForKey(this.baseStep_, getHorizontalStepKeys(ev));\n        }\n    }\n\n    const className$e = ClassName('sldtxt');\n    class SliderTextView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$e());\n            const sliderElem = doc.createElement('div');\n            sliderElem.classList.add(className$e('s'));\n            this.sliderView_ = config.sliderView;\n            sliderElem.appendChild(this.sliderView_.element);\n            this.element.appendChild(sliderElem);\n            const textElem = doc.createElement('div');\n            textElem.classList.add(className$e('t'));\n            this.textView_ = config.textView;\n            textElem.appendChild(this.textView_.element);\n            this.element.appendChild(textElem);\n        }\n    }\n\n    class SliderTextController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.sliderC_ = new SliderController(doc, {\n                baseStep: config.baseStep,\n                props: config.sliderProps,\n                value: config.value,\n                viewProps: this.viewProps,\n            });\n            this.textC_ = new NumberTextController(doc, {\n                baseStep: config.baseStep,\n                parser: config.parser,\n                props: config.textProps,\n                value: config.value,\n                viewProps: config.viewProps,\n            });\n            this.view = new SliderTextView(doc, {\n                sliderView: this.sliderC_.view,\n                textView: this.textC_.view,\n            });\n        }\n        get sliderController() {\n            return this.sliderC_;\n        }\n        get textController() {\n            return this.textC_;\n        }\n    }\n\n    function writePrimitive(target, value) {\n        target.write(value);\n    }\n\n    function parseListOptions(value) {\n        const p = ParamsParsers;\n        if (Array.isArray(value)) {\n            return p.required.array(p.required.object({\n                text: p.required.string,\n                value: p.required.raw,\n            }))(value).value;\n        }\n        if (typeof value === 'object') {\n            return p.required.raw(value)\n                .value;\n        }\n        return undefined;\n    }\n    function parsePickerLayout(value) {\n        if (value === 'inline' || value === 'popup') {\n            return value;\n        }\n        return undefined;\n    }\n    function parsePointDimensionParams(value) {\n        const p = ParamsParsers;\n        return p.required.object({\n            max: p.optional.number,\n            min: p.optional.number,\n            step: p.optional.number,\n        })(value).value;\n    }\n    function normalizeListOptions(options) {\n        if (Array.isArray(options)) {\n            return options;\n        }\n        const items = [];\n        Object.keys(options).forEach((text) => {\n            items.push({ text: text, value: options[text] });\n        });\n        return items;\n    }\n    function createListConstraint(options) {\n        return !isEmpty(options)\n            ? new ListConstraint(normalizeListOptions(forceCast(options)))\n            : null;\n    }\n    function findListItems(constraint) {\n        const c = constraint\n            ? findConstraint(constraint, ListConstraint)\n            : null;\n        if (!c) {\n            return null;\n        }\n        return c.options;\n    }\n    function findStep(constraint) {\n        const c = constraint ? findConstraint(constraint, StepConstraint) : null;\n        if (!c) {\n            return null;\n        }\n        return c.step;\n    }\n    function getSuitableDecimalDigits(constraint, rawValue) {\n        const sc = constraint && findConstraint(constraint, StepConstraint);\n        if (sc) {\n            return getDecimalDigits(sc.step);\n        }\n        return Math.max(getDecimalDigits(rawValue), 2);\n    }\n    function getBaseStep(constraint) {\n        const step = findStep(constraint);\n        return step !== null && step !== void 0 ? step : 1;\n    }\n    function getSuitableDraggingScale(constraint, rawValue) {\n        var _a;\n        const sc = constraint && findConstraint(constraint, StepConstraint);\n        const base = Math.abs((_a = sc === null || sc === void 0 ? void 0 : sc.step) !== null && _a !== void 0 ? _a : rawValue);\n        return base === 0 ? 0.1 : Math.pow(10, Math.floor(Math.log10(base)) - 1);\n    }\n\n    const className$d = ClassName('ckb');\n    class CheckboxView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$d());\n            config.viewProps.bindClassModifiers(this.element);\n            const labelElem = doc.createElement('label');\n            labelElem.classList.add(className$d('l'));\n            this.element.appendChild(labelElem);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$d('i'));\n            inputElem.type = 'checkbox';\n            labelElem.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.viewProps.bindDisabled(this.inputElement);\n            const wrapperElem = doc.createElement('div');\n            wrapperElem.classList.add(className$d('w'));\n            labelElem.appendChild(wrapperElem);\n            const markElem = createSvgIconElement(doc, 'check');\n            wrapperElem.appendChild(markElem);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            this.inputElement.checked = this.value.rawValue;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class CheckboxController {\n        constructor(doc, config) {\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new CheckboxView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n        }\n        onInputChange_(e) {\n            const inputElem = forceCast(e.currentTarget);\n            this.value.rawValue = inputElem.checked;\n        }\n    }\n\n    function createConstraint$5(params) {\n        const constraints = [];\n        const lc = createListConstraint(params.options);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    const BooleanInputPlugin = {\n        id: 'input-bool',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'boolean') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                options: p.optional.custom(parseListOptions),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => boolFromUnknown,\n            constraint: (args) => createConstraint$5(args.params),\n            writer: (_args) => writePrimitive,\n        },\n        controller: (args) => {\n            var _a;\n            const doc = args.document;\n            const value = args.value;\n            const c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(doc, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new CheckboxController(doc, {\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    const className$c = ClassName('col');\n    class ColorView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$c());\n            config.foldable.bindExpandedClass(this.element, className$c(undefined, 'expanded'));\n            bindValueMap(config.foldable, 'completed', valueToClassName(this.element, className$c(undefined, 'cpl')));\n            const headElem = doc.createElement('div');\n            headElem.classList.add(className$c('h'));\n            this.element.appendChild(headElem);\n            const swatchElem = doc.createElement('div');\n            swatchElem.classList.add(className$c('s'));\n            headElem.appendChild(swatchElem);\n            this.swatchElement = swatchElem;\n            const textElem = doc.createElement('div');\n            textElem.classList.add(className$c('t'));\n            headElem.appendChild(textElem);\n            this.textElement = textElem;\n            if (config.pickerLayout === 'inline') {\n                const pickerElem = doc.createElement('div');\n                pickerElem.classList.add(className$c('p'));\n                this.element.appendChild(pickerElem);\n                this.pickerElement = pickerElem;\n            }\n            else {\n                this.pickerElement = null;\n            }\n        }\n    }\n\n    function rgbToHsl(r, g, b) {\n        const rp = constrainRange(r / 255, 0, 1);\n        const gp = constrainRange(g / 255, 0, 1);\n        const bp = constrainRange(b / 255, 0, 1);\n        const cmax = Math.max(rp, gp, bp);\n        const cmin = Math.min(rp, gp, bp);\n        const c = cmax - cmin;\n        let h = 0;\n        let s = 0;\n        const l = (cmin + cmax) / 2;\n        if (c !== 0) {\n            s = c / (1 - Math.abs(cmax + cmin - 1));\n            if (rp === cmax) {\n                h = (gp - bp) / c;\n            }\n            else if (gp === cmax) {\n                h = 2 + (bp - rp) / c;\n            }\n            else {\n                h = 4 + (rp - gp) / c;\n            }\n            h = h / 6 + (h < 0 ? 1 : 0);\n        }\n        return [h * 360, s * 100, l * 100];\n    }\n    function hslToRgb(h, s, l) {\n        const hp = ((h % 360) + 360) % 360;\n        const sp = constrainRange(s / 100, 0, 1);\n        const lp = constrainRange(l / 100, 0, 1);\n        const c = (1 - Math.abs(2 * lp - 1)) * sp;\n        const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n        const m = lp - c / 2;\n        let rp, gp, bp;\n        if (hp >= 0 && hp < 60) {\n            [rp, gp, bp] = [c, x, 0];\n        }\n        else if (hp >= 60 && hp < 120) {\n            [rp, gp, bp] = [x, c, 0];\n        }\n        else if (hp >= 120 && hp < 180) {\n            [rp, gp, bp] = [0, c, x];\n        }\n        else if (hp >= 180 && hp < 240) {\n            [rp, gp, bp] = [0, x, c];\n        }\n        else if (hp >= 240 && hp < 300) {\n            [rp, gp, bp] = [x, 0, c];\n        }\n        else {\n            [rp, gp, bp] = [c, 0, x];\n        }\n        return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n    }\n    function rgbToHsv(r, g, b) {\n        const rp = constrainRange(r / 255, 0, 1);\n        const gp = constrainRange(g / 255, 0, 1);\n        const bp = constrainRange(b / 255, 0, 1);\n        const cmax = Math.max(rp, gp, bp);\n        const cmin = Math.min(rp, gp, bp);\n        const d = cmax - cmin;\n        let h;\n        if (d === 0) {\n            h = 0;\n        }\n        else if (cmax === rp) {\n            h = 60 * (((((gp - bp) / d) % 6) + 6) % 6);\n        }\n        else if (cmax === gp) {\n            h = 60 * ((bp - rp) / d + 2);\n        }\n        else {\n            h = 60 * ((rp - gp) / d + 4);\n        }\n        const s = cmax === 0 ? 0 : d / cmax;\n        const v = cmax;\n        return [h, s * 100, v * 100];\n    }\n    function hsvToRgb(h, s, v) {\n        const hp = loopRange(h, 360);\n        const sp = constrainRange(s / 100, 0, 1);\n        const vp = constrainRange(v / 100, 0, 1);\n        const c = vp * sp;\n        const x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n        const m = vp - c;\n        let rp, gp, bp;\n        if (hp >= 0 && hp < 60) {\n            [rp, gp, bp] = [c, x, 0];\n        }\n        else if (hp >= 60 && hp < 120) {\n            [rp, gp, bp] = [x, c, 0];\n        }\n        else if (hp >= 120 && hp < 180) {\n            [rp, gp, bp] = [0, c, x];\n        }\n        else if (hp >= 180 && hp < 240) {\n            [rp, gp, bp] = [0, x, c];\n        }\n        else if (hp >= 240 && hp < 300) {\n            [rp, gp, bp] = [x, 0, c];\n        }\n        else {\n            [rp, gp, bp] = [c, 0, x];\n        }\n        return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n    }\n    function hslToHsv(h, s, l) {\n        const sd = l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100);\n        return [\n            h,\n            sd !== 0 ? (s * (100 - Math.abs(2 * l - 100))) / sd : 0,\n            l + (s * (100 - Math.abs(2 * l - 100))) / (2 * 100),\n        ];\n    }\n    function hsvToHsl(h, s, v) {\n        const sd = 100 - Math.abs((v * (200 - s)) / 100 - 100);\n        return [h, sd !== 0 ? (s * v) / sd : 0, (v * (200 - s)) / (2 * 100)];\n    }\n    function removeAlphaComponent(comps) {\n        return [comps[0], comps[1], comps[2]];\n    }\n    function appendAlphaComponent(comps, alpha) {\n        return [comps[0], comps[1], comps[2], alpha];\n    }\n    const MODE_CONVERTER_MAP = {\n        hsl: {\n            hsl: (h, s, l) => [h, s, l],\n            hsv: hslToHsv,\n            rgb: hslToRgb,\n        },\n        hsv: {\n            hsl: hsvToHsl,\n            hsv: (h, s, v) => [h, s, v],\n            rgb: hsvToRgb,\n        },\n        rgb: {\n            hsl: rgbToHsl,\n            hsv: rgbToHsv,\n            rgb: (r, g, b) => [r, g, b],\n        },\n    };\n    function convertColorMode(components, fromMode, toMode) {\n        return MODE_CONVERTER_MAP[fromMode][toMode](...components);\n    }\n\n    const CONSTRAINT_MAP = {\n        hsl: (comps) => {\n            var _a;\n            return [\n                loopRange(comps[0], 360),\n                constrainRange(comps[1], 0, 100),\n                constrainRange(comps[2], 0, 100),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n        hsv: (comps) => {\n            var _a;\n            return [\n                loopRange(comps[0], 360),\n                constrainRange(comps[1], 0, 100),\n                constrainRange(comps[2], 0, 100),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n        rgb: (comps) => {\n            var _a;\n            return [\n                constrainRange(comps[0], 0, 255),\n                constrainRange(comps[1], 0, 255),\n                constrainRange(comps[2], 0, 255),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n    };\n    function isRgbColorComponent(obj, key) {\n        if (typeof obj !== 'object' || isEmpty(obj)) {\n            return false;\n        }\n        return key in obj && typeof obj[key] === 'number';\n    }\n    class Color {\n        constructor(comps, mode) {\n            this.mode_ = mode;\n            this.comps_ = CONSTRAINT_MAP[mode](comps);\n        }\n        static black() {\n            return new Color([0, 0, 0], 'rgb');\n        }\n        static fromObject(obj) {\n            const comps = 'a' in obj ? [obj.r, obj.g, obj.b, obj.a] : [obj.r, obj.g, obj.b];\n            return new Color(comps, 'rgb');\n        }\n        static toRgbaObject(color) {\n            return color.toRgbaObject();\n        }\n        static isRgbColorObject(obj) {\n            return (isRgbColorComponent(obj, 'r') &&\n                isRgbColorComponent(obj, 'g') &&\n                isRgbColorComponent(obj, 'b'));\n        }\n        static isRgbaColorObject(obj) {\n            return this.isRgbColorObject(obj) && isRgbColorComponent(obj, 'a');\n        }\n        static isColorObject(obj) {\n            return this.isRgbColorObject(obj);\n        }\n        static equals(v1, v2) {\n            if (v1.mode_ !== v2.mode_) {\n                return false;\n            }\n            const comps1 = v1.comps_;\n            const comps2 = v2.comps_;\n            for (let i = 0; i < comps1.length; i++) {\n                if (comps1[i] !== comps2[i]) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        get mode() {\n            return this.mode_;\n        }\n        getComponents(opt_mode) {\n            return appendAlphaComponent(convertColorMode(removeAlphaComponent(this.comps_), this.mode_, opt_mode || this.mode_), this.comps_[3]);\n        }\n        toRgbaObject() {\n            const rgbComps = this.getComponents('rgb');\n            return {\n                r: rgbComps[0],\n                g: rgbComps[1],\n                b: rgbComps[2],\n                a: rgbComps[3],\n            };\n        }\n    }\n\n    const className$b = ClassName('colp');\n    class ColorPickerView {\n        constructor(doc, config) {\n            this.alphaViews_ = null;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$b());\n            const hsvElem = doc.createElement('div');\n            hsvElem.classList.add(className$b('hsv'));\n            const svElem = doc.createElement('div');\n            svElem.classList.add(className$b('sv'));\n            this.svPaletteView_ = config.svPaletteView;\n            svElem.appendChild(this.svPaletteView_.element);\n            hsvElem.appendChild(svElem);\n            const hElem = doc.createElement('div');\n            hElem.classList.add(className$b('h'));\n            this.hPaletteView_ = config.hPaletteView;\n            hElem.appendChild(this.hPaletteView_.element);\n            hsvElem.appendChild(hElem);\n            this.element.appendChild(hsvElem);\n            const rgbElem = doc.createElement('div');\n            rgbElem.classList.add(className$b('rgb'));\n            this.textView_ = config.textView;\n            rgbElem.appendChild(this.textView_.element);\n            this.element.appendChild(rgbElem);\n            if (config.alphaViews) {\n                this.alphaViews_ = {\n                    palette: config.alphaViews.palette,\n                    text: config.alphaViews.text,\n                };\n                const aElem = doc.createElement('div');\n                aElem.classList.add(className$b('a'));\n                const apElem = doc.createElement('div');\n                apElem.classList.add(className$b('ap'));\n                apElem.appendChild(this.alphaViews_.palette.element);\n                aElem.appendChild(apElem);\n                const atElem = doc.createElement('div');\n                atElem.classList.add(className$b('at'));\n                atElem.appendChild(this.alphaViews_.text.element);\n                aElem.appendChild(atElem);\n                this.element.appendChild(aElem);\n            }\n        }\n        get allFocusableElements() {\n            const elems = [\n                this.svPaletteView_.element,\n                this.hPaletteView_.element,\n                this.textView_.modeSelectElement,\n                ...this.textView_.textViews.map((v) => v.inputElement),\n            ];\n            if (this.alphaViews_) {\n                elems.push(this.alphaViews_.palette.element, this.alphaViews_.text.inputElement);\n            }\n            return elems;\n        }\n    }\n\n    function parseColorInputParams(params) {\n        const p = ParamsParsers;\n        return parseParams(params, {\n            alpha: p.optional.boolean,\n            expanded: p.optional.boolean,\n            picker: p.optional.custom(parsePickerLayout),\n        });\n    }\n    function getBaseStepForColor(forAlpha) {\n        return forAlpha ? 0.1 : 1;\n    }\n\n    function parseCssNumberOrPercentage(text, maxValue) {\n        const m = text.match(/^(.+)%$/);\n        if (!m) {\n            return Math.min(parseFloat(text), maxValue);\n        }\n        return Math.min(parseFloat(m[1]) * 0.01 * maxValue, maxValue);\n    }\n    const ANGLE_TO_DEG_MAP = {\n        deg: (angle) => angle,\n        grad: (angle) => (angle * 360) / 400,\n        rad: (angle) => (angle * 360) / (2 * Math.PI),\n        turn: (angle) => angle * 360,\n    };\n    function parseCssNumberOrAngle(text) {\n        const m = text.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);\n        if (!m) {\n            return parseFloat(text);\n        }\n        const angle = parseFloat(m[1]);\n        const unit = m[2];\n        return ANGLE_TO_DEG_MAP[unit](angle);\n    }\n    const NOTATION_TO_PARSER_MAP = {\n        'func.rgb': (text) => {\n            const m = text.match(/^rgb\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrPercentage(m[1], 255),\n                parseCssNumberOrPercentage(m[2], 255),\n                parseCssNumberOrPercentage(m[3], 255),\n            ];\n            if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n                return null;\n            }\n            return new Color(comps, 'rgb');\n        },\n        'func.rgba': (text) => {\n            const m = text.match(/^rgba\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrPercentage(m[1], 255),\n                parseCssNumberOrPercentage(m[2], 255),\n                parseCssNumberOrPercentage(m[3], 255),\n                parseCssNumberOrPercentage(m[4], 1),\n            ];\n            if (isNaN(comps[0]) ||\n                isNaN(comps[1]) ||\n                isNaN(comps[2]) ||\n                isNaN(comps[3])) {\n                return null;\n            }\n            return new Color(comps, 'rgb');\n        },\n        'func.hsl': (text) => {\n            const m = text.match(/^hsl\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrAngle(m[1]),\n                parseCssNumberOrPercentage(m[2], 100),\n                parseCssNumberOrPercentage(m[3], 100),\n            ];\n            if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n                return null;\n            }\n            return new Color(comps, 'hsl');\n        },\n        'func.hsla': (text) => {\n            const m = text.match(/^hsla\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            const comps = [\n                parseCssNumberOrAngle(m[1]),\n                parseCssNumberOrPercentage(m[2], 100),\n                parseCssNumberOrPercentage(m[3], 100),\n                parseCssNumberOrPercentage(m[4], 1),\n            ];\n            if (isNaN(comps[0]) ||\n                isNaN(comps[1]) ||\n                isNaN(comps[2]) ||\n                isNaN(comps[3])) {\n                return null;\n            }\n            return new Color(comps, 'hsl');\n        },\n        'hex.rgb': (text) => {\n            const mRgb = text.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n            if (mRgb) {\n                return new Color([\n                    parseInt(mRgb[1] + mRgb[1], 16),\n                    parseInt(mRgb[2] + mRgb[2], 16),\n                    parseInt(mRgb[3] + mRgb[3], 16),\n                ], 'rgb');\n            }\n            const mRrggbb = text.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n            if (mRrggbb) {\n                return new Color([\n                    parseInt(mRrggbb[1], 16),\n                    parseInt(mRrggbb[2], 16),\n                    parseInt(mRrggbb[3], 16),\n                ], 'rgb');\n            }\n            return null;\n        },\n        'hex.rgba': (text) => {\n            const mRgb = text.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n            if (mRgb) {\n                return new Color([\n                    parseInt(mRgb[1] + mRgb[1], 16),\n                    parseInt(mRgb[2] + mRgb[2], 16),\n                    parseInt(mRgb[3] + mRgb[3], 16),\n                    mapRange(parseInt(mRgb[4] + mRgb[4], 16), 0, 255, 0, 1),\n                ], 'rgb');\n            }\n            const mRrggbb = text.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n            if (mRrggbb) {\n                return new Color([\n                    parseInt(mRrggbb[1], 16),\n                    parseInt(mRrggbb[2], 16),\n                    parseInt(mRrggbb[3], 16),\n                    mapRange(parseInt(mRrggbb[4], 16), 0, 255, 0, 1),\n                ], 'rgb');\n            }\n            return null;\n        },\n    };\n    function getColorNotation(text) {\n        const notations = Object.keys(NOTATION_TO_PARSER_MAP);\n        return notations.reduce((result, notation) => {\n            if (result) {\n                return result;\n            }\n            const subparser = NOTATION_TO_PARSER_MAP[notation];\n            return subparser(text) ? notation : null;\n        }, null);\n    }\n    const CompositeColorParser = (text) => {\n        const notation = getColorNotation(text);\n        return notation ? NOTATION_TO_PARSER_MAP[notation](text) : null;\n    };\n    function hasAlphaComponent(notation) {\n        return (notation === 'func.hsla' ||\n            notation === 'func.rgba' ||\n            notation === 'hex.rgba');\n    }\n    function colorFromString(value) {\n        if (typeof value === 'string') {\n            const cv = CompositeColorParser(value);\n            if (cv) {\n                return cv;\n            }\n        }\n        return Color.black();\n    }\n    function zerofill(comp) {\n        const hex = constrainRange(Math.floor(comp), 0, 255).toString(16);\n        return hex.length === 1 ? `0${hex}` : hex;\n    }\n    function colorToHexRgbString(value, prefix = '#') {\n        const hexes = removeAlphaComponent(value.getComponents('rgb'))\n            .map(zerofill)\n            .join('');\n        return `${prefix}${hexes}`;\n    }\n    function colorToHexRgbaString(value, prefix = '#') {\n        const rgbaComps = value.getComponents('rgb');\n        const hexes = [rgbaComps[0], rgbaComps[1], rgbaComps[2], rgbaComps[3] * 255]\n            .map(zerofill)\n            .join('');\n        return `${prefix}${hexes}`;\n    }\n    function colorToFunctionalRgbString(value) {\n        const formatter = createNumberFormatter(0);\n        const comps = removeAlphaComponent(value.getComponents('rgb')).map((comp) => formatter(comp));\n        return `rgb(${comps.join(', ')})`;\n    }\n    function colorToFunctionalRgbaString(value) {\n        const aFormatter = createNumberFormatter(2);\n        const rgbFormatter = createNumberFormatter(0);\n        const comps = value.getComponents('rgb').map((comp, index) => {\n            const formatter = index === 3 ? aFormatter : rgbFormatter;\n            return formatter(comp);\n        });\n        return `rgba(${comps.join(', ')})`;\n    }\n    function colorToFunctionalHslString(value) {\n        const formatters = [\n            createNumberFormatter(0),\n            formatPercentage,\n            formatPercentage,\n        ];\n        const comps = removeAlphaComponent(value.getComponents('hsl')).map((comp, index) => formatters[index](comp));\n        return `hsl(${comps.join(', ')})`;\n    }\n    function colorToFunctionalHslaString(value) {\n        const formatters = [\n            createNumberFormatter(0),\n            formatPercentage,\n            formatPercentage,\n            createNumberFormatter(2),\n        ];\n        const comps = value\n            .getComponents('hsl')\n            .map((comp, index) => formatters[index](comp));\n        return `hsla(${comps.join(', ')})`;\n    }\n    const NOTATION_TO_STRINGIFIER_MAP = {\n        'func.hsl': colorToFunctionalHslString,\n        'func.hsla': colorToFunctionalHslaString,\n        'func.rgb': colorToFunctionalRgbString,\n        'func.rgba': colorToFunctionalRgbaString,\n        'hex.rgb': colorToHexRgbString,\n        'hex.rgba': colorToHexRgbaString,\n    };\n    function getColorStringifier(notation) {\n        return NOTATION_TO_STRINGIFIER_MAP[notation];\n    }\n\n    const className$a = ClassName('apl');\n    class APaletteView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$a());\n            config.viewProps.bindTabIndex(this.element);\n            const barElem = doc.createElement('div');\n            barElem.classList.add(className$a('b'));\n            this.element.appendChild(barElem);\n            const colorElem = doc.createElement('div');\n            colorElem.classList.add(className$a('c'));\n            barElem.appendChild(colorElem);\n            this.colorElem_ = colorElem;\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$a('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            const previewElem = doc.createElement('div');\n            previewElem.classList.add(className$a('p'));\n            this.markerElem_.appendChild(previewElem);\n            this.previewElem_ = previewElem;\n            this.update_();\n        }\n        update_() {\n            const c = this.value.rawValue;\n            const rgbaComps = c.getComponents('rgb');\n            const leftColor = new Color([rgbaComps[0], rgbaComps[1], rgbaComps[2], 0], 'rgb');\n            const rightColor = new Color([rgbaComps[0], rgbaComps[1], rgbaComps[2], 255], 'rgb');\n            const gradientComps = [\n                'to right',\n                colorToFunctionalRgbaString(leftColor),\n                colorToFunctionalRgbaString(rightColor),\n            ];\n            this.colorElem_.style.background = `linear-gradient(${gradientComps.join(',')})`;\n            this.previewElem_.style.backgroundColor = colorToFunctionalRgbaString(c);\n            const left = mapRange(rgbaComps[3], 0, 1, 0, 100);\n            this.markerElem_.style.left = `${left}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class APaletteController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new APaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            const alpha = d.point.x / d.bounds.width;\n            const c = this.value.rawValue;\n            const [h, s, v] = c.getComponents('hsv');\n            this.value.setRawValue(new Color([h, s, v, alpha], 'hsv'), opts);\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onKeyDown_(ev) {\n            const step = getStepForKey(getBaseStepForColor(true), getHorizontalStepKeys(ev));\n            const c = this.value.rawValue;\n            const [h, s, v, a] = c.getComponents('hsv');\n            this.value.rawValue = new Color([h, s, v, a + step], 'hsv');\n        }\n    }\n\n    const className$9 = ClassName('coltxt');\n    function createModeSelectElement(doc) {\n        const selectElem = doc.createElement('select');\n        const items = [\n            { text: 'RGB', value: 'rgb' },\n            { text: 'HSL', value: 'hsl' },\n            { text: 'HSV', value: 'hsv' },\n        ];\n        selectElem.appendChild(items.reduce((frag, item) => {\n            const optElem = doc.createElement('option');\n            optElem.textContent = item.text;\n            optElem.value = item.value;\n            frag.appendChild(optElem);\n            return frag;\n        }, doc.createDocumentFragment()));\n        return selectElem;\n    }\n    class ColorTextView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$9());\n            const modeElem = doc.createElement('div');\n            modeElem.classList.add(className$9('m'));\n            this.modeElem_ = createModeSelectElement(doc);\n            this.modeElem_.classList.add(className$9('ms'));\n            modeElem.appendChild(this.modeSelectElement);\n            const modeMarkerElem = doc.createElement('div');\n            modeMarkerElem.classList.add(className$9('mm'));\n            modeMarkerElem.appendChild(createSvgIconElement(doc, 'dropdown'));\n            modeElem.appendChild(modeMarkerElem);\n            this.element.appendChild(modeElem);\n            const textsElem = doc.createElement('div');\n            textsElem.classList.add(className$9('w'));\n            this.element.appendChild(textsElem);\n            this.textsElem_ = textsElem;\n            this.textViews_ = config.textViews;\n            this.applyTextViews_();\n            bindValue(config.colorMode, (mode) => {\n                this.modeElem_.value = mode;\n            });\n        }\n        get modeSelectElement() {\n            return this.modeElem_;\n        }\n        get textViews() {\n            return this.textViews_;\n        }\n        set textViews(textViews) {\n            this.textViews_ = textViews;\n            this.applyTextViews_();\n        }\n        applyTextViews_() {\n            removeChildElements(this.textsElem_);\n            const doc = this.element.ownerDocument;\n            this.textViews_.forEach((v) => {\n                const compElem = doc.createElement('div');\n                compElem.classList.add(className$9('c'));\n                compElem.appendChild(v.element);\n                this.textsElem_.appendChild(compElem);\n            });\n        }\n    }\n\n    const FORMATTER = createNumberFormatter(0);\n    const MODE_TO_CONSTRAINT_MAP = {\n        rgb: () => {\n            return new RangeConstraint({ min: 0, max: 255 });\n        },\n        hsl: (index) => {\n            return index === 0\n                ? new RangeConstraint({ min: 0, max: 360 })\n                : new RangeConstraint({ min: 0, max: 100 });\n        },\n        hsv: (index) => {\n            return index === 0\n                ? new RangeConstraint({ min: 0, max: 360 })\n                : new RangeConstraint({ min: 0, max: 100 });\n        },\n    };\n    function createComponentController(doc, config, index) {\n        return new NumberTextController(doc, {\n            arrayPosition: index === 0 ? 'fst' : index === 3 - 1 ? 'lst' : 'mid',\n            baseStep: getBaseStepForColor(false),\n            parser: config.parser,\n            props: ValueMap.fromObject({\n                draggingScale: 1,\n                formatter: FORMATTER,\n            }),\n            value: createValue(0, {\n                constraint: MODE_TO_CONSTRAINT_MAP[config.colorMode](index),\n            }),\n            viewProps: config.viewProps,\n        });\n    }\n    class ColorTextController {\n        constructor(doc, config) {\n            this.onModeSelectChange_ = this.onModeSelectChange_.bind(this);\n            this.parser_ = config.parser;\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.colorMode = createValue(this.value.rawValue.mode);\n            this.ccs_ = this.createComponentControllers_(doc);\n            this.view = new ColorTextView(doc, {\n                colorMode: this.colorMode,\n                textViews: [this.ccs_[0].view, this.ccs_[1].view, this.ccs_[2].view],\n            });\n            this.view.modeSelectElement.addEventListener('change', this.onModeSelectChange_);\n        }\n        createComponentControllers_(doc) {\n            const cc = {\n                colorMode: this.colorMode.rawValue,\n                parser: this.parser_,\n                viewProps: this.viewProps,\n            };\n            const ccs = [\n                createComponentController(doc, cc, 0),\n                createComponentController(doc, cc, 1),\n                createComponentController(doc, cc, 2),\n            ];\n            ccs.forEach((cs, index) => {\n                connectValues({\n                    primary: this.value,\n                    secondary: cs.value,\n                    forward: (p) => {\n                        return p.rawValue.getComponents(this.colorMode.rawValue)[index];\n                    },\n                    backward: (p, s) => {\n                        const pickedMode = this.colorMode.rawValue;\n                        const comps = p.rawValue.getComponents(pickedMode);\n                        comps[index] = s.rawValue;\n                        return new Color(appendAlphaComponent(removeAlphaComponent(comps), comps[3]), pickedMode);\n                    },\n                });\n            });\n            return ccs;\n        }\n        onModeSelectChange_(ev) {\n            const selectElem = ev.currentTarget;\n            this.colorMode.rawValue = selectElem.value;\n            this.ccs_ = this.createComponentControllers_(this.view.element.ownerDocument);\n            this.view.textViews = [\n                this.ccs_[0].view,\n                this.ccs_[1].view,\n                this.ccs_[2].view,\n            ];\n        }\n    }\n\n    const className$8 = ClassName('hpl');\n    class HPaletteView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$8());\n            config.viewProps.bindTabIndex(this.element);\n            const colorElem = doc.createElement('div');\n            colorElem.classList.add(className$8('c'));\n            this.element.appendChild(colorElem);\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$8('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            this.update_();\n        }\n        update_() {\n            const c = this.value.rawValue;\n            const [h] = c.getComponents('hsv');\n            this.markerElem_.style.backgroundColor = colorToFunctionalRgbString(new Color([h, 100, 100], 'hsv'));\n            const left = mapRange(h, 0, 360, 0, 100);\n            this.markerElem_.style.left = `${left}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class HPaletteController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new HPaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            const hue = mapRange(d.point.x, 0, d.bounds.width, 0, 360);\n            const c = this.value.rawValue;\n            const [, s, v, a] = c.getComponents('hsv');\n            this.value.setRawValue(new Color([hue, s, v, a], 'hsv'), opts);\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onKeyDown_(ev) {\n            const step = getStepForKey(getBaseStepForColor(false), getHorizontalStepKeys(ev));\n            const c = this.value.rawValue;\n            const [h, s, v, a] = c.getComponents('hsv');\n            this.value.rawValue = new Color([h + step, s, v, a], 'hsv');\n        }\n    }\n\n    const className$7 = ClassName('svp');\n    const CANVAS_RESOL = 64;\n    class SvPaletteView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$7());\n            config.viewProps.bindTabIndex(this.element);\n            const canvasElem = doc.createElement('canvas');\n            canvasElem.height = CANVAS_RESOL;\n            canvasElem.width = CANVAS_RESOL;\n            canvasElem.classList.add(className$7('c'));\n            this.element.appendChild(canvasElem);\n            this.canvasElement = canvasElem;\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$7('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            this.update_();\n        }\n        update_() {\n            const ctx = getCanvasContext(this.canvasElement);\n            if (!ctx) {\n                return;\n            }\n            const c = this.value.rawValue;\n            const hsvComps = c.getComponents('hsv');\n            const width = this.canvasElement.width;\n            const height = this.canvasElement.height;\n            const imgData = ctx.getImageData(0, 0, width, height);\n            const data = imgData.data;\n            for (let iy = 0; iy < height; iy++) {\n                for (let ix = 0; ix < width; ix++) {\n                    const s = mapRange(ix, 0, width, 0, 100);\n                    const v = mapRange(iy, 0, height, 100, 0);\n                    const rgbComps = hsvToRgb(hsvComps[0], s, v);\n                    const i = (iy * width + ix) * 4;\n                    data[i] = rgbComps[0];\n                    data[i + 1] = rgbComps[1];\n                    data[i + 2] = rgbComps[2];\n                    data[i + 3] = 255;\n                }\n            }\n            ctx.putImageData(imgData, 0, 0);\n            const left = mapRange(hsvComps[1], 0, 100, 0, 100);\n            this.markerElem_.style.left = `${left}%`;\n            const top = mapRange(hsvComps[2], 0, 100, 100, 0);\n            this.markerElem_.style.top = `${top}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class SvPaletteController {\n        constructor(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new SvPaletteView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            const saturation = mapRange(d.point.x, 0, d.bounds.width, 0, 100);\n            const value = mapRange(d.point.y, 0, d.bounds.height, 100, 0);\n            const [h, , , a] = this.value.rawValue.getComponents('hsv');\n            this.value.setRawValue(new Color([h, saturation, value, a], 'hsv'), opts);\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onKeyDown_(ev) {\n            if (isArrowKey(ev.key)) {\n                ev.preventDefault();\n            }\n            const [h, s, v, a] = this.value.rawValue.getComponents('hsv');\n            const baseStep = getBaseStepForColor(false);\n            this.value.rawValue = new Color([\n                h,\n                s + getStepForKey(baseStep, getHorizontalStepKeys(ev)),\n                v + getStepForKey(baseStep, getVerticalStepKeys(ev)),\n                a,\n            ], 'hsv');\n        }\n    }\n\n    class ColorPickerController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.hPaletteC_ = new HPaletteController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.svPaletteC_ = new SvPaletteController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.alphaIcs_ = config.supportsAlpha\n                ? {\n                    palette: new APaletteController(doc, {\n                        value: this.value,\n                        viewProps: this.viewProps,\n                    }),\n                    text: new NumberTextController(doc, {\n                        parser: parseNumber,\n                        baseStep: 0.1,\n                        props: ValueMap.fromObject({\n                            draggingScale: 0.01,\n                            formatter: createNumberFormatter(2),\n                        }),\n                        value: createValue(0, {\n                            constraint: new RangeConstraint({ min: 0, max: 1 }),\n                        }),\n                        viewProps: this.viewProps,\n                    }),\n                }\n                : null;\n            if (this.alphaIcs_) {\n                connectValues({\n                    primary: this.value,\n                    secondary: this.alphaIcs_.text.value,\n                    forward: (p) => {\n                        return p.rawValue.getComponents()[3];\n                    },\n                    backward: (p, s) => {\n                        const comps = p.rawValue.getComponents();\n                        comps[3] = s.rawValue;\n                        return new Color(comps, p.rawValue.mode);\n                    },\n                });\n            }\n            this.textC_ = new ColorTextController(doc, {\n                parser: parseNumber,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new ColorPickerView(doc, {\n                alphaViews: this.alphaIcs_\n                    ? {\n                        palette: this.alphaIcs_.palette.view,\n                        text: this.alphaIcs_.text.view,\n                    }\n                    : null,\n                hPaletteView: this.hPaletteC_.view,\n                supportsAlpha: config.supportsAlpha,\n                svPaletteView: this.svPaletteC_.view,\n                textView: this.textC_.view,\n            });\n        }\n        get textController() {\n            return this.textC_;\n        }\n    }\n\n    const className$6 = ClassName('colsw');\n    class ColorSwatchView {\n        constructor(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$6());\n            config.viewProps.bindClassModifiers(this.element);\n            const swatchElem = doc.createElement('div');\n            swatchElem.classList.add(className$6('sw'));\n            this.element.appendChild(swatchElem);\n            this.swatchElem_ = swatchElem;\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$6('b'));\n            config.viewProps.bindDisabled(buttonElem);\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            this.update_();\n        }\n        update_() {\n            const value = this.value.rawValue;\n            this.swatchElem_.style.backgroundColor = colorToHexRgbaString(value);\n        }\n        onValueChange_() {\n            this.update_();\n        }\n    }\n\n    class ColorSwatchController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new ColorSwatchView(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    class ColorController {\n        constructor(doc, config) {\n            this.onButtonBlur_ = this.onButtonBlur_.bind(this);\n            this.onButtonClick_ = this.onButtonClick_.bind(this);\n            this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n            this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.foldable_ = Foldable.create(config.expanded);\n            this.swatchC_ = new ColorSwatchController(doc, {\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            const buttonElem = this.swatchC_.view.buttonElement;\n            buttonElem.addEventListener('blur', this.onButtonBlur_);\n            buttonElem.addEventListener('click', this.onButtonClick_);\n            this.textC_ = new TextController(doc, {\n                parser: config.parser,\n                props: ValueMap.fromObject({\n                    formatter: config.formatter,\n                }),\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new ColorView(doc, {\n                foldable: this.foldable_,\n                pickerLayout: config.pickerLayout,\n            });\n            this.view.swatchElement.appendChild(this.swatchC_.view.element);\n            this.view.textElement.appendChild(this.textC_.view.element);\n            this.popC_ =\n                config.pickerLayout === 'popup'\n                    ? new PopupController(doc, {\n                        viewProps: this.viewProps,\n                    })\n                    : null;\n            const pickerC = new ColorPickerController(doc, {\n                supportsAlpha: config.supportsAlpha,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            pickerC.view.allFocusableElements.forEach((elem) => {\n                elem.addEventListener('blur', this.onPopupChildBlur_);\n                elem.addEventListener('keydown', this.onPopupChildKeydown_);\n            });\n            this.pickerC_ = pickerC;\n            if (this.popC_) {\n                this.view.element.appendChild(this.popC_.view.element);\n                this.popC_.view.element.appendChild(pickerC.view.element);\n                connectValues({\n                    primary: this.foldable_.value('expanded'),\n                    secondary: this.popC_.shows,\n                    forward: (p) => p.rawValue,\n                    backward: (_, s) => s.rawValue,\n                });\n            }\n            else if (this.view.pickerElement) {\n                this.view.pickerElement.appendChild(this.pickerC_.view.element);\n                bindFoldable(this.foldable_, this.view.pickerElement);\n            }\n        }\n        get textController() {\n            return this.textC_;\n        }\n        onButtonBlur_(e) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.view.element;\n            const nextTarget = forceCast(e.relatedTarget);\n            if (!nextTarget || !elem.contains(nextTarget)) {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        onButtonClick_() {\n            this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n            if (this.foldable_.get('expanded')) {\n                this.pickerC_.view.allFocusableElements[0].focus();\n            }\n        }\n        onPopupChildBlur_(ev) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.popC_.view.element;\n            const nextTarget = findNextTarget(ev);\n            if (nextTarget && elem.contains(nextTarget)) {\n                return;\n            }\n            if (nextTarget &&\n                nextTarget === this.swatchC_.view.buttonElement &&\n                !supportsTouch(elem.ownerDocument)) {\n                return;\n            }\n            this.popC_.shows.rawValue = false;\n        }\n        onPopupChildKeydown_(ev) {\n            if (this.popC_) {\n                if (ev.key === 'Escape') {\n                    this.popC_.shows.rawValue = false;\n                }\n            }\n            else if (this.view.pickerElement) {\n                if (ev.key === 'Escape') {\n                    this.swatchC_.view.buttonElement.focus();\n                }\n            }\n        }\n    }\n\n    function colorFromObject(value) {\n        if (Color.isColorObject(value)) {\n            return Color.fromObject(value);\n        }\n        return Color.black();\n    }\n    function colorToRgbNumber(value) {\n        return removeAlphaComponent(value.getComponents('rgb')).reduce((result, comp) => {\n            return (result << 8) | (Math.floor(comp) & 0xff);\n        }, 0);\n    }\n    function colorToRgbaNumber(value) {\n        return (value.getComponents('rgb').reduce((result, comp, index) => {\n            const hex = Math.floor(index === 3 ? comp * 255 : comp) & 0xff;\n            return (result << 8) | hex;\n        }, 0) >>> 0);\n    }\n    function numberToRgbColor(num) {\n        return new Color([(num >> 16) & 0xff, (num >> 8) & 0xff, num & 0xff], 'rgb');\n    }\n    function numberToRgbaColor(num) {\n        return new Color([\n            (num >> 24) & 0xff,\n            (num >> 16) & 0xff,\n            (num >> 8) & 0xff,\n            mapRange(num & 0xff, 0, 255, 0, 1),\n        ], 'rgb');\n    }\n    function colorFromRgbNumber(value) {\n        if (typeof value !== 'number') {\n            return Color.black();\n        }\n        return numberToRgbColor(value);\n    }\n    function colorFromRgbaNumber(value) {\n        if (typeof value !== 'number') {\n            return Color.black();\n        }\n        return numberToRgbaColor(value);\n    }\n\n    function createColorStringWriter(notation) {\n        const stringify = getColorStringifier(notation);\n        return (target, value) => {\n            writePrimitive(target, stringify(value));\n        };\n    }\n    function createColorNumberWriter(supportsAlpha) {\n        const colorToNumber = supportsAlpha ? colorToRgbaNumber : colorToRgbNumber;\n        return (target, value) => {\n            writePrimitive(target, colorToNumber(value));\n        };\n    }\n    function writeRgbaColorObject(target, value) {\n        const obj = value.toRgbaObject();\n        target.writeProperty('r', obj.r);\n        target.writeProperty('g', obj.g);\n        target.writeProperty('b', obj.b);\n        target.writeProperty('a', obj.a);\n    }\n    function writeRgbColorObject(target, value) {\n        const obj = value.toRgbaObject();\n        target.writeProperty('r', obj.r);\n        target.writeProperty('g', obj.g);\n        target.writeProperty('b', obj.b);\n    }\n    function createColorObjectWriter(supportsAlpha) {\n        return supportsAlpha ? writeRgbaColorObject : writeRgbColorObject;\n    }\n\n    function shouldSupportAlpha$1(inputParams) {\n        return 'alpha' in inputParams && inputParams.alpha === true;\n    }\n    function createFormatter$1(supportsAlpha) {\n        return supportsAlpha\n            ? (v) => colorToHexRgbaString(v, '0x')\n            : (v) => colorToHexRgbString(v, '0x');\n    }\n    const NumberColorInputPlugin = {\n        id: 'input-color-number',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            if (!('view' in params)) {\n                return null;\n            }\n            if (params.view !== 'color') {\n                return null;\n            }\n            const result = parseColorInputParams(params);\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (args) => {\n                return shouldSupportAlpha$1(args.params)\n                    ? colorFromRgbaNumber\n                    : colorFromRgbNumber;\n            },\n            equals: Color.equals,\n            writer: (args) => {\n                return createColorNumberWriter(shouldSupportAlpha$1(args.params));\n            },\n        },\n        controller: (args) => {\n            const supportsAlpha = shouldSupportAlpha$1(args.params);\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: createFormatter$1(supportsAlpha),\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: supportsAlpha,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    function shouldSupportAlpha(initialValue) {\n        return Color.isRgbaColorObject(initialValue);\n    }\n    const ObjectColorInputPlugin = {\n        id: 'input-color-object',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Color.isColorObject(value)) {\n                return null;\n            }\n            const result = parseColorInputParams(params);\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => colorFromObject,\n            equals: Color.equals,\n            writer: (args) => createColorObjectWriter(shouldSupportAlpha(args.initialValue)),\n        },\n        controller: (args) => {\n            const supportsAlpha = Color.isRgbaColorObject(args.initialValue);\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            const formatter = supportsAlpha\n                ? colorToHexRgbaString\n                : colorToHexRgbString;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: formatter,\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: supportsAlpha,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    const StringColorInputPlugin = {\n        id: 'input-color-string',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            if ('view' in params && params.view === 'text') {\n                return null;\n            }\n            const notation = getColorNotation(value);\n            if (!notation) {\n                return null;\n            }\n            const result = parseColorInputParams(params);\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => colorFromString,\n            equals: Color.equals,\n            writer: (args) => {\n                const notation = getColorNotation(args.initialValue);\n                if (!notation) {\n                    throw TpError.shouldNeverHappen();\n                }\n                return createColorStringWriter(notation);\n            },\n        },\n        controller: (args) => {\n            const notation = getColorNotation(args.initialValue);\n            if (!notation) {\n                throw TpError.shouldNeverHappen();\n            }\n            const stringifier = getColorStringifier(notation);\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            return new ColorController(args.document, {\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                formatter: stringifier,\n                parser: CompositeColorParser,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                supportsAlpha: hasAlphaComponent(notation),\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class PointNdConstraint {\n        constructor(config) {\n            this.components = config.components;\n            this.asm_ = config.assembly;\n        }\n        constrain(value) {\n            const comps = this.asm_\n                .toComponents(value)\n                .map((comp, index) => { var _a, _b; return (_b = (_a = this.components[index]) === null || _a === void 0 ? void 0 : _a.constrain(comp)) !== null && _b !== void 0 ? _b : comp; });\n            return this.asm_.fromComponents(comps);\n        }\n    }\n\n    const className$5 = ClassName('pndtxt');\n    class PointNdTextView {\n        constructor(doc, config) {\n            this.textViews = config.textViews;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$5());\n            this.textViews.forEach((v) => {\n                const axisElem = doc.createElement('div');\n                axisElem.classList.add(className$5('a'));\n                axisElem.appendChild(v.element);\n                this.element.appendChild(axisElem);\n            });\n        }\n    }\n\n    function createAxisController(doc, config, index) {\n        return new NumberTextController(doc, {\n            arrayPosition: index === 0 ? 'fst' : index === config.axes.length - 1 ? 'lst' : 'mid',\n            baseStep: config.axes[index].baseStep,\n            parser: config.parser,\n            props: config.axes[index].textProps,\n            value: createValue(0, {\n                constraint: config.axes[index].constraint,\n            }),\n            viewProps: config.viewProps,\n        });\n    }\n    class PointNdTextController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.acs_ = config.axes.map((_, index) => createAxisController(doc, config, index));\n            this.acs_.forEach((c, index) => {\n                connectValues({\n                    primary: this.value,\n                    secondary: c.value,\n                    forward: (p) => {\n                        return config.assembly.toComponents(p.rawValue)[index];\n                    },\n                    backward: (p, s) => {\n                        const comps = config.assembly.toComponents(p.rawValue);\n                        comps[index] = s.rawValue;\n                        return config.assembly.fromComponents(comps);\n                    },\n                });\n            });\n            this.view = new PointNdTextView(doc, {\n                textViews: this.acs_.map((ac) => ac.view),\n            });\n        }\n    }\n\n    function createStepConstraint(params) {\n        if ('step' in params && !isEmpty(params.step)) {\n            return new StepConstraint(params.step);\n        }\n        return null;\n    }\n    function createRangeConstraint(params) {\n        if (('max' in params && !isEmpty(params.max)) ||\n            ('min' in params && !isEmpty(params.min))) {\n            return new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            });\n        }\n        return null;\n    }\n    function createConstraint$4(params) {\n        const constraints = [];\n        const sc = createStepConstraint(params);\n        if (sc) {\n            constraints.push(sc);\n        }\n        const rc = createRangeConstraint(params);\n        if (rc) {\n            constraints.push(rc);\n        }\n        const lc = createListConstraint(params.options);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function findRange(constraint) {\n        const c = constraint ? findConstraint(constraint, RangeConstraint) : null;\n        if (!c) {\n            return [undefined, undefined];\n        }\n        return [c.minValue, c.maxValue];\n    }\n    function estimateSuitableRange(constraint) {\n        const [min, max] = findRange(constraint);\n        return [min !== null && min !== void 0 ? min : 0, max !== null && max !== void 0 ? max : 100];\n    }\n    const NumberInputPlugin = {\n        id: 'input-number',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                format: p.optional.function,\n                max: p.optional.number,\n                min: p.optional.number,\n                options: p.optional.custom(parseListOptions),\n                step: p.optional.number,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => numberFromUnknown,\n            constraint: (args) => createConstraint$4(args.params),\n            writer: (_args) => writePrimitive,\n        },\n        controller: (args) => {\n            var _a, _b;\n            const value = args.value;\n            const c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(args.document, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            const formatter = (_b = ('format' in args.params ? args.params.format : undefined)) !== null && _b !== void 0 ? _b : createNumberFormatter(getSuitableDecimalDigits(c, value.rawValue));\n            if (c && findConstraint(c, RangeConstraint)) {\n                const [min, max] = estimateSuitableRange(c);\n                return new SliderTextController(args.document, {\n                    baseStep: getBaseStep(c),\n                    parser: parseNumber,\n                    sliderProps: ValueMap.fromObject({\n                        maxValue: max,\n                        minValue: min,\n                    }),\n                    textProps: ValueMap.fromObject({\n                        draggingScale: getSuitableDraggingScale(c, value.rawValue),\n                        formatter: formatter,\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new NumberTextController(args.document, {\n                baseStep: getBaseStep(c),\n                parser: parseNumber,\n                props: ValueMap.fromObject({\n                    draggingScale: getSuitableDraggingScale(c, value.rawValue),\n                    formatter: formatter,\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class Point2d {\n        constructor(x = 0, y = 0) {\n            this.x = x;\n            this.y = y;\n        }\n        getComponents() {\n            return [this.x, this.y];\n        }\n        static isObject(obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            const x = obj.x;\n            const y = obj.y;\n            if (typeof x !== 'number' || typeof y !== 'number') {\n                return false;\n            }\n            return true;\n        }\n        static equals(v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y;\n        }\n        toObject() {\n            return {\n                x: this.x,\n                y: this.y,\n            };\n        }\n    }\n    const Point2dAssembly = {\n        toComponents: (p) => p.getComponents(),\n        fromComponents: (comps) => new Point2d(...comps),\n    };\n\n    const className$4 = ClassName('p2d');\n    class Point2dView {\n        constructor(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$4());\n            config.viewProps.bindClassModifiers(this.element);\n            bindValue(config.expanded, valueToClassName(this.element, className$4(undefined, 'expanded')));\n            const headElem = doc.createElement('div');\n            headElem.classList.add(className$4('h'));\n            this.element.appendChild(headElem);\n            const buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$4('b'));\n            buttonElem.appendChild(createSvgIconElement(doc, 'p2dpad'));\n            config.viewProps.bindDisabled(buttonElem);\n            headElem.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            const textElem = doc.createElement('div');\n            textElem.classList.add(className$4('t'));\n            headElem.appendChild(textElem);\n            this.textElement = textElem;\n            if (config.pickerLayout === 'inline') {\n                const pickerElem = doc.createElement('div');\n                pickerElem.classList.add(className$4('p'));\n                this.element.appendChild(pickerElem);\n                this.pickerElement = pickerElem;\n            }\n            else {\n                this.pickerElement = null;\n            }\n        }\n    }\n\n    const className$3 = ClassName('p2dp');\n    class Point2dPickerView {\n        constructor(doc, config) {\n            this.onFoldableChange_ = this.onFoldableChange_.bind(this);\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.invertsY_ = config.invertsY;\n            this.maxValue_ = config.maxValue;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$3());\n            if (config.layout === 'popup') {\n                this.element.classList.add(className$3(undefined, 'p'));\n            }\n            const padElem = doc.createElement('div');\n            padElem.classList.add(className$3('p'));\n            config.viewProps.bindTabIndex(padElem);\n            this.element.appendChild(padElem);\n            this.padElement = padElem;\n            const svgElem = doc.createElementNS(SVG_NS, 'svg');\n            svgElem.classList.add(className$3('g'));\n            this.padElement.appendChild(svgElem);\n            this.svgElem_ = svgElem;\n            const xAxisElem = doc.createElementNS(SVG_NS, 'line');\n            xAxisElem.classList.add(className$3('ax'));\n            xAxisElem.setAttributeNS(null, 'x1', '0');\n            xAxisElem.setAttributeNS(null, 'y1', '50%');\n            xAxisElem.setAttributeNS(null, 'x2', '100%');\n            xAxisElem.setAttributeNS(null, 'y2', '50%');\n            this.svgElem_.appendChild(xAxisElem);\n            const yAxisElem = doc.createElementNS(SVG_NS, 'line');\n            yAxisElem.classList.add(className$3('ax'));\n            yAxisElem.setAttributeNS(null, 'x1', '50%');\n            yAxisElem.setAttributeNS(null, 'y1', '0');\n            yAxisElem.setAttributeNS(null, 'x2', '50%');\n            yAxisElem.setAttributeNS(null, 'y2', '100%');\n            this.svgElem_.appendChild(yAxisElem);\n            const lineElem = doc.createElementNS(SVG_NS, 'line');\n            lineElem.classList.add(className$3('l'));\n            lineElem.setAttributeNS(null, 'x1', '50%');\n            lineElem.setAttributeNS(null, 'y1', '50%');\n            this.svgElem_.appendChild(lineElem);\n            this.lineElem_ = lineElem;\n            const markerElem = doc.createElement('div');\n            markerElem.classList.add(className$3('m'));\n            this.padElement.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update_();\n        }\n        get allFocusableElements() {\n            return [this.padElement];\n        }\n        update_() {\n            const [x, y] = this.value.rawValue.getComponents();\n            const max = this.maxValue_;\n            const px = mapRange(x, -max, +max, 0, 100);\n            const py = mapRange(y, -max, +max, 0, 100);\n            const ipy = this.invertsY_ ? 100 - py : py;\n            this.lineElem_.setAttributeNS(null, 'x2', `${px}%`);\n            this.lineElem_.setAttributeNS(null, 'y2', `${ipy}%`);\n            this.markerElem_.style.left = `${px}%`;\n            this.markerElem_.style.top = `${ipy}%`;\n        }\n        onValueChange_() {\n            this.update_();\n        }\n        onFoldableChange_() {\n            this.update_();\n        }\n    }\n\n    class Point2dPickerController {\n        constructor(doc, config) {\n            this.onPadKeyDown_ = this.onPadKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.baseSteps_ = config.baseSteps;\n            this.maxValue_ = config.maxValue;\n            this.invertsY_ = config.invertsY;\n            this.view = new Point2dPickerView(doc, {\n                invertsY: this.invertsY_,\n                layout: config.layout,\n                maxValue: this.maxValue_,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.padElement);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.padElement.addEventListener('keydown', this.onPadKeyDown_);\n        }\n        handlePointerEvent_(d, opts) {\n            if (!d.point) {\n                return;\n            }\n            const max = this.maxValue_;\n            const px = mapRange(d.point.x, 0, d.bounds.width, -max, +max);\n            const py = mapRange(this.invertsY_ ? d.bounds.height - d.point.y : d.point.y, 0, d.bounds.height, -max, +max);\n            this.value.setRawValue(new Point2d(px, py), opts);\n        }\n        onPointerDown_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerMove_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: false,\n                last: false,\n            });\n        }\n        onPointerUp_(ev) {\n            this.handlePointerEvent_(ev.data, {\n                forceEmit: true,\n                last: true,\n            });\n        }\n        onPadKeyDown_(ev) {\n            if (isArrowKey(ev.key)) {\n                ev.preventDefault();\n            }\n            this.value.rawValue = new Point2d(this.value.rawValue.x +\n                getStepForKey(this.baseSteps_[0], getHorizontalStepKeys(ev)), this.value.rawValue.y +\n                getStepForKey(this.baseSteps_[1], getVerticalStepKeys(ev)) *\n                    (this.invertsY_ ? 1 : -1));\n        }\n    }\n\n    class Point2dController {\n        constructor(doc, config) {\n            var _a, _b;\n            this.onPopupChildBlur_ = this.onPopupChildBlur_.bind(this);\n            this.onPopupChildKeydown_ = this.onPopupChildKeydown_.bind(this);\n            this.onPadButtonBlur_ = this.onPadButtonBlur_.bind(this);\n            this.onPadButtonClick_ = this.onPadButtonClick_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.foldable_ = Foldable.create(config.expanded);\n            this.popC_ =\n                config.pickerLayout === 'popup'\n                    ? new PopupController(doc, {\n                        viewProps: this.viewProps,\n                    })\n                    : null;\n            const padC = new Point2dPickerController(doc, {\n                baseSteps: [config.axes[0].baseStep, config.axes[1].baseStep],\n                invertsY: config.invertsY,\n                layout: config.pickerLayout,\n                maxValue: config.maxValue,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            padC.view.allFocusableElements.forEach((elem) => {\n                elem.addEventListener('blur', this.onPopupChildBlur_);\n                elem.addEventListener('keydown', this.onPopupChildKeydown_);\n            });\n            this.pickerC_ = padC;\n            this.textC_ = new PointNdTextController(doc, {\n                assembly: Point2dAssembly,\n                axes: config.axes,\n                parser: config.parser,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            this.view = new Point2dView(doc, {\n                expanded: this.foldable_.value('expanded'),\n                pickerLayout: config.pickerLayout,\n                viewProps: this.viewProps,\n            });\n            this.view.textElement.appendChild(this.textC_.view.element);\n            (_a = this.view.buttonElement) === null || _a === void 0 ? void 0 : _a.addEventListener('blur', this.onPadButtonBlur_);\n            (_b = this.view.buttonElement) === null || _b === void 0 ? void 0 : _b.addEventListener('click', this.onPadButtonClick_);\n            if (this.popC_) {\n                this.view.element.appendChild(this.popC_.view.element);\n                this.popC_.view.element.appendChild(this.pickerC_.view.element);\n                connectValues({\n                    primary: this.foldable_.value('expanded'),\n                    secondary: this.popC_.shows,\n                    forward: (p) => p.rawValue,\n                    backward: (_, s) => s.rawValue,\n                });\n            }\n            else if (this.view.pickerElement) {\n                this.view.pickerElement.appendChild(this.pickerC_.view.element);\n                bindFoldable(this.foldable_, this.view.pickerElement);\n            }\n        }\n        onPadButtonBlur_(e) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.view.element;\n            const nextTarget = forceCast(e.relatedTarget);\n            if (!nextTarget || !elem.contains(nextTarget)) {\n                this.popC_.shows.rawValue = false;\n            }\n        }\n        onPadButtonClick_() {\n            this.foldable_.set('expanded', !this.foldable_.get('expanded'));\n            if (this.foldable_.get('expanded')) {\n                this.pickerC_.view.allFocusableElements[0].focus();\n            }\n        }\n        onPopupChildBlur_(ev) {\n            if (!this.popC_) {\n                return;\n            }\n            const elem = this.popC_.view.element;\n            const nextTarget = findNextTarget(ev);\n            if (nextTarget && elem.contains(nextTarget)) {\n                return;\n            }\n            if (nextTarget &&\n                nextTarget === this.view.buttonElement &&\n                !supportsTouch(elem.ownerDocument)) {\n                return;\n            }\n            this.popC_.shows.rawValue = false;\n        }\n        onPopupChildKeydown_(ev) {\n            if (this.popC_) {\n                if (ev.key === 'Escape') {\n                    this.popC_.shows.rawValue = false;\n                }\n            }\n            else if (this.view.pickerElement) {\n                if (ev.key === 'Escape') {\n                    this.view.buttonElement.focus();\n                }\n            }\n        }\n    }\n\n    function point2dFromUnknown(value) {\n        return Point2d.isObject(value)\n            ? new Point2d(value.x, value.y)\n            : new Point2d();\n    }\n    function writePoint2d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n    }\n\n    function createDimensionConstraint$2(params) {\n        if (!params) {\n            return undefined;\n        }\n        const constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$3(params) {\n        return new PointNdConstraint({\n            assembly: Point2dAssembly,\n            components: [\n                createDimensionConstraint$2('x' in params ? params.x : undefined),\n                createDimensionConstraint$2('y' in params ? params.y : undefined),\n            ],\n        });\n    }\n    function getSuitableMaxDimensionValue(constraint, rawValue) {\n        const rc = constraint && findConstraint(constraint, RangeConstraint);\n        if (rc) {\n            return Math.max(Math.abs(rc.minValue || 0), Math.abs(rc.maxValue || 0));\n        }\n        const step = getBaseStep(constraint);\n        return Math.max(Math.abs(step) * 10, Math.abs(rawValue) * 10);\n    }\n    function getSuitableMaxValue(initialValue, constraint) {\n        const xc = constraint instanceof PointNdConstraint\n            ? constraint.components[0]\n            : undefined;\n        const yc = constraint instanceof PointNdConstraint\n            ? constraint.components[1]\n            : undefined;\n        const xr = getSuitableMaxDimensionValue(xc, initialValue.x);\n        const yr = getSuitableMaxDimensionValue(yc, initialValue.y);\n        return Math.max(xr, yr);\n    }\n    function createAxis$2(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    function shouldInvertY(params) {\n        if (!('y' in params)) {\n            return false;\n        }\n        const yParams = params.y;\n        if (!yParams) {\n            return false;\n        }\n        return 'inverted' in yParams ? !!yParams.inverted : false;\n    }\n    const Point2dInputPlugin = {\n        id: 'input-point2d',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Point2d.isObject(value)) {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                expanded: p.optional.boolean,\n                picker: p.optional.custom(parsePickerLayout),\n                x: p.optional.custom(parsePointDimensionParams),\n                y: p.optional.object({\n                    inverted: p.optional.boolean,\n                    max: p.optional.number,\n                    min: p.optional.number,\n                    step: p.optional.number,\n                }),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => point2dFromUnknown,\n            constraint: (args) => createConstraint$3(args.params),\n            equals: Point2d.equals,\n            writer: (_args) => writePoint2d,\n        },\n        controller: (args) => {\n            const doc = args.document;\n            const value = args.value;\n            const c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            const expanded = 'expanded' in args.params ? args.params.expanded : undefined;\n            const picker = 'picker' in args.params ? args.params.picker : undefined;\n            return new Point2dController(doc, {\n                axes: [\n                    createAxis$2(value.rawValue.x, c.components[0]),\n                    createAxis$2(value.rawValue.y, c.components[1]),\n                ],\n                expanded: expanded !== null && expanded !== void 0 ? expanded : false,\n                invertsY: shouldInvertY(args.params),\n                maxValue: getSuitableMaxValue(value.rawValue, c),\n                parser: parseNumber,\n                pickerLayout: picker !== null && picker !== void 0 ? picker : 'popup',\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class Point3d {\n        constructor(x = 0, y = 0, z = 0) {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n        }\n        getComponents() {\n            return [this.x, this.y, this.z];\n        }\n        static isObject(obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            const x = obj.x;\n            const y = obj.y;\n            const z = obj.z;\n            if (typeof x !== 'number' ||\n                typeof y !== 'number' ||\n                typeof z !== 'number') {\n                return false;\n            }\n            return true;\n        }\n        static equals(v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z;\n        }\n        toObject() {\n            return {\n                x: this.x,\n                y: this.y,\n                z: this.z,\n            };\n        }\n    }\n    const Point3dAssembly = {\n        toComponents: (p) => p.getComponents(),\n        fromComponents: (comps) => new Point3d(...comps),\n    };\n\n    function point3dFromUnknown(value) {\n        return Point3d.isObject(value)\n            ? new Point3d(value.x, value.y, value.z)\n            : new Point3d();\n    }\n    function writePoint3d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n        target.writeProperty('z', value.z);\n    }\n\n    function createDimensionConstraint$1(params) {\n        if (!params) {\n            return undefined;\n        }\n        const constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$2(params) {\n        return new PointNdConstraint({\n            assembly: Point3dAssembly,\n            components: [\n                createDimensionConstraint$1('x' in params ? params.x : undefined),\n                createDimensionConstraint$1('y' in params ? params.y : undefined),\n                createDimensionConstraint$1('z' in params ? params.z : undefined),\n            ],\n        });\n    }\n    function createAxis$1(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    const Point3dInputPlugin = {\n        id: 'input-point3d',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Point3d.isObject(value)) {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                x: p.optional.custom(parsePointDimensionParams),\n                y: p.optional.custom(parsePointDimensionParams),\n                z: p.optional.custom(parsePointDimensionParams),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => point3dFromUnknown,\n            constraint: (args) => createConstraint$2(args.params),\n            equals: Point3d.equals,\n            writer: (_args) => writePoint3d,\n        },\n        controller: (args) => {\n            const value = args.value;\n            const c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            return new PointNdTextController(args.document, {\n                assembly: Point3dAssembly,\n                axes: [\n                    createAxis$1(value.rawValue.x, c.components[0]),\n                    createAxis$1(value.rawValue.y, c.components[1]),\n                    createAxis$1(value.rawValue.z, c.components[2]),\n                ],\n                parser: parseNumber,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class Point4d {\n        constructor(x = 0, y = 0, z = 0, w = 0) {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n            this.w = w;\n        }\n        getComponents() {\n            return [this.x, this.y, this.z, this.w];\n        }\n        static isObject(obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            const x = obj.x;\n            const y = obj.y;\n            const z = obj.z;\n            const w = obj.w;\n            if (typeof x !== 'number' ||\n                typeof y !== 'number' ||\n                typeof z !== 'number' ||\n                typeof w !== 'number') {\n                return false;\n            }\n            return true;\n        }\n        static equals(v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z && v1.w === v2.w;\n        }\n        toObject() {\n            return {\n                x: this.x,\n                y: this.y,\n                z: this.z,\n                w: this.w,\n            };\n        }\n    }\n    const Point4dAssembly = {\n        toComponents: (p) => p.getComponents(),\n        fromComponents: (comps) => new Point4d(...comps),\n    };\n\n    function point4dFromUnknown(value) {\n        return Point4d.isObject(value)\n            ? new Point4d(value.x, value.y, value.z, value.w)\n            : new Point4d();\n    }\n    function writePoint4d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n        target.writeProperty('z', value.z);\n        target.writeProperty('w', value.w);\n    }\n\n    function createDimensionConstraint(params) {\n        if (!params) {\n            return undefined;\n        }\n        const constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$1(params) {\n        return new PointNdConstraint({\n            assembly: Point4dAssembly,\n            components: [\n                createDimensionConstraint('x' in params ? params.x : undefined),\n                createDimensionConstraint('y' in params ? params.y : undefined),\n                createDimensionConstraint('z' in params ? params.z : undefined),\n                createDimensionConstraint('w' in params ? params.w : undefined),\n            ],\n        });\n    }\n    function createAxis(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            constraint: constraint,\n            textProps: ValueMap.fromObject({\n                draggingScale: getSuitableDraggingScale(constraint, initialValue),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n            }),\n        };\n    }\n    const Point4dInputPlugin = {\n        id: 'input-point4d',\n        type: 'input',\n        accept: (value, params) => {\n            if (!Point4d.isObject(value)) {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                x: p.optional.custom(parsePointDimensionParams),\n                y: p.optional.custom(parsePointDimensionParams),\n                z: p.optional.custom(parsePointDimensionParams),\n                w: p.optional.custom(parsePointDimensionParams),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => point4dFromUnknown,\n            constraint: (args) => createConstraint$1(args.params),\n            equals: Point4d.equals,\n            writer: (_args) => writePoint4d,\n        },\n        controller: (args) => {\n            const value = args.value;\n            const c = args.constraint;\n            if (!(c instanceof PointNdConstraint)) {\n                throw TpError.shouldNeverHappen();\n            }\n            return new PointNdTextController(args.document, {\n                assembly: Point4dAssembly,\n                axes: value.rawValue\n                    .getComponents()\n                    .map((comp, index) => createAxis(comp, c.components[index])),\n                parser: parseNumber,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    function createConstraint(params) {\n        const constraints = [];\n        const lc = createListConstraint(params.options);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    const StringInputPlugin = {\n        id: 'input-string',\n        type: 'input',\n        accept: (value, params) => {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                options: p.optional.custom(parseListOptions),\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => stringFromUnknown,\n            constraint: (args) => createConstraint(args.params),\n            writer: (_args) => writePrimitive,\n        },\n        controller: (args) => {\n            var _a;\n            const doc = args.document;\n            const value = args.value;\n            const c = args.constraint;\n            if (c && findConstraint(c, ListConstraint)) {\n                return new ListController(doc, {\n                    props: ValueMap.fromObject({\n                        options: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                    }),\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new TextController(doc, {\n                parser: (v) => v,\n                props: ValueMap.fromObject({\n                    formatter: formatString,\n                }),\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    const Constants = {\n        monitor: {\n            defaultInterval: 200,\n            defaultLineCount: 3,\n        },\n    };\n\n    const className$2 = ClassName('mll');\n    class MultiLogView {\n        constructor(doc, config) {\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.formatter_ = config.formatter;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$2());\n            config.viewProps.bindClassModifiers(this.element);\n            const textareaElem = doc.createElement('textarea');\n            textareaElem.classList.add(className$2('i'));\n            textareaElem.style.height = `calc(var(--bld-us) * ${config.lineCount})`;\n            textareaElem.readOnly = true;\n            config.viewProps.bindDisabled(textareaElem);\n            this.element.appendChild(textareaElem);\n            this.textareaElem_ = textareaElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            const elem = this.textareaElem_;\n            const shouldScroll = elem.scrollTop === elem.scrollHeight - elem.clientHeight;\n            const lines = [];\n            this.value.rawValue.forEach((value) => {\n                if (value !== undefined) {\n                    lines.push(this.formatter_(value));\n                }\n            });\n            elem.textContent = lines.join('\\n');\n            if (shouldScroll) {\n                elem.scrollTop = elem.scrollHeight;\n            }\n        }\n        onValueUpdate_() {\n            this.update_();\n        }\n    }\n\n    class MultiLogController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new MultiLogView(doc, {\n                formatter: config.formatter,\n                lineCount: config.lineCount,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    const className$1 = ClassName('sgl');\n    class SingleLogView {\n        constructor(doc, config) {\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.formatter_ = config.formatter;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$1());\n            config.viewProps.bindClassModifiers(this.element);\n            const inputElem = doc.createElement('input');\n            inputElem.classList.add(className$1('i'));\n            inputElem.readOnly = true;\n            inputElem.type = 'text';\n            config.viewProps.bindDisabled(inputElem);\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        update_() {\n            const values = this.value.rawValue;\n            const lastValue = values[values.length - 1];\n            this.inputElement.value =\n                lastValue !== undefined ? this.formatter_(lastValue) : '';\n        }\n        onValueUpdate_() {\n            this.update_();\n        }\n    }\n\n    class SingleLogController {\n        constructor(doc, config) {\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.view = new SingleLogView(doc, {\n                formatter: config.formatter,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n        }\n    }\n\n    const BooleanMonitorPlugin = {\n        id: 'monitor-bool',\n        type: 'monitor',\n        accept: (value, params) => {\n            if (typeof value !== 'boolean') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                lineCount: p.optional.number,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => boolFromUnknown,\n        },\n        controller: (args) => {\n            var _a;\n            if (args.value.rawValue.length === 1) {\n                return new SingleLogController(args.document, {\n                    formatter: BooleanFormatter,\n                    value: args.value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new MultiLogController(args.document, {\n                formatter: BooleanFormatter,\n                lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class GraphCursor {\n        constructor() {\n            this.emitter = new Emitter();\n            this.index_ = -1;\n        }\n        get index() {\n            return this.index_;\n        }\n        set index(index) {\n            const changed = this.index_ !== index;\n            if (changed) {\n                this.index_ = index;\n                this.emitter.emit('change', {\n                    index: index,\n                    sender: this,\n                });\n            }\n        }\n    }\n\n    const className = ClassName('grl');\n    class GraphLogView {\n        constructor(doc, config) {\n            this.onCursorChange_ = this.onCursorChange_.bind(this);\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className());\n            config.viewProps.bindClassModifiers(this.element);\n            this.formatter_ = config.formatter;\n            this.minValue_ = config.minValue;\n            this.maxValue_ = config.maxValue;\n            this.cursor_ = config.cursor;\n            this.cursor_.emitter.on('change', this.onCursorChange_);\n            const svgElem = doc.createElementNS(SVG_NS, 'svg');\n            svgElem.classList.add(className('g'));\n            svgElem.style.height = `calc(var(--bld-us) * ${config.lineCount})`;\n            this.element.appendChild(svgElem);\n            this.svgElem_ = svgElem;\n            const lineElem = doc.createElementNS(SVG_NS, 'polyline');\n            this.svgElem_.appendChild(lineElem);\n            this.lineElem_ = lineElem;\n            const tooltipElem = doc.createElement('div');\n            tooltipElem.classList.add(className('t'), ClassName('tt')());\n            this.element.appendChild(tooltipElem);\n            this.tooltipElem_ = tooltipElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update_();\n        }\n        get graphElement() {\n            return this.svgElem_;\n        }\n        update_() {\n            const bounds = this.svgElem_.getBoundingClientRect();\n            const maxIndex = this.value.rawValue.length - 1;\n            const min = this.minValue_;\n            const max = this.maxValue_;\n            const points = [];\n            this.value.rawValue.forEach((v, index) => {\n                if (v === undefined) {\n                    return;\n                }\n                const x = mapRange(index, 0, maxIndex, 0, bounds.width);\n                const y = mapRange(v, min, max, bounds.height, 0);\n                points.push([x, y].join(','));\n            });\n            this.lineElem_.setAttributeNS(null, 'points', points.join(' '));\n            const tooltipElem = this.tooltipElem_;\n            const value = this.value.rawValue[this.cursor_.index];\n            if (value === undefined) {\n                tooltipElem.classList.remove(className('t', 'a'));\n                return;\n            }\n            const tx = mapRange(this.cursor_.index, 0, maxIndex, 0, bounds.width);\n            const ty = mapRange(value, min, max, bounds.height, 0);\n            tooltipElem.style.left = `${tx}px`;\n            tooltipElem.style.top = `${ty}px`;\n            tooltipElem.textContent = `${this.formatter_(value)}`;\n            if (!tooltipElem.classList.contains(className('t', 'a'))) {\n                tooltipElem.classList.add(className('t', 'a'), className('t', 'in'));\n                forceReflow(tooltipElem);\n                tooltipElem.classList.remove(className('t', 'in'));\n            }\n        }\n        onValueUpdate_() {\n            this.update_();\n        }\n        onCursorChange_() {\n            this.update_();\n        }\n    }\n\n    class GraphLogController {\n        constructor(doc, config) {\n            this.onGraphMouseMove_ = this.onGraphMouseMove_.bind(this);\n            this.onGraphMouseLeave_ = this.onGraphMouseLeave_.bind(this);\n            this.onGraphPointerDown_ = this.onGraphPointerDown_.bind(this);\n            this.onGraphPointerMove_ = this.onGraphPointerMove_.bind(this);\n            this.onGraphPointerUp_ = this.onGraphPointerUp_.bind(this);\n            this.value = config.value;\n            this.viewProps = config.viewProps;\n            this.cursor_ = new GraphCursor();\n            this.view = new GraphLogView(doc, {\n                cursor: this.cursor_,\n                formatter: config.formatter,\n                lineCount: config.lineCount,\n                maxValue: config.maxValue,\n                minValue: config.minValue,\n                value: this.value,\n                viewProps: this.viewProps,\n            });\n            if (!supportsTouch(doc)) {\n                this.view.element.addEventListener('mousemove', this.onGraphMouseMove_);\n                this.view.element.addEventListener('mouseleave', this.onGraphMouseLeave_);\n            }\n            else {\n                const ph = new PointerHandler(this.view.element);\n                ph.emitter.on('down', this.onGraphPointerDown_);\n                ph.emitter.on('move', this.onGraphPointerMove_);\n                ph.emitter.on('up', this.onGraphPointerUp_);\n            }\n        }\n        onGraphMouseLeave_() {\n            this.cursor_.index = -1;\n        }\n        onGraphMouseMove_(ev) {\n            const bounds = this.view.element.getBoundingClientRect();\n            this.cursor_.index = Math.floor(mapRange(ev.offsetX, 0, bounds.width, 0, this.value.rawValue.length));\n        }\n        onGraphPointerDown_(ev) {\n            this.onGraphPointerMove_(ev);\n        }\n        onGraphPointerMove_(ev) {\n            if (!ev.data.point) {\n                this.cursor_.index = -1;\n                return;\n            }\n            this.cursor_.index = Math.floor(mapRange(ev.data.point.x, 0, ev.data.bounds.width, 0, this.value.rawValue.length));\n        }\n        onGraphPointerUp_() {\n            this.cursor_.index = -1;\n        }\n    }\n\n    function createFormatter(params) {\n        return 'format' in params && !isEmpty(params.format)\n            ? params.format\n            : createNumberFormatter(2);\n    }\n    function createTextMonitor(args) {\n        var _a;\n        if (args.value.rawValue.length === 1) {\n            return new SingleLogController(args.document, {\n                formatter: createFormatter(args.params),\n                value: args.value,\n                viewProps: args.viewProps,\n            });\n        }\n        return new MultiLogController(args.document, {\n            formatter: createFormatter(args.params),\n            lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    }\n    function createGraphMonitor(args) {\n        var _a, _b, _c;\n        return new GraphLogController(args.document, {\n            formatter: createFormatter(args.params),\n            lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n            maxValue: (_b = ('max' in args.params ? args.params.max : null)) !== null && _b !== void 0 ? _b : 100,\n            minValue: (_c = ('min' in args.params ? args.params.min : null)) !== null && _c !== void 0 ? _c : 0,\n            value: args.value,\n            viewProps: args.viewProps,\n        });\n    }\n    function shouldShowGraph(params) {\n        return 'view' in params && params.view === 'graph';\n    }\n    const NumberMonitorPlugin = {\n        id: 'monitor-number',\n        type: 'monitor',\n        accept: (value, params) => {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                format: p.optional.function,\n                lineCount: p.optional.number,\n                max: p.optional.number,\n                min: p.optional.number,\n                view: p.optional.string,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            defaultBufferSize: (params) => (shouldShowGraph(params) ? 64 : 1),\n            reader: (_args) => numberFromUnknown,\n        },\n        controller: (args) => {\n            if (shouldShowGraph(args.params)) {\n                return createGraphMonitor(args);\n            }\n            return createTextMonitor(args);\n        },\n    };\n\n    const StringMonitorPlugin = {\n        id: 'monitor-string',\n        type: 'monitor',\n        accept: (value, params) => {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                lineCount: p.optional.number,\n                multiline: p.optional.boolean,\n            });\n            return result\n                ? {\n                    initialValue: value,\n                    params: result,\n                }\n                : null;\n        },\n        binding: {\n            reader: (_args) => stringFromUnknown,\n        },\n        controller: (args) => {\n            var _a;\n            const value = args.value;\n            const multiline = value.rawValue.length > 1 ||\n                ('multiline' in args.params && args.params.multiline);\n            if (multiline) {\n                return new MultiLogController(args.document, {\n                    formatter: formatString,\n                    lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n                    value: value,\n                    viewProps: args.viewProps,\n                });\n            }\n            return new SingleLogController(args.document, {\n                formatter: formatString,\n                value: value,\n                viewProps: args.viewProps,\n            });\n        },\n    };\n\n    class InputBinding {\n        constructor(config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.reader = config.reader;\n            this.writer = config.writer;\n            this.emitter = new Emitter();\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.target = config.target;\n            this.read();\n        }\n        read() {\n            const targetValue = this.target.read();\n            if (targetValue !== undefined) {\n                this.value.rawValue = this.reader(targetValue);\n            }\n        }\n        write_(rawValue) {\n            this.writer(this.target, rawValue);\n        }\n        onValueChange_(ev) {\n            this.write_(ev.rawValue);\n            this.emitter.emit('change', {\n                options: ev.options,\n                rawValue: ev.rawValue,\n                sender: this,\n            });\n        }\n    }\n\n    function createInputBindingController(plugin, args) {\n        const result = plugin.accept(args.target.read(), args.params);\n        if (isEmpty(result)) {\n            return null;\n        }\n        const p = ParamsParsers;\n        const valueArgs = {\n            target: args.target,\n            initialValue: result.initialValue,\n            params: result.params,\n        };\n        const reader = plugin.binding.reader(valueArgs);\n        const constraint = plugin.binding.constraint\n            ? plugin.binding.constraint(valueArgs)\n            : undefined;\n        const value = createValue(reader(result.initialValue), {\n            constraint: constraint,\n            equals: plugin.binding.equals,\n        });\n        const binding = new InputBinding({\n            reader: reader,\n            target: args.target,\n            value: value,\n            writer: plugin.binding.writer(valueArgs),\n        });\n        const disabled = p.optional.boolean(args.params.disabled).value;\n        const hidden = p.optional.boolean(args.params.hidden).value;\n        const controller = plugin.controller({\n            constraint: constraint,\n            document: args.document,\n            initialValue: result.initialValue,\n            params: result.params,\n            value: binding.value,\n            viewProps: ViewProps.create({\n                disabled: disabled,\n                hidden: hidden,\n            }),\n        });\n        const label = p.optional.string(args.params.label).value;\n        return new InputBindingController(args.document, {\n            binding: binding,\n            blade: createBlade(),\n            props: ValueMap.fromObject({\n                label: label || args.target.key,\n            }),\n            valueController: controller,\n        });\n    }\n\n    class MonitorBinding {\n        constructor(config) {\n            this.onTick_ = this.onTick_.bind(this);\n            this.reader_ = config.reader;\n            this.target = config.target;\n            this.emitter = new Emitter();\n            this.value = config.value;\n            this.ticker = config.ticker;\n            this.ticker.emitter.on('tick', this.onTick_);\n            this.read();\n        }\n        dispose() {\n            this.ticker.dispose();\n        }\n        read() {\n            const targetValue = this.target.read();\n            if (targetValue === undefined) {\n                return;\n            }\n            const buffer = this.value.rawValue;\n            const newValue = this.reader_(targetValue);\n            this.value.rawValue = createPushedBuffer(buffer, newValue);\n            this.emitter.emit('update', {\n                rawValue: newValue,\n                sender: this,\n            });\n        }\n        onTick_(_) {\n            this.read();\n        }\n    }\n\n    function createTicker(document, interval) {\n        return interval === 0\n            ? new ManualTicker()\n            : new IntervalTicker(document, interval !== null && interval !== void 0 ? interval : Constants.monitor.defaultInterval);\n    }\n    function createMonitorBindingController(plugin, args) {\n        var _a, _b, _c;\n        const P = ParamsParsers;\n        const result = plugin.accept(args.target.read(), args.params);\n        if (isEmpty(result)) {\n            return null;\n        }\n        const bindingArgs = {\n            target: args.target,\n            initialValue: result.initialValue,\n            params: result.params,\n        };\n        const reader = plugin.binding.reader(bindingArgs);\n        const bufferSize = (_b = (_a = P.optional.number(args.params.bufferSize).value) !== null && _a !== void 0 ? _a : (plugin.binding.defaultBufferSize &&\n            plugin.binding.defaultBufferSize(result.params))) !== null && _b !== void 0 ? _b : 1;\n        const interval = P.optional.number(args.params.interval).value;\n        const binding = new MonitorBinding({\n            reader: reader,\n            target: args.target,\n            ticker: createTicker(args.document, interval),\n            value: initializeBuffer(bufferSize),\n        });\n        const disabled = P.optional.boolean(args.params.disabled).value;\n        const hidden = P.optional.boolean(args.params.hidden).value;\n        const controller = plugin.controller({\n            document: args.document,\n            params: result.params,\n            value: binding.value,\n            viewProps: ViewProps.create({\n                disabled: disabled,\n                hidden: hidden,\n            }),\n        });\n        const label = (_c = P.optional.string(args.params.label).value) !== null && _c !== void 0 ? _c : args.target.key;\n        return new MonitorBindingController(args.document, {\n            binding: binding,\n            blade: createBlade(),\n            props: ValueMap.fromObject({\n                label: label,\n            }),\n            valueController: controller,\n        });\n    }\n\n    class PluginPool {\n        constructor() {\n            this.pluginsMap_ = {\n                blades: [],\n                inputs: [],\n                monitors: [],\n            };\n        }\n        getAll() {\n            return [\n                ...this.pluginsMap_.blades,\n                ...this.pluginsMap_.inputs,\n                ...this.pluginsMap_.monitors,\n            ];\n        }\n        register(r) {\n            if (r.type === 'blade') {\n                this.pluginsMap_.blades.unshift(r);\n            }\n            else if (r.type === 'input') {\n                this.pluginsMap_.inputs.unshift(r);\n            }\n            else if (r.type === 'monitor') {\n                this.pluginsMap_.monitors.unshift(r);\n            }\n        }\n        createInput(document, target, params) {\n            const initialValue = target.read();\n            if (isEmpty(initialValue)) {\n                throw new TpError({\n                    context: {\n                        key: target.key,\n                    },\n                    type: 'nomatchingcontroller',\n                });\n            }\n            const bc = this.pluginsMap_.inputs.reduce((result, plugin) => result ||\n                createInputBindingController(plugin, {\n                    document: document,\n                    target: target,\n                    params: params,\n                }), null);\n            if (bc) {\n                return bc;\n            }\n            throw new TpError({\n                context: {\n                    key: target.key,\n                },\n                type: 'nomatchingcontroller',\n            });\n        }\n        createMonitor(document, target, params) {\n            const bc = this.pluginsMap_.monitors.reduce((result, plugin) => result ||\n                createMonitorBindingController(plugin, {\n                    document: document,\n                    params: params,\n                    target: target,\n                }), null);\n            if (bc) {\n                return bc;\n            }\n            throw new TpError({\n                context: {\n                    key: target.key,\n                },\n                type: 'nomatchingcontroller',\n            });\n        }\n        createBlade(document, params) {\n            const bc = this.pluginsMap_.blades.reduce((result, plugin) => result ||\n                createBladeController(plugin, {\n                    document: document,\n                    params: params,\n                }), null);\n            if (!bc) {\n                throw new TpError({\n                    type: 'nomatchingview',\n                    context: {\n                        params: params,\n                    },\n                });\n            }\n            return bc;\n        }\n        createBladeApi(bc) {\n            if (bc instanceof InputBindingController) {\n                return new InputBindingApi(bc);\n            }\n            if (bc instanceof MonitorBindingController) {\n                return new MonitorBindingApi(bc);\n            }\n            if (bc instanceof RackController) {\n                return new RackApi(bc, this);\n            }\n            const api = this.pluginsMap_.blades.reduce((result, plugin) => result ||\n                plugin.api({\n                    controller: bc,\n                    pool: this,\n                }), null);\n            if (!api) {\n                throw TpError.shouldNeverHappen();\n            }\n            return api;\n        }\n    }\n\n    function createDefaultPluginPool() {\n        const pool = new PluginPool();\n        [\n            Point2dInputPlugin,\n            Point3dInputPlugin,\n            Point4dInputPlugin,\n            StringInputPlugin,\n            NumberInputPlugin,\n            StringColorInputPlugin,\n            ObjectColorInputPlugin,\n            NumberColorInputPlugin,\n            BooleanInputPlugin,\n            BooleanMonitorPlugin,\n            StringMonitorPlugin,\n            NumberMonitorPlugin,\n            ButtonBladePlugin,\n            FolderBladePlugin,\n            SeparatorBladePlugin,\n            TabBladePlugin,\n        ].forEach((p) => {\n            pool.register(p);\n        });\n        return pool;\n    }\n\n    class ListApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.emitter_ = new Emitter();\n            this.controller_.valueController.value.emitter.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(this, ev.rawValue),\n                });\n            });\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get options() {\n            return this.controller_.valueController.props.get('options');\n        }\n        set options(options) {\n            this.controller_.valueController.props.set('options', options);\n        }\n        get value() {\n            return this.controller_.valueController.value.rawValue;\n        }\n        set value(value) {\n            this.controller_.valueController.value.rawValue = value;\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    class SliderApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.emitter_ = new Emitter();\n            this.controller_.valueController.value.emitter.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(this, ev.rawValue),\n                });\n            });\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get maxValue() {\n            return this.controller_.valueController.sliderController.props.get('maxValue');\n        }\n        set maxValue(maxValue) {\n            this.controller_.valueController.sliderController.props.set('maxValue', maxValue);\n        }\n        get minValue() {\n            return this.controller_.valueController.sliderController.props.get('minValue');\n        }\n        set minValue(minValue) {\n            this.controller_.valueController.sliderController.props.set('minValue', minValue);\n        }\n        get value() {\n            return this.controller_.valueController.value.rawValue;\n        }\n        set value(value) {\n            this.controller_.valueController.value.rawValue = value;\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    class TextApi extends BladeApi {\n        constructor(controller) {\n            super(controller);\n            this.emitter_ = new Emitter();\n            this.controller_.valueController.value.emitter.on('change', (ev) => {\n                this.emitter_.emit('change', {\n                    event: new TpChangeEvent(this, ev.rawValue),\n                });\n            });\n        }\n        get label() {\n            return this.controller_.props.get('label');\n        }\n        set label(label) {\n            this.controller_.props.set('label', label);\n        }\n        get formatter() {\n            return this.controller_.valueController.props.get('formatter');\n        }\n        set formatter(formatter) {\n            this.controller_.valueController.props.set('formatter', formatter);\n        }\n        get value() {\n            return this.controller_.valueController.value.rawValue;\n        }\n        set value(value) {\n            this.controller_.valueController.value.rawValue = value;\n        }\n        on(eventName, handler) {\n            const bh = handler.bind(this);\n            this.emitter_.on(eventName, (ev) => {\n                bh(ev.event);\n            });\n            return this;\n        }\n    }\n\n    const ListBladePlugin = (function () {\n        return {\n            id: 'list',\n            type: 'blade',\n            accept(params) {\n                const p = ParamsParsers;\n                const result = parseParams(params, {\n                    options: p.required.custom(parseListOptions),\n                    value: p.required.raw,\n                    view: p.required.constant('list'),\n                    label: p.optional.string,\n                });\n                return result ? { params: result } : null;\n            },\n            controller(args) {\n                const ic = new ListController(args.document, {\n                    props: ValueMap.fromObject({\n                        options: normalizeListOptions(args.params.options),\n                    }),\n                    value: createValue(args.params.value),\n                    viewProps: args.viewProps,\n                });\n                return new LabeledValueController(args.document, {\n                    blade: args.blade,\n                    props: ValueMap.fromObject({\n                        label: args.params.label,\n                    }),\n                    valueController: ic,\n                });\n            },\n            api(args) {\n                if (!(args.controller instanceof LabeledValueController)) {\n                    return null;\n                }\n                if (!(args.controller.valueController instanceof ListController)) {\n                    return null;\n                }\n                return new ListApi(args.controller);\n            },\n        };\n    })();\n\n    /**\n     * @hidden\n     */\n    function exportPresetJson(targets) {\n        return targets.reduce((result, target) => {\n            return Object.assign(result, {\n                [target.presetKey]: target.read(),\n            });\n        }, {});\n    }\n    /**\n     * @hidden\n     */\n    function importPresetJson(targets, preset) {\n        targets.forEach((target) => {\n            const value = preset[target.presetKey];\n            if (value !== undefined) {\n                target.write(value);\n            }\n        });\n    }\n\n    class RootApi extends FolderApi {\n        /**\n         * @hidden\n         */\n        constructor(controller, pool) {\n            super(controller, pool);\n        }\n        get element() {\n            return this.controller_.view.element;\n        }\n        /**\n         * Imports a preset of all inputs.\n         * @param preset The preset object to import.\n         */\n        importPreset(preset) {\n            const targets = this.controller_.rackController.rack\n                .find(InputBindingController)\n                .map((ibc) => {\n                return ibc.binding.target;\n            });\n            importPresetJson(targets, preset);\n            this.refresh();\n        }\n        /**\n         * Exports a preset of all inputs.\n         * @return An exported preset object.\n         */\n        exportPreset() {\n            const targets = this.controller_.rackController.rack\n                .find(InputBindingController)\n                .map((ibc) => {\n                return ibc.binding.target;\n            });\n            return exportPresetJson(targets);\n        }\n        /**\n         * Refreshes all bindings of the pane.\n         */\n        refresh() {\n            // Force-read all input bindings\n            this.controller_.rackController.rack\n                .find(InputBindingController)\n                .forEach((ibc) => {\n                ibc.binding.read();\n            });\n            // Force-read all monitor bindings\n            this.controller_.rackController.rack\n                .find(MonitorBindingController)\n                .forEach((mbc) => {\n                mbc.binding.read();\n            });\n        }\n    }\n\n    class RootController extends FolderController {\n        constructor(doc, config) {\n            super(doc, {\n                expanded: config.expanded,\n                blade: config.blade,\n                props: config.props,\n                root: true,\n                viewProps: config.viewProps,\n            });\n        }\n    }\n\n    const SliderBladePlugin = {\n        id: 'slider',\n        type: 'blade',\n        accept(params) {\n            const p = ParamsParsers;\n            const result = parseParams(params, {\n                max: p.required.number,\n                min: p.required.number,\n                view: p.required.constant('slider'),\n                format: p.optional.function,\n                label: p.optional.string,\n                value: p.optional.number,\n            });\n            return result ? { params: result } : null;\n        },\n        controller(args) {\n            var _a, _b;\n            const v = (_a = args.params.value) !== null && _a !== void 0 ? _a : 0;\n            const vc = new SliderTextController(args.document, {\n                baseStep: 1,\n                parser: parseNumber,\n                sliderProps: ValueMap.fromObject({\n                    maxValue: args.params.max,\n                    minValue: args.params.min,\n                }),\n                textProps: ValueMap.fromObject({\n                    draggingScale: getSuitableDraggingScale(undefined, v),\n                    formatter: (_b = args.params.format) !== null && _b !== void 0 ? _b : numberToString,\n                }),\n                value: createValue(v),\n                viewProps: args.viewProps,\n            });\n            return new LabeledValueController(args.document, {\n                blade: args.blade,\n                props: ValueMap.fromObject({\n                    label: args.params.label,\n                }),\n                valueController: vc,\n            });\n        },\n        api(args) {\n            if (!(args.controller instanceof LabeledValueController)) {\n                return null;\n            }\n            if (!(args.controller.valueController instanceof SliderTextController)) {\n                return null;\n            }\n            return new SliderApi(args.controller);\n        },\n    };\n\n    const TextBladePlugin = (function () {\n        return {\n            id: 'text',\n            type: 'blade',\n            accept(params) {\n                const p = ParamsParsers;\n                const result = parseParams(params, {\n                    parse: p.required.function,\n                    value: p.required.raw,\n                    view: p.required.constant('text'),\n                    format: p.optional.function,\n                    label: p.optional.string,\n                });\n                return result ? { params: result } : null;\n            },\n            controller(args) {\n                var _a;\n                const ic = new TextController(args.document, {\n                    parser: args.params.parse,\n                    props: ValueMap.fromObject({\n                        formatter: (_a = args.params.format) !== null && _a !== void 0 ? _a : ((v) => String(v)),\n                    }),\n                    value: createValue(args.params.value),\n                    viewProps: args.viewProps,\n                });\n                return new LabeledValueController(args.document, {\n                    blade: args.blade,\n                    props: ValueMap.fromObject({\n                        label: args.params.label,\n                    }),\n                    valueController: ic,\n                });\n            },\n            api(args) {\n                if (!(args.controller instanceof LabeledValueController)) {\n                    return null;\n                }\n                if (!(args.controller.valueController instanceof TextController)) {\n                    return null;\n                }\n                return new TextApi(args.controller);\n            },\n        };\n    })();\n\n    function createDefaultWrapperElement(doc) {\n        const elem = doc.createElement('div');\n        elem.classList.add(ClassName('dfw')());\n        if (doc.body) {\n            doc.body.appendChild(elem);\n        }\n        return elem;\n    }\n    function embedStyle(doc, id, css) {\n        if (doc.querySelector(`style[data-tp-style=${id}]`)) {\n            return;\n        }\n        const styleElem = doc.createElement('style');\n        styleElem.dataset.tpStyle = id;\n        styleElem.textContent = css;\n        doc.head.appendChild(styleElem);\n    }\n    /**\n     * The root pane of Tweakpane.\n     */\n    class Pane extends RootApi {\n        constructor(opt_config) {\n            var _a;\n            const config = opt_config || {};\n            const doc = (_a = config.document) !== null && _a !== void 0 ? _a : getWindowDocument();\n            const pool = createDefaultPluginPool();\n            const rootController = new RootController(doc, {\n                expanded: config.expanded,\n                blade: createBlade(),\n                props: ValueMap.fromObject({\n                    title: config.title,\n                }),\n                viewProps: ViewProps.create(),\n            });\n            super(rootController, pool);\n            this.pool_ = pool;\n            this.containerElem_ = config.container || createDefaultWrapperElement(doc);\n            this.containerElem_.appendChild(this.element);\n            this.doc_ = doc;\n            this.usesDefaultWrapper_ = !config.container;\n            this.setUpDefaultPlugins_();\n        }\n        get document() {\n            if (!this.doc_) {\n                throw TpError.alreadyDisposed();\n            }\n            return this.doc_;\n        }\n        dispose() {\n            const containerElem = this.containerElem_;\n            if (!containerElem) {\n                throw TpError.alreadyDisposed();\n            }\n            if (this.usesDefaultWrapper_) {\n                const parentElem = containerElem.parentElement;\n                if (parentElem) {\n                    parentElem.removeChild(containerElem);\n                }\n            }\n            this.containerElem_ = null;\n            this.doc_ = null;\n            super.dispose();\n        }\n        registerPlugin(bundle) {\n            const plugins = 'plugin' in bundle\n                ? [bundle.plugin]\n                : 'plugins' in bundle\n                    ? bundle.plugins\n                    : [];\n            plugins.forEach((p) => {\n                this.pool_.register(p);\n                this.embedPluginStyle_(p);\n            });\n        }\n        embedPluginStyle_(plugin) {\n            if (plugin.css) {\n                embedStyle(this.document, `plugin-${plugin.id}`, plugin.css);\n            }\n        }\n        setUpDefaultPlugins_() {\n            // NOTE: This string literal will be replaced with the default CSS by Rollup at the compilation time\n            embedStyle(this.document, 'default', '.tp-lstv_s,.tp-btnv_b,.tp-p2dv_b,.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i,.tp-grlv_g,.tp-sglv_i,.tp-mllv_i,.tp-fldv_b,.tp-rotv_b,.tp-ckbv_i,.tp-coltxtv_ms,.tp-tbiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-lstv_s,.tp-btnv_b,.tp-p2dv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-lstv_s:hover,.tp-btnv_b:hover,.tp-p2dv_b:hover{background-color:var(--btn-bg-h)}.tp-lstv_s:focus,.tp-btnv_b:focus,.tp-p2dv_b:focus{background-color:var(--btn-bg-f)}.tp-lstv_s:active,.tp-btnv_b:active,.tp-p2dv_b:active{background-color:var(--btn-bg-a)}.tp-lstv_s:disabled,.tp-btnv_b:disabled,.tp-p2dv_b:disabled{opacity:0.5}.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-colswv_sw:hover,.tp-p2dpv_p:hover,.tp-txtv_i:hover{background-color:var(--in-bg-h)}.tp-colswv_sw:focus,.tp-p2dpv_p:focus,.tp-txtv_i:focus{background-color:var(--in-bg-f)}.tp-colswv_sw:active,.tp-p2dpv_p:active,.tp-txtv_i:active{background-color:var(--in-bg-a)}.tp-colswv_sw:disabled,.tp-p2dpv_p:disabled,.tp-txtv_i:disabled{opacity:0.5}.tp-grlv_g,.tp-sglv_i,.tp-mllv_i{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);width:100%}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono,Source Code Pro,Menlo,Courier,monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #2f3137);--bs-sh: var(--tp-base-shadow-color, rgba(0,0,0,0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #2f3137);--cnt-bg: var(--tp-container-background-color, rgba(187,188,196,0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187,188,196,0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187,188,196,0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187,188,196,0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(0,0,0,0.2));--in-bg-a: var(--tp-input-background-color-active, rgba(0,0,0,0.35));--in-bg-f: var(--tp-input-background-color-focus, rgba(0,0,0,0.3));--in-bg-h: var(--tp-input-background-color-hover, rgba(0,0,0,0.25));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187,188,196,0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0,0,0,0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187,188,196,0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(0,0,0,0.2))}.tp-fldv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-rotv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1 * var(--cnt-v-p))}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-rotv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-fldv_c>.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv{margin-left:4px}.tp-fldv_c>.tp-fldv>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c .tp-fldv>.tp-fldv_c,.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-tabv>.tp-tabv_i,.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-fldv_c .tp-tabv>.tp-tabv_c,.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_b,.tp-rotv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:calc(var(--cnt-h-p) + 8px);padding-right:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-fldv_b:hover,.tp-rotv_b:hover{background-color:var(--cnt-bg-h)}.tp-fldv_b:focus,.tp-rotv_b:focus{background-color:var(--cnt-bg-f)}.tp-fldv_b:active,.tp-rotv_b:active{background-color:var(--cnt-bg-a)}.tp-fldv_b:disabled,.tp-rotv_b:disabled{opacity:0.5}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:\\'\\';display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px) / 2 - 2px);margin:auto;opacity:0.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{transform:none}.tp-fldv_c,.tp-rotv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c,.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c{display:none}.tp-fldv.tp-fldv-expanded>.tp-fldv_c,.tp-rotv.tp-rotv-expanded .tp-rotv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-coltxtv_m,.tp-lstv{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-coltxtv_mm,.tp-lstv_m{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-coltxtv_mm svg,.tp-lstv_m svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-coltxtv_mm svg path,.tp-lstv_m svg path{fill:currentColor}.tp-coltxtv_w,.tp-pndtxtv{display:flex}.tp-coltxtv_c,.tp-pndtxtv_a{width:100%}.tp-coltxtv_c+.tp-coltxtv_c,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-pndtxtv_a{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:0.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:\\'\\';height:2px;left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us) * 4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,0.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,0.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br)}.tp-colswv.tp-v-disabled{opacity:0.5}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:\\'\\';display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us) * 3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left 0.05s, top 0.05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:0.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:0.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:0.5}.tp-mllv_i{display:block;height:calc(var(--bld-us) * 3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:0.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:0.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:\\'\\';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:\\'\\';display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:\\'\\';display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:0.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:\\'\\';height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:\\'\\';height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:0.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:0.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:0.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:\\'\\';height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:0.1;position:absolute;top:0;transition:border-radius 0.1s, height 0.1s, transform 0.1s, width 0.1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:\\'\\';font-size:0.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}');\n            this.pool_.getAll().forEach((plugin) => {\n                this.embedPluginStyle_(plugin);\n            });\n            this.registerPlugin({\n                plugins: [\n                    SliderBladePlugin,\n                    ListBladePlugin,\n                    TabBladePlugin,\n                    TextBladePlugin,\n                ],\n            });\n        }\n    }\n\n    const VERSION = new Semver('3.0.4');\n\n    exports.BladeApi = BladeApi;\n    exports.ButtonApi = ButtonApi;\n    exports.FolderApi = FolderApi;\n    exports.InputBindingApi = InputBindingApi;\n    exports.ListApi = ListApi;\n    exports.MonitorBindingApi = MonitorBindingApi;\n    exports.Pane = Pane;\n    exports.SeparatorApi = SeparatorApi;\n    exports.SliderApi = SliderApi;\n    exports.TabApi = TabApi;\n    exports.TabPageApi = TabPageApi;\n    exports.TextApi = TextApi;\n    exports.TpChangeEvent = TpChangeEvent;\n    exports.VERSION = VERSION;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","if(!t)var t={map:function(t,r){var n={};return r?t.map(function(t,o){return n.index=o,r.call(n,t)}):t.slice()},naturalOrder:function(t,r){return t<r?-1:t>r?1:0},sum:function(t,r){var n={};return t.reduce(r?function(t,o,e){return n.index=e,t+r.call(n,o)}:function(t,r){return t+r},0)},max:function(r,n){return Math.max.apply(null,n?t.map(r,n):r)}};var r=function(){var r=5,n=8-r,o=1e3;function e(t,n,o){return(t<<2*r)+(n<<r)+o}function i(t){var r=[],n=!1;function o(){r.sort(t),n=!0}return{push:function(t){r.push(t),n=!1},peek:function(t){return n||o(),void 0===t&&(t=r.length-1),r[t]},pop:function(){return n||o(),r.pop()},size:function(){return r.length},map:function(t){return r.map(t)},debug:function(){return n||o(),r}}}function u(t,r,n,o,e,i,u){this.r1=t,this.r2=r,this.g1=n,this.g2=o,this.b1=e,this.b2=i,this.histo=u}function a(){this.vboxes=new i(function(r,n){return t.naturalOrder(r.vbox.count()*r.vbox.volume(),n.vbox.count()*n.vbox.volume())})}function s(r,n){if(n.count()){var o=n.r2-n.r1+1,i=n.g2-n.g1+1,u=t.max([o,i,n.b2-n.b1+1]);if(1==n.count())return[n.copy()];var a,s,h,c,f=0,v=[],l=[];if(u==o)for(a=n.r1;a<=n.r2;a++){for(c=0,s=n.g1;s<=n.g2;s++)for(h=n.b1;h<=n.b2;h++)c+=r[e(a,s,h)]||0;v[a]=f+=c}else if(u==i)for(a=n.g1;a<=n.g2;a++){for(c=0,s=n.r1;s<=n.r2;s++)for(h=n.b1;h<=n.b2;h++)c+=r[e(s,a,h)]||0;v[a]=f+=c}else for(a=n.b1;a<=n.b2;a++){for(c=0,s=n.r1;s<=n.r2;s++)for(h=n.g1;h<=n.g2;h++)c+=r[e(s,h,a)]||0;v[a]=f+=c}return v.forEach(function(t,r){l[r]=f-t}),function(t){var r,o,e,i,u,s=t+\"1\",h=t+\"2\",c=0;for(a=n[s];a<=n[h];a++)if(v[a]>f/2){for(e=n.copy(),i=n.copy(),u=(r=a-n[s])<=(o=n[h]-a)?Math.min(n[h]-1,~~(a+o/2)):Math.max(n[s],~~(a-1-r/2));!v[u];)u++;for(c=l[u];!c&&v[u-1];)c=l[--u];return e[h]=u,i[s]=e[h]+1,[e,i]}}(u==o?\"r\":u==i?\"g\":\"b\")}}return u.prototype={volume:function(t){return this._volume&&!t||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(t){var r=this.histo;if(!this._count_set||t){var n,o,i,u=0;for(n=this.r1;n<=this.r2;n++)for(o=this.g1;o<=this.g2;o++)for(i=this.b1;i<=this.b2;i++)u+=r[e(n,o,i)]||0;this._count=u,this._count_set=!0}return this._count},copy:function(){return new u(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(t){var n=this.histo;if(!this._avg||t){var o,i,u,a,s=0,h=1<<8-r,c=0,f=0,v=0;for(i=this.r1;i<=this.r2;i++)for(u=this.g1;u<=this.g2;u++)for(a=this.b1;a<=this.b2;a++)s+=o=n[e(i,u,a)]||0,c+=o*(i+.5)*h,f+=o*(u+.5)*h,v+=o*(a+.5)*h;this._avg=s?[~~(c/s),~~(f/s),~~(v/s)]:[~~(h*(this.r1+this.r2+1)/2),~~(h*(this.g1+this.g2+1)/2),~~(h*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(t){var r=t[0]>>n;return gval=t[1]>>n,bval=t[2]>>n,r>=this.r1&&r<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},a.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var r=this.vboxes,n=0;n<r.size();n++)if(r.peek(n).vbox.contains(t))return r.peek(n).color;return this.nearest(t)},nearest:function(t){for(var r,n,o,e=this.vboxes,i=0;i<e.size();i++)((n=Math.sqrt(Math.pow(t[0]-e.peek(i).color[0],2)+Math.pow(t[1]-e.peek(i).color[1],2)+Math.pow(t[2]-e.peek(i).color[2],2)))<r||void 0===r)&&(r=n,o=e.peek(i).color);return o},forcebw:function(){var r=this.vboxes;r.sort(function(r,n){return t.naturalOrder(t.sum(r.color),t.sum(n.color))});var n=r[0].color;n[0]<5&&n[1]<5&&n[2]<5&&(r[0].color=[0,0,0]);var o=r.length-1,e=r[o].color;e[0]>251&&e[1]>251&&e[2]>251&&(r[o].color=[255,255,255])}},{quantize:function(h,c){if(!h.length||c<2||c>256)return!1;var f=function(t){var o,i=new Array(1<<3*r);return t.forEach(function(t){o=e(t[0]>>n,t[1]>>n,t[2]>>n),i[o]=(i[o]||0)+1}),i}(h);f.forEach(function(){});var v=function(t,r){var o,e,i,a=1e6,s=0,h=1e6,c=0,f=1e6,v=0;return t.forEach(function(t){(o=t[0]>>n)<a?a=o:o>s&&(s=o),(e=t[1]>>n)<h?h=e:e>c&&(c=e),(i=t[2]>>n)<f?f=i:i>v&&(v=i)}),new u(a,s,h,c,f,v,r)}(h,f),l=new i(function(r,n){return t.naturalOrder(r.count(),n.count())});function g(t,r){for(var n,e=t.size(),i=0;i<o;){if(e>=r)return;if(i++>o)return;if((n=t.pop()).count()){var u=s(f,n),a=u[0],h=u[1];if(!a)return;t.push(a),h&&(t.push(h),e++)}else t.push(n),i++}}l.push(v),g(l,.75*c);for(var p=new i(function(r,n){return t.naturalOrder(r.count()*r.volume(),n.count()*n.volume())});l.size();)p.push(l.pop());g(p,c);for(var b=new a;p.size();)b.push(p.pop());return b}}}().quantize,n=function(t){this.canvas=document.createElement(\"canvas\"),this.context=this.canvas.getContext(\"2d\"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};n.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var o=function(){};o.prototype.getColor=function(t,r){return void 0===r&&(r=10),this.getPalette(t,5,r)[0]},o.prototype.getPalette=function(t,o,e){var i=function(t){var r=t.colorCount,n=t.quality;if(void 0!==r&&Number.isInteger(r)){if(1===r)throw new Error(\"colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()\");r=Math.max(r,2),r=Math.min(r,20)}else r=10;return(void 0===n||!Number.isInteger(n)||n<1)&&(n=10),{colorCount:r,quality:n}}({colorCount:o,quality:e}),u=new n(t),a=function(t,r,n){for(var o=t,e=[],i=0,u=void 0,a=void 0,s=void 0,h=void 0,c=void 0;i<r;i+=n)a=o[0+(u=4*i)],s=o[u+1],h=o[u+2],(void 0===(c=o[u+3])||c>=125)&&(a>250&&s>250&&h>250||e.push([a,s,h]));return e}(u.getImageData().data,u.width*u.height,i.quality),s=r(a,i.colorCount);return s?s.palette():null},o.prototype.getColorFromUrl=function(t,r,n){var o=this,e=document.createElement(\"img\");e.addEventListener(\"load\",function(){var i=o.getPalette(e,5,n);r(i[0],t)}),e.src=t},o.prototype.getImageData=function(t,r){var n=new XMLHttpRequest;n.open(\"GET\",t,!0),n.responseType=\"arraybuffer\",n.onload=function(){if(200==this.status){var t=new Uint8Array(this.response);i=t.length;for(var n=new Array(i),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);var e=n.join(\"\"),u=window.btoa(e);r(\"data:image/png;base64,\"+u)}},n.send()},o.prototype.getColorAsync=function(t,r,n){var o=this;this.getImageData(t,function(t){var e=document.createElement(\"img\");e.addEventListener(\"load\",function(){var t=o.getPalette(e,5,n);r(t[0],this)}),e.src=t})};export default o;\n","module.exports=\"#define GLSLIFY 1\\nattribute vec2 uv;\\nattribute vec2 position;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n  gl_Position = vec4(position, 0.0, 1.0);\\n\\n  vUv = uv;\\n}\\n\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform float uTime;\\nuniform float uProgress;\\nuniform vec2 uResolution;\\nuniform vec2 uGridSize;\\nuniform sampler2D uTexture0;\\nuniform vec2 uTexture0Size;\\nuniform sampler2D uTexture1;\\nuniform vec2 uTexture1Size;\\nuniform sampler2D uNoiseTexture;\\nuniform vec3 uBackground0[2];\\nuniform vec3 uBackground1[2];\\nuniform float uAnimationDirection;\\n\\nvarying vec2 vUv;\\n\\n#define PI 3.14159265359\\n#define TWO_PI 6.28318530718\\n\\nfloat Shape(in vec2 st, in vec2 p, in float size, in float sides, in float blur) {\\n  vec2 pos = vec2(p) - st;\\n  float a = atan(pos.x, pos.y) + PI;\\n  float r = TWO_PI / sides;\\n  float d = cos(floor(.5 + a/r)*r - a) * length(pos);\\n\\n  float color = smoothstep(size + blur, size - blur, d);\\n\\n  return color;\\n}\\n\\nmat2 Rotate(float angle) {\\n  float s = sin(angle);\\n  float c = cos(angle);\\n\\n  return mat2(c, -s, s, c);\\n}\\n\\n// Stolen from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44\\nvec2 Cover(vec2 uv, vec2 screenSize, vec2 imageSize) {\\n  vec2 s = screenSize;\\n  vec2 i = imageSize;\\n\\n  float rs = s.x / s.y;\\n  float ri = i.x / i.y;\\n\\n  vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);\\n  vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;\\n  vec2 st = uv * s / new + offset;\\n\\n  return st;\\n}\\n\\nfloat Random(float n) {\\n  return fract(sin(n) * 43758.5453123);\\n}\\n\\nfloat Random(vec2 p) {\\n  p = fract(p * vec2(123.34, 456.21));\\n  p += dot(p, p+45.32);\\n  return fract(p.x * p.y);\\n}\\n\\nvec3 blendNormal(vec3 base, vec3 blend) {\\n\\treturn blend;\\n}\\n\\nvec3 blendNormal(vec3 base, vec3 blend, float opacity) {\\n\\treturn (blendNormal(base, blend) * opacity + base * (1.0 - opacity));\\n}\\n\\nfloat Triangle(vec2 uv, vec2 position, float size) {\\n  float sides = 3.0;\\n  float blur = 0.001;\\n\\n  return Shape(uv, position, size, sides, blur);\\n}\\n\\nfloat Tiles(vec2 uv, float progress) {\\n  float result = 0.0;\\n\\n  // Create a new set of UVs to apply a rotation matrix to, and\\n  // use them to create the grid.\\n  mat2 rotateUV = Rotate(PI*0.03 + PI*mix(0.0, 0.04, progress*uAnimationDirection));\\n  vec2 uv2 = uv*rotateUV;\\n\\n  // This makes the UVs repeat infinitely on both axes\\n  // depending on how many times the UVs are multiplied,\\n  // creating the illusion of a grid.\\n  // \\\"gv\\\" stands for \\\"grid UV\\\".\\n  vec2 gv = fract(uv2*5.0 + 0.25);\\n\\n  // Get a unique identifier for each tile\\n  vec2 id = floor(uv2*5.0 + 0.25);\\n\\n  // For each tile, loop through its neighbor tiles (+ itself) and\\n  // draw a triangle in each one of them.\\n  // This gives the illusion that what's drawn goes past the boundaries.\\n  for (float y = -1.0; y <= 1.0; y++) {\\n    for (float x = -1.0; x <= 1.0; x++) {\\n      // Get the coordinates of the neighbor tile\\n      vec2 tileOffset = vec2(x, y);\\n\\n      // Get a unique identifier of each triangle\\n      vec2 triangleID = id + tileOffset;\\n\\n      // Shift the tile by half of its width on even rows\\n      vec2 tileShift = vec2(mod(triangleID.y, 2.0)*0.5, 0.0);\\n\\n      // Offset each triangle by a value that goes from -1.0 to +1.0\\n      float randomOffsetX = Random(triangleID.y);\\n      randomOffsetX = (randomOffsetX - 0.5) * 2.0;\\n\\n      float randomOffsetY = Random(triangleID.x);\\n      randomOffsetY = (randomOffsetY - 0.5) * 2.0;\\n\\n      vec2 randomOffset = vec2(randomOffsetX, randomOffsetY)*0.1;\\n\\n      // Determine if the current triangle can be drawn or not\\n      float isVisible = step(abs(triangleID.x), uGridSize.x);\\n      isVisible *= step(abs(triangleID.y), uGridSize.y);\\n\\n      // Set the alpha value of each triangle using the `progress` parameter\\n      float fadeStart = clamp(Random(triangleID), 0.1, 0.9);\\n      float alpha = smoothstep(fadeStart, 0., progress);\\n\\n      // Determine the size of each triangle using the `progress` parameter\\n      float sizeFactor = min(Random(triangleID), 0.55);\\n\\n      // Get the normalized distance of the current triangle from the center of the\\n      // screen to add it to the scale of the triangle.\\n      float dist = distance(vec2(0.0), triangleID) / max(uGridSize.x, uGridSize.y);\\n      dist *= 0.15;\\n\\n      float size = mix(0.26, 0.9, progress*sizeFactor)+dist;\\n\\n      // Apply a random rotation between -PI and +PI to each triangle\\n      float triangleAnimationRotation = PI*((Random(triangleID.yx) - 0.5) * 2.0)*0.1*progress*uAnimationDirection; // Additional rotation during animation\\n      mat2 triangleRandomRotation = Rotate(triangleAnimationRotation+PI*(Random(triangleID) - 0.5)*2.0);\\n\\n      /*\\n       * Draw the triangles pointing down\\n       */\\n      vec2 rotatedGV = (gv - vec2(0.0, 0.4) - tileOffset - tileShift - randomOffset - 0.5)*triangleRandomRotation + 0.5;\\n      float d = Triangle(rotatedGV, vec2(0.5), size);\\n      d *= isVisible;\\n      d *= alpha;\\n\\n      /*\\n       * Draw the triangles pointing up\\n       */\\n\\n      // Create a new set of UVs named `st` and rotate them around their center\\n      vec2 st = (gv - tileOffset - tileShift - randomOffset)*triangleRandomRotation + 0.5;\\n\\n      // Add the triangle\\n      float u = Triangle(st, vec2(0.5, 0.4), size);\\n      u *= isVisible;\\n      u *= alpha;\\n\\n      result += d+u;\\n    }\\n  }\\n\\n  // Create a mask of the size of the grid that is used to display the full image\\n  float fullImageMask = step(abs(id.x) + 0.5, uGridSize.x);\\n  fullImageMask *= step(abs(id.y), uGridSize.y);\\n\\n  // \\\"Mask\\\" it with the value of the triangles' grid.\\n  // This basically creates holes in the mask.\\n  // This step is needed because we will add this mask with the triangles, otherwise\\n  // The final result would have areas much more luminous than the normal.\\n  fullImageMask *= 1.0 - (result * mix(1.0, 0.5, abs(progress*2.0)));\\n\\n  // Set the alpha value of this mask using the `progress` parameter.\\n  fullImageMask *= smoothstep(0.85, 0.5, abs(progress));\\n\\n  result += fullImageMask;\\n\\n  return result;\\n}\\n\\nvoid main() {\\n  // UV coordinates that go from -1 to +1,\\n  // useful to easily align things at the center of the screen.\\n  vec2 uv = vUv*2.0 - 1.0;\\n  uv.x *= uResolution.x / uResolution.y;\\n\\n  vec3 color = vec3(0.0);\\n\\n  // Animation progress for the image's mask\\n  float progress0 = smoothstep(0.15, 0.85, uProgress); // [0 .. 1]\\n  float progress1 = smoothstep(0.25, 0.95, uProgress) - 1.0; // [-1 .. 0]\\n\\n  // Create the masks with the triangles\\n  float mask0 = Tiles(uv, progress0);\\n  float mask1 = Tiles(uv, progress1);\\n\\n  // Create the textures\\n  vec2 coverUV = Cover(vUv, uResolution, uTexture0Size);\\n  coverUV = (coverUV - 0.5)*mix(1.0, 1.15, smoothstep(0.1, 0.7, uProgress)) + 0.5; // Scale from 1.0 to 1.05\\n  vec4 tex0 = texture2D(uTexture0, coverUV);\\n\\n  coverUV = Cover(vUv, uResolution, uTexture1Size);\\n  coverUV = (coverUV - 0.5)*mix(0.85, 1.0, smoothstep(0.4, 1.0, uProgress)) + 0.5; // Scale from 0.95 to 1.0\\n  vec4 tex1 = texture2D(uTexture1, coverUV);\\n\\n  // Background noise texture\\n  vec2 bgNoiseUV = uv;\\n  bgNoiseUV *= 0.25; // Make it bigger\\n  bgNoiseUV *= Rotate(PI*0.25); // Rotate by 1/4 PI\\n  bgNoiseUV += vec2(uTime*0.01, -uTime*0.03); // Animate the coordinates\\n  vec3 bgNoise = texture2D(uNoiseTexture, bgNoiseUV).rgb;\\n\\n  // Set the two background layers.\\n  // Each layer's color is a mix of the primary and\\n  // secondary color based on the value of the noise.\\n  // The colors are divided by 255 because their\\n  // Original value goes from 0 to 255, while in\\n  // GLSL colors go from 0 to 1.\\n  vec3 background0 = mix(uBackground0[0] / 255., uBackground0[1] / 255., bgNoise);\\n  vec3 background1 = mix(uBackground1[0] / 255., uBackground1[1] / 255., bgNoise);\\n\\n  // \\\"Layers\\\" are just the textures with the masks applied\\n  vec4 layer0 = tex0*mask0;\\n  vec4 layer1 = tex1*mask1;\\n\\n  // \\\"Slides\\\" are simply the background textures with\\n  // the layers on top of them\\n  vec3 slide0 = blendNormal(background0, layer0.rgb, layer0.a);\\n  vec3 slide1 = blendNormal(background1, layer1.rgb, layer1.a);\\n\\n  // Display one slide or the other based on the value of `uProgress`\\n  color = mix(slide0, slide1, smoothstep(0.5, 0.85, uProgress));\\n\\n  gl_FragColor = vec4(color, 1.0);\\n}\\n\";","import { Renderer, Program, Mesh, Triangle, Vec2, Texture } from 'ogl'\nimport { gsap } from 'gsap'\nimport { Pane } from 'tweakpane'\nimport ColorThief from 'colorthief'\n\nclass WebGLCarousel {\n  constructor() {\n    this.wrapper = document.querySelector('[data-canvas-wrapper]')\n\n    this.texturesURLs = [\n      './images/1.jpg',\n      './images/2.jpg',\n      './images/3.jpg',\n      './images/4.jpg'   \n    ]\n\n    this.state = {\n      isAnimating: false,\n      currentTextureIndex: 0,\n      texture0: null,\n      texture1: null\n    }\n\n    this.ui = {\n      buttons: document.querySelectorAll('[data-carousel-control]'),\n      slides: document.querySelectorAll('[data-slide]')\n    }\n  }\n\n  init() {\n    this._createRenderer()\n\n    this._loadTextures()\n      .then(() => {\n        this._createScene()\n        this._createDebugPanel()\n        this._addListeners()\n        this._onResize()\n\n        gsap.ticker.add(() => {\n          this.program.uniforms.uTime.value += 0.1\n\n          this.program.uniforms.uTexture0Size.value = new Vec2(\n            this.state.texture0.width,\n            this.state.texture0.height\n          )\n\n          this.program.uniforms.uTexture1Size.value = new Vec2(\n            this.state.texture1.width,\n            this.state.texture1.height\n          )\n\n          this.renderer.render({ scene: this.mesh })\n        })\n      })\n  }\n\n  _createRenderer() {\n    this.renderer = new Renderer()\n    this.gl = this.renderer.gl\n\n    this.wrapper.appendChild(this.gl.canvas)\n\n    this.gl.clearColor(1, 1, 1, 1)\n  }\n\n  _createScene() {\n    this.geometry = new Triangle(this.gl)\n\n    this.program = new Program(this.gl, {\n      vertex: require('./shaders/effect.vertex.glsl'),\n      fragment: require('./shaders/effect.fragment.glsl'),\n      uniforms: {\n        uProgress: { value: 0 },\n        uResolution: {\n          value: new Vec2(\n            this.gl.canvas.clientWidth,\n            this.gl.canvas.clientHeight\n          )\n        },\n        uGridSize: {\n          value: new Vec2(4, 8)\n        },\n        uTexture0: {\n          value: this.state.texture0\n        },\n        uTexture0Size: {\n          value: new Vec2(\n            this.state.texture0.width,\n            this.state.texture0.height\n          )\n        },\n        uTexture1: {\n          value: this.state.texture1\n        },\n        uTexture1Size: {\n          value: new Vec2(\n            this.state.texture1.width,\n            this.state.texture1.height\n          )\n        },\n        uNoiseTexture: {\n          value: this.noiseTexture\n        },\n        uBackground0: {\n          value: [\n            this.colors[0].primary,\n            this.colors[0].secondary\n          ]\n        },\n        uBackground1: {\n          value: [\n            this.colors[1].primary,\n            this.colors[1].secondary\n          ]\n        },\n        uTime: { value: 0 },\n        uAnimationDirection: { value: 1 }\n      }\n    })\n\n    this.mesh = new Mesh(this.gl, {\n      geometry: this.geometry,\n      program: this.program\n    })\n  }\n\n  /**\n   * Load an image as an OGL `Texture` object.\n   *\n   * @method _loadTexture()\n   *\n   * @param {String} url The URL of the image to load.\n   * @param {Object} params The OGL configuration object for the `Texture` to load\n   *\n   * @returns `Promise` with the `Texture` object when the texture has been loaded\n   */\n   _loadTexture(url, params = {}) {\n    return new Promise(resolve => {\n      const img = new Image()\n      img.src = url\n\n      img.onload = () => {\n        const texture = new Texture(this.gl, {\n          ...params,\n          image: img\n        })\n\n        resolve(texture)\n      }\n    })\n  }\n\n  /**\n   * Load all the images from the `this.texturesURLs` array and the noise texture.\n   *\n   * @method _loadTextures()\n   *\n   * @returns `Promise` when all the images have been loaded.\n   */\n   _loadTextures() {\n    return new Promise(resolve => {\n      const textures = this.texturesURLs.map(url => this._loadTexture(url))\n      const colorThief = new ColorThief()\n\n      Promise\n        // Load the images for the carousel\n        .all(textures)\n        .then(res => {\n          // Fill an array of colors for each texture\n          // to use for the background\n          this.colors = res.map(e => {\n            return ({\n              primary: colorThief.getColor(e.image),\n              secondary: colorThief.getPalette(e.image)[3]\n            })\n          })\n\n          this.textures = res\n          this.state.texture0 = res[0]\n          this.state.texture1 = res[1]\n        })\n\n        // Load the noise texture\n        .then(() => {\n          return this._loadTexture('/images/Noise_18.jpg', {\n            wrapS: this.gl.REPEAT,\n            wrapT: this.gl.REPEAT\n          })\n        })\n        .then(res => {\n          this.noiseTexture = res\n          resolve()\n        })\n    })\n  }\n\n  _createDebugPanel() {\n    const pane = new Pane()\n\n    pane.addInput(this.program.uniforms.uProgress, 'value', { label: 'uProgress', min: 0, max: 1, step: 0.01 })\n\n    pane.addInput(this.program.uniforms.uGridSize.value, 'x', { label: 'Grid size X', min: 0, max: 20, step: 1 })\n    pane.addInput(this.program.uniforms.uGridSize.value, 'y', { label: 'Grid size Y', min: 0, max: 20, step: 1 })\n  }\n\n  _addListeners() {\n    window.addEventListener('resize', this._onResize.bind(this), { passive: true })\n\n    for (const button of this.ui.buttons) {\n      button.addEventListener('click', this._onButtonClick.bind(this), { passive: true })\n    }\n  }\n\n  /**\n   * Animate the carousel towards the next slide.\n   *\n   * @method _onButtonClick()\n   *\n   * @param {Event} e The event triggered by the click on the button.\n   */\n   _onButtonClick(e) {\n    // Do nothing if an animation is already running\n    if (this.state.isAnimating) return\n\n    // Get the direction of the clicked button (defaults to 1)\n    const direction = Number(e.currentTarget.dataset.dir ?? 1)\n\n    // Define the index of the texture that will be set as texture1\n    let nextTextureIndex = this.state.currentTextureIndex + direction\n\n    if (nextTextureIndex < 0)\n      nextTextureIndex = this.textures.length - 1\n\n    if (nextTextureIndex >= this.textures.length)\n      nextTextureIndex = 0\n\n    const currentSlide = this.ui.slides[this.state.currentTextureIndex]\n    const currentSlideTitle = currentSlide.querySelector('[data-slide-title]')\n    const currentSlideCopy = currentSlide.querySelector('[data-slide-copy]')\n\n    const nextSlide = this.ui.slides[nextTextureIndex]\n    const nextSlideTitle = nextSlide.querySelector('[data-slide-title]')\n    const nextSlideCopy = nextSlide.querySelector('[data-slide-copy]')\n\n    const tl = new gsap.timeline({\n      onStart: () => {\n        // Prevent any other animation from starting\n        this.state.isAnimating = true\n\n        // Define the direction of the rotation during the transition\n        this.program.uniforms.uAnimationDirection.value = direction\n\n        // Set the next texture to display\n        this.state.texture1 = this.textures[nextTextureIndex]\n        this.program.uniforms.uTexture1.value = this.state.texture1\n\n        // Set the background colors of the next slide\n        this.program.uniforms.uBackground1.value = [\n          this.colors[nextTextureIndex].primary,\n          this.colors[nextTextureIndex].secondary\n        ]\n      },\n      onComplete: () => {\n        // Re-enable animations\n        this.state.isAnimating = false\n\n        // Reset the `uProgress` uniform ...\n        this.program.uniforms.uProgress.value = 0\n\n        // ... and set what was only the next texture as current texture\n        this.state.texture0 = this.textures[nextTextureIndex]\n        this.program.uniforms.uTexture0.value = this.state.texture0\n\n        // Same thing with the background colors\n        this.program.uniforms.uBackground0.value = [\n          this.colors[nextTextureIndex].primary,\n          this.colors[nextTextureIndex].secondary\n        ]\n\n        // End of the animation. Set the new texture's index as the current one.\n        this.state.currentTextureIndex = nextTextureIndex\n      }\n    })\n\n    tl\n      .add('start')\n      .to(currentSlideTitle, {\n        '--progress': 110,\n        duration: 0.5\n      })\n      .fromTo(nextSlideTitle, { '--progress': -110 }, {\n        '--progress': 0,\n        duration: 1\n      }, '<0.1')\n\n      .to(currentSlideCopy, { opacity: 0, duration: 0.35 }, 'start+=0.1')\n      .to(nextSlideCopy, { opacity: 1, duration: 0.5 }, '>')\n\n      .to(this.program.uniforms.uProgress, {\n        value: 1,\n        duration: 1.5\n      }, 'start')\n  }\n\n  _onResize() {\n    this.renderer.setSize(this.wrapper.clientWidth, this.wrapper.clientHeight)\n\n    // Update the uResolution uniform\n    this.program.uniforms.uResolution.value = new Vec2(\n      this.gl.canvas.clientWidth,\n      this.gl.canvas.clientHeight\n    )\n  }\n}\n\nconst app = new WebGLCarousel()\napp.init()\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}